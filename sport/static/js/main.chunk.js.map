{"version":3,"sources":["components/select/datePick.js","biz/common/indicates/area.js","components/common/table/queryCond.js","components/common/form/field.js","components/pops/editableField.js","components/icon/index.js","entry/index/routes/modals/loginModal.js","entry/index/routes/modals/hotline.js","entry/index/routes/Menu.js","common/ws.js","entry/index/routes/modals/richEditorDrawer.js","entry/index/routes/IndexPage.js","common/common.js","components/select/index.js","components/common/table/grid.js","components/common/table/table.js","components/common/form/form.js","components/common/index.js","biz sync /^/.*/index/.js$","biz/game/ballMate/index.js","biz/operate/ballRoom/index.js","biz/operate/memberBill/index.js","biz/sys/config/index.js","biz/sys/optLog/index.js","biz/sys/sysRole/index.js","biz/task/index.js","biz/common/fields/coach.js","biz/train/student/addStudentModal.js","biz/train/student/modifyStudentModal.js","biz/common/fields/sportType.js","biz/train/student/studentConsumeModal.js","biz/train/student/courseListDrawer.js","biz/train/student/rechargeStudentModal.js","biz/train/student/index.js","biz/operate/member/addMemberModal.js","biz/operate/member/modifyMemberModal.js","biz/operate/member/memberConsumeModal.js","biz/operate/member/index.js","registerServiceWorker.js","index.js","biz/bill/queryBill/billModal.js","biz/bill/queryBill/index.js","components/pops/saveParams.js","biz/common/indicates/index.js","biz/contact/contact.js","biz/contact/index.js","biz/game/game/gameModal.js","biz/game/game/index.js","biz/sys/sysUser/changePass.js","biz/sys/sysUser/index.js","biz/train/class/classStudentListDrawer.js","biz/train/class/index.js","biz/train/coach/settlementDrawer.js","biz/train/coach/index.js","interfaces/interfaces.js","biz/common/fields/upload.js","biz/common/fields/money.js","biz/common/fields/phone.js","components/select/selectTable.js"],"names":["BizComp","_this","Object","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","this","_len","arguments","length","args","Array","_key","_super","call","apply","concat","onRadioChange","e","value","target","thisRangeValue","rangeValue","state","now","Date","customRangeVisible","util","formatDate","moment","month","startOf","valueOf","format","endOf","undefined","props","onChange","setState","onRangeChange","preProps","customTimeShow","_this2","_this$state","_this$props","validValues","modeType","react__WEBPACK_IMPORTED_MODULE_13___default","a","createElement","Fragment","antd_es_select__WEBPACK_IMPORTED_MODULE_7__","style","position","size","indexOf","Option","onClick","antd_es_popover__WEBPACK_IMPORTED_MODULE_3__","title","visible","content","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__","RangePicker","disabledDate","current","trigger","antd_es_radio__WEBPACK_IMPORTED_MODULE_1__","Group","Button","className","Component","defaultProps","provK","pca","provName","cityK","replace","pcaa","BizComponent","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","context","formValues","useName","provs","citys","countys","prov","city","county","react__WEBPACK_IMPORTED_MODULE_7___default","ref","el","areaUi","antd_es_select__WEBPACK_IMPORTED_MODULE_1__","assign","getField","showSearch","optionFilterProp","placeholder","allowClear","keys","map","it","idx","key","getDisplayText","antd_es_form__WEBPACK_IMPORTED_MODULE_15__","Item","QueryCond","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","getQueryParam","beforeQuery","onQueryCondQuery","retainPage","type","emitter","emit","config","queryParam","k","trim","_convertFormValues","getExtButtons","extButtons","queryCond","isArray","on","cb","conditions","react__WEBPACK_IMPORTED_MODULE_16___default","idx1","antd_es_row__WEBPACK_IMPORTED_MODULE_5__","condition","idx2","curConditon","fields","forEach","field","label","shouldDisplay","antd_es_col__WEBPACK_IMPORTED_MODULE_8__","sm","_form_field__WEBPACK_IMPORTED_MODULE_17__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","options","v","onKeyDown","hideButtons","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","create","antd_es_radio__WEBPACK_IMPORTED_MODULE_16__","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","antd_es_select__WEBPACK_IMPORTED_MODULE_12__","Field","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","disabled","optType","editableInModify","enums","mode","multi","react__WEBPACK_IMPORTED_MODULE_17___default","multiple","text","dictCode","_select__WEBPACK_IMPORTED_MODULE_18__","TextArea","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","rows","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","showTime","getComponent","antd_es_input_number__WEBPACK_IMPORTED_MODULE_1__","CommonComp","onEditClick","mask","substring","status","setTimeout","focus","onBlur","onCall","callee","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__","contactType","react__WEBPACK_IMPORTED_MODULE_14___default","antd_es_input__WEBPACK_IMPORTED_MODULE_7__","onPressEnter","antd_es_select__WEBPACK_IMPORTED_MODULE_5__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_3__","okText","cancelText","onConfirm","tuomin","href","antd_es_icon__WEBPACK_IMPORTED_MODULE_1__","components_icon","_react_16_14_0_react_default","aria-hidden","TestModal","classCallCheck","handleLogin","validFields","registerTag","validateFields","assertThisInitialized","values","verifyId","phone","pass","name","tenantId","verifyCode","ajaxJson","getPrefix","noErrAlert","result","success","data","errMsg","tenants","loginGo","message","error","guid","res","window","sessionStorage","setItem","id","minAjax","url","productPrefix","startsWith","prefix","toRegister","handleCancel","_ref","body","firstLogin","account","getItem","pwd","isProd","formItemLayout","labelCol","xs","span","wrapperCol","carousel","autoplay","modal","wrapClassName","top","width","onCancel","maskClosable","footer","es_button","es_form","input","bind","rules","validator","required","test","src","alt","es_select","getPopupContainer","document","querySelector","tenantName","SubMenu","menu","getTitleByKey","icon","loginMenus","lm","children","lc","changeCurrentMenu","handleClick","localStorage","menus","filter","parentCode","sort","b","num","menuObj","JSON","parse","ext","code","subMenus","subIt","lastActiveMenuKey","openKeys","onOpenChange","selectedKeys","inlineIndent","loop","item","heartbeatInterval","onSave","ue","getContent","rec","fieldValues","onClose","onCloseConfirm","isModified","confirm","onOk","_ref$width","_ref$content","defaultValue","setContent","UE","getEditor","ready","addListener","drawer","placement","height","popconfirm","ws","createWebSocket","WebSocket","MozWebSocket","onclose","err","console","log","reconnect","onerror","onopen","onmessage","event","dataObj","time","location","reload","handleMsg","initEventHandle","clearInterval","setInterval","_stopWebsocketHeartBeat","send","lockReconnect","encodeURIComponent","mixStr","stringify","domain","rooms","role","allRoles","allStaffs","urls","coaches","isAdmin","tenant","tenantConfig","TabPane","tabs","IndexPage","initUserInfo","urlPrefix","tconfig","majorCoachRate","coachRate","init","onMenuClick","comp","require","default","panes","activeKey","fps","p","push","onTabChange","indexMenu","onTabEdit","targetKey","action","_this$state2","user","userName","warn","_this$state3","Menu_BizComponent","hideAdd","onEdit","pane","Comp","tab","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","ajaxJsonAsync","stop","loginModal_TestModal","richEditorDrawer_BizComponent","EventEmitter","setMaxListeners","emitterOn","listner","removeAllListeners","ons","_parentUtil","cond","parent","parentNode","classList","contains","matched","styles","getComputedStyle","_showFieldError","isValid","msg","remove","explain","childNodes","innerText","add","errorMsgEl","appendChild","currentFormItemControl","formItem","tagName","onfocus","display","onblur","_getFormElementByFieldName","fieldName","ognlPrefix","pContainer","eles","querySelectorAll","getUniqClassName","idPrefix","newEles","i","_triggerFieldValidation","asyncCount","rule","contextVal","onlyOnce","Error","isFormFiledsValid","fieldProp","getEventTargetValue","noChineseSymbol","fv","checked","getSubField","_this3","clearValidateFields","hasOwnProperty","fieldVal","callback","_this4","vf","validateKeys","vkey","validCount","valid","newFormValues","formValue","_isAMomentObject","showFieldError","component","ops","form2js","nameValues","skipEmpty","j","l","nameParts","currResult","arrNameFull","arrName","arrIdx","namePart","_nameParts","arrays","sortedNameValues","_i2","_keys","split","match","substr","js2form","obj","results","_js2formResults","formObj","lvl","_getSubValues","subObj","itemName","tempItem","tempResult","getUrlParams","search","theRequest","strs","pair","decodeURIComponent","ajax","successCallback","async","xhrFields","withCredentials","xhr","response","post","errorCallback","dataStr","hash","preEnv","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","contentType","failMessage","Promise","isEmpty","getStringValue","convertStr2Num","domElement","getElementById","maskElement","unmask","date","shortYear","getFullYear","y","M","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","c","r","Math","random","toString","getFileBase64","file","resolve","reject","reader","FileReader","readAsDataURL","onload","round","number","isNaN","getShortDate","timestamp","short","getTime","abs","fd","setAllNum2Str","count","isChinese","repeat","dotStr","RegExp","$1","exec","convertToChinaNum","arr1","arr2","english","des_i","encode","str","btoa","unescape","decode","escape","atob","getJSONString","eval","getJSON","paramObj","removeCommentFromJSON","e1","getCookie","cookies","cookie","parts","shift","join","pushAt","arr","newArr","throttle","delay","no_trailing","debounce_mode","timeout_id","last_exec","that","elapsed","clearTimeout","debounce","at_begin","mixUids","_step","rChars","base64url","reverse","_iterator","_createForOfIteratorHelper","n","done","uid","rIdx","trunc","splice","f","unMixStr","endsWith","_step2","_iterator2","initXMLhttp","xmlhttp","XMLHttpRequest","ActiveXObject","sign","md5","debugLog","dataType","onreadystatechange","readyState","responseText","errorInfo","rspContentType","getResponseHeader","rsp","errors","info","sendString","sendData","tmpArr","String","prototype","datum","FormData","open","beforeSend","setRequestHeader","t","allMetaData","CommonSelect","excludeValues","includeValues","desc","showKey","renderDesc","withTitle","withAll","allText","appCode","Grid","handleTableChange","pagination","filters","sorter","fetchDataAjax","onRowClick","record","index","loading","ajaxMethod","queryCondParam","defineProperty","currentPageName","pageSizeName","pageSize","queryCondHandler","resultHandler","tableData","total","totalName","unmount","queryEmitter","retainPagintion","defaultPageSize","columns","dataIndex","fixed","render","lazyInit","initQueryCond","table","rowKey","rowSelection","dataSource","onRow","scroll","bordered","rowClassName","expandedRowRender","expandIcon","expandRowByClick","expandedRowKeys","showTotal","BizTable","notInTable","column","enumObj","_this$props$config$ap","api","updateInterface","deleteInterface","canDelete","operationAddon","operationPrefix","canModify","params","beforeDelete","func","operationPreAddon","grid_Grid","queryInterface","es_radio","FormItem","BizForm","handleSubmit","fieldsValue","form","beforeSubmit","hideLoading","insertInterface","resultType","delayQueryTable","afterSubmit","beforeCancel","shouldFieldDisplay","notInAdd","isRequired","hiddenFields","isHiddenInForm","notInForm","formFields","formData","beforeShowDialog","beforeModify","beforeAdd","col","modalTitle","dialog","hiddenField","objectSpread","row","tooltip","es_col","form_field","BizIndex","getForm","components","keyword","onlyUseForm","_react_16_14_0_react","justify","table_queryCond","wrappedComponentRef","table_BizTable","form_BizForm","./bill/queryBill/index.js","./common/indicates/index.js","./contact/index.js","./game/ballMate/index.js","./game/game/index.js","./operate/ballRoom/index.js","./operate/member/index.js","./operate/memberBill/index.js","./sys/config/index.js","./sys/optLog/index.js","./sys/sysRole/index.js","./sys/sysUser/index.js","./task/index.js","./train/class/index.js","./train/coach/index.js","./train/student/index.js","webpackContext","req","webpackContextResolve","__webpack_require__","module","exports","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","maxLength","react__WEBPACK_IMPORTED_MODULE_5___default","_common_indicates_area__WEBPACK_IMPORTED_MODULE_12__","address","list","totalItem","_components_common__WEBPACK_IMPORTED_MODULE_9__","staffs","getFormData","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_15__","initTenantConfig","billCates","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_14__","react__WEBPACK_IMPORTED_MODULE_20___default","antd_es_tabs__WEBPACK_IMPORTED_MODULE_7__","defaultActiveKey","antd_es_form__WEBPACK_IMPORTED_MODULE_11__","antd_es_select__WEBPACK_IMPORTED_MODULE_13__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_9__","precision","min","max","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_1__","_this2$state","antd_es_message__WEBPACK_IMPORTED_MODULE_5__","antd_es_button__WEBPACK_IMPORTED_MODULE_3__","rs","reg","resArr","resStr","customers","owner_name","contentObj","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_9___default","start_time","color","company_name","customer_name","finish_time","antd_es_message__WEBPACK_IMPORTED_MODULE_3__","_components_common__WEBPACK_IMPORTED_MODULE_13__","showPrice","unitPrice","handleOk","existData","sent","amount","doReportStudent","_x","roomId","gmtCreate","privateTrain","destroyOnClose","es_switch","_i","_invalidFields","invalidField","money","coach_BizComponent","input_number","date_picker","fields_upload","quality","onLoading","courses","recordCount","remark","onCoachChange","coach","times","consumeTimes","consumeAmount","studyTime","subType","isMainCoach","coachId","courseId","coursename","coachName","targetCourse","targetCoach","getContainer","sportType_BizComponent","selectTable","valueKey","nameKey","optionLabelProp","remainAmount","remainTimes","searchKey","step","avatar","imagePrefix","deleteStudentRec","studentId","refreshCourseInfo","deleteStudentRechargeBillRec","courseInfo","deleteCourse","billRes","billIdPrefix","abrupt","doDeleteCourse","ids","modifyCourseTimes","modifyCourseTime","course","records","bills","collapse","Panel","header","operator","mainCoachId","snapTimes","canSelectCourse","refreshExpandRow","recDs","upload","fileList","useEmpty","remainCourses","reduce","doDelete","pops","expanded","indent","billed","components_common","addStudentModal","modifyStudentModal","studentConsumeModal","courseListDrawer","rechargeStudentModal","billType","isVip","memberType","applyTime","consumeNow","checkedChildren","unCheckedChildren","es_checkbox","memberId","expireTime","room","addMemberModal","modifyMemberModal","memberConsumeModal","Boolean","hostname","script","head","ReactDOM","config_provider","locale","zh_CN","bodyDomains","billTime","manual","datePick","startTime","endTime","extBtns","ioMap","o","sumAmount","io","editableField","relInfo","billModal","storageItemKey","onLoad","left","right","bottom","zIndex","paramArr","loadParams","paramArrRevers","saveParamName","paramsStr","popover","getIndicates","indicates","indicatesMap","_loop","indicate","newK","disableSearch","doSearch","reserveBtn","onSearch","showSearchConds","tag","closable","stopPropagation","preventDefault","getTagContent","saveParams_CommonComp","onSaveCond","onCollapse","indicatesUi","mouseEnterDelay","enumItem","indicates_area","parentContainer","Consumer","contacts","contact","mobile_no","BizContext","React","createContext","Provider","contact_BizComp","finish","opt","ballMates","warning","onMateRowClick","onBallMateChange","getSelectedMates","selectedMates","project","hour","projects","hideLabel","shape","onSelected","urlSuffix","gameModal","changePass","doLoadData","classId","price","onRowChange","getSelected","selecteds","printEl","showArrow","initRecords","recPagination","onlyTrain","currentPageNum","logId","showRichEditor","classLogs","newFormData","classStudentListDrawer","studentRecords","studentNames","studentName","doSettlement","hide","recIds","getTotal","totalFlag","getSettleAmount","rate","timeVal","toSettleAmount","lib_default","documentTitle","settlementDrawer","__webpack_exports__","productDomain","host","isProductUrl","isDebug","cannotDo","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","previewVisible","handlePreview","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","preview","originFileObj","previewImage","handleChange","_ref2","fileSize","uploadButton","react__WEBPACK_IMPORTED_MODULE_15___default","antd_es_icon__WEBPACK_IMPORTED_MODULE_7__","antd_es_upload__WEBPACK_IMPORTED_MODULE_3__","listType","onPreview","accept","customRequest","_ref3","onProgress","onError","onSuccess","filename","Compressor","_success","_callee2","base64Str","_context2","Image","_x2","antd_es_modal__WEBPACK_IMPORTED_MODULE_1__","amountTags","antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__","antd_es_tag__WEBPACK_IMPORTED_MODULE_1__","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","searchInput","_util$ajaxJson","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","hightLight","colValue","react__WEBPACK_IMPORTED_MODULE_8___default","_this$props2","filterOption","dropdownClassName","firstActiveValue","dropdownMatchSelectWidth","onDropdownVisibleChange","goOn","hidden","minWidth","hasSelected"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Radio,Popover,DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n  static defaultProps = {\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      value:this.props.value,\r\n      customRangeVisible:false\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tthis.setState({value:this.props.value});\r\n\t\t}\r\n\t}\r\n\r\n  onRadioChange=e=>{\r\n    let value=e;\r\n    if(e&&e.target)value=e.target.value;\r\n    let {rangeValue}=this.state;\r\n    let thisRangeValue,now=Date.now(),customRangeVisible=false;\r\n    if(value=='0')thisRangeValue=[util.formatDate(now,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='1')thisRangeValue=[util.formatDate(now-86400000,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now-86400000,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='30')thisRangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='-30')thisRangeValue=[moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='100'){\r\n      customRangeVisible=true;\r\n      rangeValue=undefined;\r\n    }\r\n    this.props.onChange(thisRangeValue, value);\r\n    this.setState({value,rangeValue,customRangeVisible});\r\n  }\r\n  \r\n  onRangeChange=rangeValue=>{\r\n    this.props.onChange([rangeValue[0].startOf('day').format('YYYY-MM-DD HH:mm:ss'),rangeValue[1].endOf('day').format('YYYY-MM-DD HH:mm:ss')],'100');\r\n    this.setState({rangeValue,customRangeVisible:false});\r\n  }\r\n\r\n  render(){\r\n    let {value,rangeValue,customRangeVisible}=this.state;\r\n    let {validValues,modeType}=this.props;\r\n    let customTimeShow;\r\n    if(value=='30')customTimeShow=<>{moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='-30')customTimeShow=<>{moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='100'&&rangeValue&&rangeValue.length>0)customTimeShow=<>{rangeValue[0].format('YYYY-MM-DD')} ~ {rangeValue[1].format('YYYY-MM-DD')}</>;\r\n    return (\r\n        <>\r\n        {modeType=='select'&&<Select style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Select.Option value=\"-1\">全部</Select.Option>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Select.Option value=\"0\">今天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Select.Option value=\"1\">昨天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Select.Option value=\"30\">本月</Select.Option>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Select.Option value=\"-30\">上月</Select.Option>}\r\n            <Select.Option value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Select.Option>\r\n            \r\n        </Select>}\r\n        {modeType=='select'&&<Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">  \r\n        </Popover>}\r\n        {modeType!='select'&&<Radio.Group style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Radio.Button value=\"-1\">全部</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Radio.Button value=\"0\">今天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Radio.Button value=\"1\">昨天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Radio.Button value=\"30\">本月</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Radio.Button value=\"-30\">上月</Radio.Button>}\r\n            <Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">\r\n              <Radio.Button value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Radio.Button>\r\n            </Popover>\r\n        </Radio.Group>}\r\n        <span className=\"date-pick-tips\">{customTimeShow}</span>\r\n        </>);\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { pca, pcaa } from 'area-data';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\n// 地点改名\r\nfor(let provK in pca['86']){\r\n    let provName=pca['86'][provK];\r\n    if(provName.indexOf('市')>-1){\r\n        pca['86'][provK]=provName.replace('市','');\r\n        for(let cityK in pcaa[provK]){\r\n            let cityName=pcaa[provK][cityK];\r\n            if(cityName=='市辖区')pcaa[provK][cityK]=provName;\r\n        }\r\n    }\r\n}\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {context,useName}=this.props;\r\n        let {formValues}=context.state;\r\n        if(!formValues)return null;\r\n        let provs=pca['86'],citys={},countys={};\r\n        let {prov,city,county}=formValues;\r\n        if(prov){\r\n            citys=pcaa[prov];\r\n        }\r\n        if(city){\r\n            countys=pcaa[city];\r\n        }\r\n        return <div className=\"area-c\" ref={el=>{\r\n            this.areaUi = el;\r\n        }}>\r\n            <Select {...util.getField.call(context,'prov',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.city=undefined;\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"en\" placeholder=\"省\" allowClear size=\"small\">{Object.keys(provs).map((it,idx)=><Select.Option key={'prov'+idx} value={it}>{provs[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'city',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"市\" allowClear size=\"small\">{Object.keys(citys).map((it,idx)=><Select.Option key={'city'+idx} value={it}>{citys[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'county',{onChange:e=>{\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"区\" allowClear size=\"small\">{Object.keys(countys).map((it,idx)=><Select.Option key={'county'+idx} value={it}>{countys[it]}</Select.Option>)}</Select>\r\n        </div>;\r\n    }\r\n}\r\nexport let getDisplayText=(prov,city,county)=>{\r\n    return pca['86'][prov]+(prov&&city?'-'+pcaa[prov][city]:'')+(prov&&city&&county?'-'+pcaa[city][county]:'');\r\n}","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Input, Row, Col, Button, DatePicker,Select,Icon } from 'antd';\r\nimport Field from '../form/field';\r\nimport {emitter,util} from '../../../common/common.js';\r\nconst FormItem = Form.Item;\r\nclass QueryCond extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`set${this.props.config.key}QueryCondForm`,queryCond=>{\r\n      this.setState({formValues:queryCond});\r\n    });\r\n    emitter.on(`get${this.props.config.key}QueryCondForm`,(cb)=>{\r\n      cb(this.getQueryParam());\r\n    });\r\n    emitter.on(`on${this.props.config.key}QueryBtnClick`,(retainPage)=>{\r\n      this.onQueryCondQuery(undefined,retainPage);\r\n    });\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n  getQueryParam=()=>{\r\n    return this.beforeQuery(this.state.formValues);\r\n  }\r\n  onQueryCondQuery=(e,retainPage)=>{\r\n    if(!e || e.key == 'Enter' || e.type=='click'){\r\n      emitter.emit(`query${this.props.config.key}Table`, this.beforeQuery(this.state.formValues), retainPage);\r\n    }\r\n  }\r\n  beforeQuery=(queryParam)=>{\r\n    if(queryParam){\r\n      for(let k in queryParam){\r\n        if(queryParam[k] && typeof queryParam[k] == 'string'){\r\n          queryParam[k] = queryParam[k].trim();\r\n        }\r\n        if(queryParam[k] === ''){\r\n          delete queryParam[k];\r\n        }\r\n      }\r\n    }\r\n    queryParam=util._convertFormValues(queryParam);\r\n    return queryParam;\r\n  }\r\n  getExtButtons=()=>{\r\n    let {extButtons}=this.props.config.queryCond;\r\n    if(extButtons){\r\n      if(typeof extButtons == 'function'){\r\n        return extButtons();\r\n      }else if(Array.isArray(extButtons)){\r\n        return extButtons;\r\n      }\r\n    }\r\n  }\r\n  render(){\r\n    if(!this.props.config.queryCond || !this.props.config.queryCond.conditions || this.props.config.queryCond.conditions.length <= 0){\r\n      return <div></div>;\r\n    }\r\n    return (\r\n    <Form className=\"ant-advanced-search-form queryCond\">\r\n      {this.props.config.queryCond.conditions.map((conditions,idx1)=>{\r\n        return (<Row key={idx1}>\r\n          {conditions.map((condition,idx2)=>{\r\n            if(!condition){\r\n              return;\r\n            }\r\n            let curConditon;\r\n            this.props.config.fields.forEach(field=>{\r\n              if(field.key == condition.key){\r\n                curConditon = Object.assign({},field);\r\n              }\r\n            });\r\n            if(!curConditon){// fields中未找到匹配，则用自己\r\n              curConditon = condition;\r\n            }else if(condition.type == 'custom'){\r\n              curConditon.label&&(condition.label=curConditon.label);\r\n              curConditon = condition;\r\n            }\r\n            condition.label&&(curConditon.label=condition.label);\r\n            // 是否展示\r\n            if(curConditon.shouldDisplay){\r\n              if(!curConditon.shouldDisplay(this)){\r\n                return <Col key={idx2} sm={6}></Col>;\r\n              }\r\n            }\r\n            return (<Col key={idx2} sm={6}><span className=\"label\">{curConditon.label}：</span>\r\n            <Field {...util.getField.call(this,curConditon.key,{...curConditon.options, onChange:v=>{\r\n              if(curConditon.onChange){\r\n                curConditon.onChange(v,this.state.formValues);// 把当前queryForm值给到conditions\r\n              }\r\n            }})} field={curConditon} context={this} onKeyDown={this.onQueryCondQuery} placeholder={curConditon.placeholder} size={this.props.config.queryCond.size}/>\r\n          </Col>);\r\n          })}\r\n        </Row>);\r\n      })}\r\n      {!this.props.config.queryCond.hideButtons&&<Row>\r\n        <Col sm={12}>\r\n            <Button type=\"primary\" className=\"search-button\" onClick={this.onQueryCondQuery} size={this.props.config.queryCond.size}><Icon type=\"search\" />搜索</Button>\r\n            <Button type=\"ghost\" className=\"search-button\" onClick={()=>{\r\n              this.setState({formValues:{}});\r\n            }} size={this.props.config.queryCond.size}><Icon type=\"close-square\" />清除</Button>\r\n            {this.getExtButtons()}\r\n        </Col>\r\n      </Row>}\r\n    </Form>);\r\n  }\r\n}\r\nQueryCond = Form.create({\r\n})(QueryCond);\r\nexport default QueryCond;\r\n","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  DatePicker,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport CommonSelect from '../../select';\r\nimport {emitter,util} from '../../../common/common';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nexport default class Field extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let {field,context} = this.props;\r\n    let disabled = this.props.optType == 'modify' && field.editableInModify === false;\r\n    let props = Object.assign({},this.props);\r\n    delete props.field;\r\n    delete props.optType;\r\n    if(field.enums){\r\n      let {enums}=field;\r\n      if(typeof enums=='function')enums=enums();\r\n      let mode=field.multi?'multiple':undefined;\r\n      return (<Select multiple={field.multi} disabled={disabled} mode={mode} {...props}>{enums.map(e=>{\r\n        let key,value;\r\n        key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n        value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n        return <Option key={key} value={key+''}>{value}</Option>;\r\n      })}</Select>);\r\n    }else if(field.dictCode){\r\n      return (<CommonSelect {...field} {...props}/>);\r\n    }else if(field.type=='textarea'){\r\n      let TextArea = Input.TextArea;\r\n      if(!TextArea)TextArea=Input;\r\n      return (<TextArea type=\"textarea\" rows={field.rows?field.rows:4} disabled={disabled} {...props}/>);\r\n    }else if(field.type=='date'){\r\n      return (<DatePicker format=\"YYYY-MM-DD\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='datetime'){\r\n      return (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='custom'){\r\n      return field.getComponent(props,context);\r\n    }else if(field.type=='number'){\r\n      return (<InputNumber disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }else{\r\n      return (<Input disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,Icon } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tstatic defaultProps={\r\n        type:'Input'\r\n    }\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tlet {value}=this.props;\r\n\t    this.state={formValues:{value},status:'label'};\r\n\t}\r\n\tcomponentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.value=this.props.value;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n\t}\r\n\tonEditClick=()=>{\r\n\t\tlet {mask}=this.props;\r\n\t\tlet {formValues}=this.state;\r\n\t\tif(mask&&formValues.value){\r\n\t\t\tformValues.value=formValues.value.substring(0,2);\r\n\t\t}\r\n\t\tthis.setState({status:'edit',formValues});\r\n\t\tsetTimeout(()=>{\r\n\t\t\tif(this.el){\r\n\t\t\t\tthis.el.focus();\r\n\t\t\t}\r\n\t\t},20);\r\n\t}\r\n\r\n\tonBlur=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tthis.props.onBlur(formValues.value);\r\n\t\t// if(!this.props.silence){\r\n\t\t// \tmessage.success('保存成功！');\r\n\t\t// }\r\n\t\tthis.setState({status:'label'});\r\n\t}\r\n\tonCall=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tlet callee=formValues.value;\r\n\t\temitter.emit('call-out-ccc',callee,this);\r\n\t}\r\n\trender(){\r\n\t\tlet {value,type,enums,mask,contactType}=this.props;\r\n\t\tif(contactType=='电话'&&mask===undefined)mask=true;\r\n\t\tlet {status,formValues}=this.state;\r\n\t    return <span className=\"editable-field-c\">\r\n\t\t\t{status=='edit'&&<>\r\n\t\t\t\t{type=='Input'&&<Input ref={el=>{\r\n\t\t\t\t\tthis.el=el;\r\n\t\t\t\t}} {...util.getField.call(this,'value')} onBlur={this.onBlur} onPressEnter={this.onBlur}></Input>}\r\n\t\t\t\t{type=='Select'&&<Select {...util.getField.call(this,'value',{onChange:this.onBlur})}>\r\n\t\t\t\t\t{enums.map(it=><Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>)}\r\n\t\t\t\t</Select>}\r\n\t\t\t</>}\r\n\t\t\t{status=='label'&&<span>{mask?<Popconfirm title={\"确定发起外呼？\"} okText=\"好\" cancelText=\"取消\" onConfirm={this.onCall}><a>{util.tuomin(formValues.value,2)}</a></Popconfirm>:(contactType=='钉钉'?<a href={`dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=${formValues.value}`}>{formValues.value}</a>:(contactType=='旺旺'?<a href={`aliim:sendmsg?toid=cntaobao${formValues.value}`}>{formValues.value}</a>:formValues.value))}\r\n\t\t\t\t{mask&&<Popconfirm title={\"确定修改？敏感字段不会记住原来的值\"} onConfirm={this.onEditClick}><Icon type=\"highlight\"/></Popconfirm>}\r\n\t\t\t\t{!mask&&<Icon type=\"highlight\" onClick={this.onEditClick}/>}\r\n\t\t\t</span>}\r\n\t\t</span>;\r\n\t}\r\n}","import React from 'react';\r\nexport default function(props){\r\n\treturn <svg className=\"icon\" aria-hidden=\"true\">\r\n\t    <use href={'#'+props.type}></use>\r\n\t</svg>;\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Carousel} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter,minAjax} from '../../../../common/common';\r\nimport {prefix,productPrefix,isProductUrl, urlPrefix} from '../../../../interfaces/interfaces';\r\nimport {allMetaData} from '../../../../components/select';\r\n\r\nexport default class TestModal extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('goto-login', ({config,body})=>{\r\n      let verifyId=util.guid();\r\n      let firstLogin=config.url&&config.url.indexOf('SysUserFramework?opt=getUserInfo')>-1;\r\n      let account = window.sessionStorage.getItem('account');\r\n      let pwd = window.sessionStorage.getItem('pwd');\r\n  \t\tthis.setState({visible:true,registerTag:undefined,formValues:{account,pwd,verifyCode:window.isProd()?'':'okgo'},url:config.url,config,firstLogin,verifyId});\r\n\r\n      // if(body){\r\n      //   let url=JSON.parse(body).url;\r\n      //   let urlPrefix = url.substring(0,url.indexOf('reffer='));\r\n      //   let targetUrl;\r\n      //   if(isProductUrl(config.url)){\r\n      //     targetUrl=productPrefix+'fbi/api/v1/ssoagentlogin/jumplogin?reffer='+encodeURIComponent('http:'+productPrefix.substring(0,productPrefix.length-1)+'?target='+encodeURIComponent(window.location.href));\r\n      //   }else{\r\n      //     targetUrl=urlPrefix+'reffer='+encodeURIComponent(prefix+'fbi/api/v1/index?target='+encodeURIComponent(window.location.href));\r\n      //   }\r\n      //   window.location.href=targetUrl;\r\n      // }\r\n  \t});\r\n    emitter.on('refresh-verify-code',()=>{\r\n      if(this.state.visible){\r\n        this.setState({verifyId:util.guid()});\r\n      }\r\n    });\r\n  \tthis.state={\r\n      formValues:{}\r\n  \t};\r\n  }\r\n\r\n  handleLogin=()=>{\r\n    let {registerTag} = this.state;\r\n    let validFields;\r\n    if(registerTag){\r\n      validFields = ['name','phone','pass','pwd1','groupIds'];\r\n    }else{\r\n      validFields = ['phone','pass','verifyCode'];\r\n    }\r\n    util.validateFields.call(this,values=>{\r\n      let {verifyId}=this.state;\r\n      let {phone,name,pass,tenantId,verifyCode} = values;\r\n      if(registerTag){\r\n        // util.ajaxJson(this.getPrefix()+'flow/user/register',{account,name,pass,groupIds:JSON.stringify(groupIds)},res=>{\r\n        //   if(res.success && !res.errMsg){\r\n        //     message.success('注册成功!');\r\n        //     window.sessionStorage.setItem('name',name);\r\n        //     window.sessionStorage.setItem('groupIds',JSON.stringify(groupIds));\r\n        //     window.location.reload();\r\n        //   }else{\r\n        //     message.error(res.errMsg);\r\n        //   }\r\n        // });\r\n      }else{\r\n        util.ajaxJson(this.getPrefix()+'flow/biz/login',{phone,pass,tenantId,verifyId,verifyCode,noErrAlert:true},result=>{\r\n          if(result.success && result.data && !result.errMsg){\r\n            if(result.data.length>1){\r\n              let {formValues}=this.state;\r\n              formValues.tenantId=result.data[0].tenantId;\r\n              this.setState({tenants:result.data,formValues});\r\n            }else{\r\n              this.loginGo(result);\r\n            }\r\n          }else{\r\n            message.error(result.errMsg||'登陆失败');\r\n            if(result.errMsg=='验证码错误'){\r\n              this.setState({verifyId:util.guid()});\r\n            }\r\n          }\r\n        });\r\n      }\r\n      \r\n    },validFields);\r\n  }\r\n\r\n  loginGo=(result)=>{\r\n    let res=result.data[0];\r\n    window.sessionStorage.setItem('name',res.name);\r\n    window.sessionStorage.setItem('userId',res.id);\r\n    window.sessionStorage.setItem('phone',res.phone);\r\n    emitter.emit('init');\r\n    minAjax(this.state.config);\r\n    this.setState({visible:false,tenants:[]});\r\n  }\r\n\r\n  getPrefix=()=>{\r\n    let {url} = this.state;\r\n    if(!url || !productPrefix){\r\n      return prefix;\r\n    }\r\n    if(url.startsWith(productPrefix)){\r\n      return productPrefix;\r\n    }\r\n    return prefix;\r\n  }\r\n\r\n  toRegister=()=>{\r\n    this.setState({registerTag:true});\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 6 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    let {formValues,registerTag,firstLogin,verifyId} = this.state;\r\n  \treturn (<div>\r\n      {firstLogin&&<div className=\"first-login-c\">\r\n      <div className=\"logo-text\">球馆数字化先锋——球掌柜，掌控全局，运筹帷幄！</div>\r\n        <Carousel autoplay>\r\n          <div className=\"carousel-item carousel-item-1\"> \r\n          </div>\r\n          <div className=\"carousel-item carousel-item-2\">\r\n            <h3>2</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-3\">\r\n            <h3>3</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-4\">\r\n            <h3>4</h3>\r\n          </div>\r\n        </Carousel>\r\n      </div>}\r\n      <Modal mask={!firstLogin} wrapClassName={\"login-modal\"+(firstLogin?' first-login-modal':'')} title={registerTag?'注册':'欢迎来到球掌柜，请先登陆'} style={{top:'200px'}} visible={this.state.visible} width={400} onCancel={this.handleCancel} maskClosable={false}\r\n          footer={[\r\n            <Button key=\"login\" type=\"primary\" onClick={this.handleLogin}>{registerTag?'注册':'登录'}</Button>,\r\n            <Button key=\"close\" onClick={this.handleCancel}>关闭</Button>\r\n          ]}>  \r\n          <Form id=\"log-container-form\" className=\"login-container\">\r\n            {registerTag&&<Form.Item {...formItemLayout} label=\"姓名\">\r\n              <Input {...util.getField.bind(this)('name',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})}/>\r\n            </Form.Item>}\r\n            <Form.Item {...formItemLayout} label=\"账号(手机号)\" required>\r\n              <Input {...util.getField.bind(this)('phone',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'},{validator:v=>{\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item {...formItemLayout} label=\"密码\" required>\r\n              <Input type=\"password\" {...util.getField.bind(this)('pass',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})} onPressEnter={this.handleLogin}/>\r\n            </Form.Item>\r\n            {registerTag&&<div>\r\n              <Form.Item {...formItemLayout} label=\"密码确认\">\r\n                <Input {...util.getField.bind(this)('pwd1',{rules:[{validator:v=>{\r\n                  return !!v;\r\n                },message:'必填'},{validator:v=>{\r\n                  let {formValues} = this.state;\r\n                  return formValues.pwd === v;\r\n                },message:'前后密码不一致'}]})}/>\r\n              </Form.Item>\r\n            </div>}\r\n            {!registerTag&&<Form.Item {...formItemLayout} label=\"验证码\" className=\"verify-code\" required>\r\n              <Input {...util.getField.call(this,'verifyCode',{rules:[{required:true,message:'必填'}]})} onPressEnter={this.handleLogin}/><img onClick={()=>this.setState({verifyId:util.guid()})} src={prefix+'image/verifyCode?tk='+verifyId} alt=\"\"></img>\r\n            </Form.Item>}\r\n            <div className=\"register-area\">\r\n              {false&&<a onClick={this.toRegister}>注册</a>}\r\n              {registerTag&&<a onClick={()=>{\r\n                this.setState({registerTag:undefined});\r\n              }}>返回</a>}\r\n            </div>\r\n\r\n\r\n            {this.state.tenants&&this.state.tenants.length>1&&<Form.Item label=\"请选择企业信息\">\r\n              <Select {...util.getField.call(this,'tenantId')} getPopupContainer={()=>document.querySelector('.login-modal')}>\r\n                {this.state.tenants.map(it=><Select.Option key={it.tenantId} value={it.tenantId}>{it.tenantName}</Select.Option>)}\r\n              </Select>\r\n            </Form.Item>}\r\n          </Form>\r\n      </Modal></div>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button} from 'antd';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {domain} from '../../../../interfaces/interfaces';\r\nimport './index.less';\r\nexport default class BizComp extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('call-out-ccc',(callee,that)=>{\r\n            callee=callee+'';\r\n            if(!(/^1[3456789]\\d{9}$/.test(callee))){\r\n                return message.warning('手机号格式有误，必须为1开头的11位数字');\r\n            }\r\n            if(!window.workbench){\r\n                return message.warning('电话坐席未初始化！');\r\n            }\r\n            let status=window.workbench.getStatus();\r\n            if(status!='ready')return message.warning('电话坐席未初始化成功！');\r\n            window.workbench.call(callee);\r\n            if(that&&that.props&&that.props.onCall)that.props.onCall(callee);\r\n        });\r\n        this.state={\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        setTimeout(this.initHotline,200);\r\n        \r\n    }\r\n\r\n    initHotline=()=>{\r\n        window.workbench = new window.WorkbenchSdk({\r\n            dom: 'workbench',\r\n            instanceId: '62e83165-8999-4462-81b9-7adb13521ab6',\r\n            ajaxOrigin:'//'+domain,\r\n            ajaxPath: '/iflow-proxy/api/v1/crm',\r\n            ajaxMethod: 'post',\r\n            ajaxOtherParams:{isFromCCC:1},\r\n            withCredentials:true,\r\n            exportErrorOfApi:true,\r\n            \r\n            moreActionList:['onlyCall'],\r\n            header: true,\r\n            onInit: function () {\r\n                // window.workbench.register();\r\n            },\r\n            onRegister:function(config){\r\n                // document.querySelector('.next-icon-suoxiao1').click();\r\n            },\r\n            onErrorNotify: function (error) {\r\n              console.warn(error)\r\n            },\r\n            onCallComing: function (aa, bb, cc, dd) {\r\n              console.log(aa, bb, cc, dd);\r\n            },\r\n            onCallDialing: function (aa, bb, cc, dd) {\r\n              let iconEl=document.querySelector('#workbench .next-icon-guaduan');\r\n              if(iconEl&&iconEl.previousElementSibling){\r\n                iconEl.previousElementSibling.style.visibility='hidden';\r\n              }\r\n              let tabContentEl=document.querySelector('.next-tabs-content h1');\r\n              if(tabContentEl){\r\n                tabContentEl.style.visibility='hidden';\r\n              }\r\n            },\r\n            onStatusChange: function (code, lastCode, context){\r\n              console.log(code, lastCode, context);\r\n            },\r\n            onCallRelease: function (connid, caller, privateData) {\r\n                console.log(\"这里是通话结束时触发的回调函数\", connid, caller, privateData)\r\n            }\r\n        });\r\n        document.querySelector('.next-icon-suoxiao1').click();\r\n    }\r\n\r\n    render() {\r\n  \t    return (<div className=\"hotline-widget\">\r\n            <div id=\"workbench\"></div>\r\n          </div>);\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport { Menu, Icon, Switch } from 'antd';\r\nimport IIcon from '../../../components/icon';\r\nimport {role,isAdmin,menus} from './IndexPage';\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nexport default class BizComponent extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n        let loginMenus = menus.filter(it=>!it.parentCode).sort((a,b)=>a.num-b.num).map(it=>{\r\n\t\t\tlet menuObj={title:it.name,icon:JSON.parse(it.ext).icon,key:it.code};\r\n\t\t\tlet subMenus=menus.filter(subIt=>subIt.parentCode==it.code).sort((a,b)=>a.num-b.num).map(it=>({title:it.name,icon:JSON.parse(it.ext).icon,key:it.code}));\r\n\t\t\tmenuObj.children=subMenus;\r\n\t\t\treturn menuObj;\r\n\t\t});\r\n\t\tlet current='train/student';\r\n\t\tif(!window.isProd()){\r\n\t\t\tlet lastActiveMenuKey=localStorage.getItem('_curActiveMenuKey');\r\n\t\t\tif(lastActiveMenuKey){\r\n\t\t\t\tcurrent=lastActiveMenuKey;\r\n\t\t\t}\r\n\t\t}\r\n    \tthis.state={\r\n    \t\tloginMenus,\r\n      \t\topenKeys:loginMenus.map(it=>it.key),\r\n      \t\tcurrent\r\n    \t};\r\n\t}\r\n\tcomponentDidMount(){\r\n        let {current} = this.state;\r\n\t\tthis.props.onClick(current,undefined, this.getTitleByKey(current));\r\n\t}\r\n    getTitleByKey=key=>{\r\n        let {loginMenus} = this.state;\r\n        let title,icon;\r\n        loginMenus.forEach(lm=>{\r\n\t\t\tif(lm.key==key){\r\n\t\t\t\ttitle = lm.title;\r\n\t\t\t\ticon = lm.icon;\r\n\t\t\t}\r\n            lm.children.forEach(lc=>{\r\n                if(lc.key == key){\r\n\t\t\t\t\ttitle = lc.title;\r\n\t\t\t\t\ticon = lc.icon;\r\n                }\r\n            });\r\n        });\r\n\t\treturn <span className=\"tab-title\"><IIcon type={icon}/>{title}</span>;\r\n    }\r\n    changeCurrentMenu=(current)=>{\r\n        this.setState({\r\n          current\r\n        });\r\n    }\r\n\thandleClick=(e)=>{\r\n\t    this.changeCurrentMenu(e.key);\r\n\t\tthis.props.onClick(e.key,undefined,this.getTitleByKey(e.key));\r\n\t\tif(!window.isProd()){\r\n\t\t\tlocalStorage.setItem('_curActiveMenuKey', e.key);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t  \tconst loop = data => data.map(item => {\r\n\t      if (item.children && item.children.length) {\r\n\t        return (<SubMenu key={item.key} title={(()=>{\r\n\t          return <div><IIcon type={item.icon}/>{item.title}</div>;\r\n\t        })()}>{loop(item.children)}</SubMenu>);\r\n\t      }\r\n\t      return <Menu.Item key={item.key}><IIcon type={item.icon} /><span>{item.title}</span></Menu.Item>;\r\n\t\t});\r\n\t\treturn <div className={\"fc-menu-container\"}>\r\n\t\t\t<div className=\"logo-c\"><IIcon type=\"icon-pingpong\"/><span className=\"logo-text\">球掌柜</span></div>\r\n\t\t\t<Menu id=\"fc-menu-container\" onClick={this.handleClick}\r\n\t\t\t\topenKeys={this.state.openKeys}\r\n\t\t\t\tonOpenChange={openKeys=>{\r\n\t\t\t\tthis.setState({openKeys});\r\n\t\t\t\t}}\r\n\t\t\t\tselectedKeys={[this.state.current]}\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\r\n\t\t\t\tinlineIndent={10}\r\n\t\t\t>\r\n\t\t\t\t{loop(this.state.loginMenus)}\r\n\t\t\t</Menu>\r\n\t\t  </div>\r\n\t    ;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport {message} from 'antd';\r\nimport {domain} from '../interfaces/interfaces';\r\nimport {Modal} from 'antd';\r\nimport {util,emitter} from './common';\r\nimport {tenantId,name,phone} from '../entry/index/routes/IndexPage';\r\nexport let ws = null;\r\n\r\nfunction handleMsg(event){\r\n    if(event.data){\r\n        if(event.data=='q'||event.data=='p'){\r\n            emitter.emit('refresh-verify-code');\r\n            return;\r\n        }\r\n        let dataObj=JSON.parse(event.data);\r\n        if(dataObj.type=='refreshConfirm'){\r\n            Modal.confirm({\r\n                title:'页面刷新提醒确认？',\r\n                content:<div>检测到应用有更新，更新时间【{util.formatDate(dataObj.time)}】，请及时刷新页面！\r\n                        <div>提示：刷新前未保存数据，刷新后将丢失</div></div>,\r\n                okText:\"刷新\",\r\n                cancelText:\"取消\",\r\n                onOk:()=>{\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nlet heartbeatInterval;\r\n\r\nfunction createWebSocket(url) {\r\n    try {\r\n        if ('WebSocket' in window) {\r\n            ws = new window.WebSocket(url);\r\n        } else if ('MozWebSocket' in window) {\r\n            ws = new window.MozWebSocket(url);\r\n        } else {\r\n            message.error(\"当前浏览器不支持websocket协议,建议使用现代浏览器\");\r\n        }\r\n        initEventHandle(url);\r\n        if(heartbeatInterval){\r\n            clearInterval(heartbeatInterval);\r\n            heartbeatInterval=undefined;\r\n        }\r\n        heartbeatInterval=setInterval(()=>{\r\n            if(window._stopWebsocketHeartBeat){\r\n                if(heartbeatInterval){\r\n                    clearInterval(heartbeatInterval);\r\n                    heartbeatInterval=undefined;\r\n                }\r\n            }\r\n            ws.send('p');\r\n        }, 55000);\r\n    } catch (e) {\r\n        reconnect(url);\r\n    }\r\n}\r\nfunction initEventHandle(url) {\r\n    ws.onclose = function (err) {\r\n        console.log('onClose', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onerror = function (err) {\r\n        console.log('onErr', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onopen = function () {\r\n    };\r\n    ws.onmessage = function (event) {    //如果获取到消息，心跳检测重置\r\n        handleMsg(event);\r\n    };\r\n}\r\nfunction reconnect(url) {\r\n    if (reconnect.lockReconnect) return;\r\n    reconnect.lockReconnect = true;\r\n    setTimeout(function () {     //没连接上会一直重连，设置延迟避免请求过多\r\n        createWebSocket(url);\r\n        reconnect.lockReconnect = false;\r\n    }, 2000);\r\n}       \r\n\r\nemitter.on('init-websocket',()=>{\r\n    let code=encodeURIComponent(util.mixStr(JSON.stringify({tenantId,name,phone})));\r\n    let url=`ws${window.location.href.indexOf('https')==0?'s':''}://${domain}/connectWs/${code}`;\r\n    createWebSocket(url);\r\n    \r\n});\r\n","import React, { Component } from 'react';\r\nimport {Button, Drawer, Modal, Popconfirm,Form,Input} from 'antd';\r\nimport { emitter, util } from '../../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('open-rich-editor-drawer',({key,title,width=1000,content='',rec,fields})=>{\r\n            let {formValues}=this.state;\r\n            if(fields){\r\n                fields.forEach(it=>{\r\n                    if(it.defaultValue){\r\n                        formValues[it.key]=it.defaultValue;\r\n                    }\r\n                });\r\n            }\r\n            this.isModified=false;\r\n            this.setState({visible:true,key,width,title,rec,fields,formValues,isModified:false},()=>{\r\n                if(!window.ue){\r\n                    setTimeout(()=>{\r\n                        window.ue=window.UE.getEditor('uedit-container');\r\n                        window.ue.ready(()=>{\r\n                            window.ue.setContent(content);\r\n                            this.isModified=false;\r\n                            window.ue.addListener(\"contentChange\",()=>{\r\n                                this.isModified=true;\r\n                            });\r\n                        });\r\n                    },200);\r\n                    \r\n                }else{\r\n                    window.ue.setContent(content);\r\n                    this.isModified=false;\r\n                }\r\n            });\r\n            \r\n        });\r\n        this.state={\r\n            visible:false,\r\n            formValues:{}\r\n        };\r\n    }\r\n    onSave=()=>{\r\n        emitter.emit('rich-editor-save-'+this.state.key,{content:window.ue.getContent(),rec:this.state.rec,fieldValues:this.state.formValues});\r\n        this.onClose();\r\n    }\r\n    onClose=()=>{\r\n        this.setState({visible:false});\r\n    }\r\n    onCloseConfirm=()=>{\r\n        if(this.isModified){\r\n            Modal.confirm({\r\n                title:\"关闭确认\",\r\n                content:\"确定要未保存就退出吗？\",\r\n                onOk:this.onClose\r\n            });\r\n        }else{\r\n            this.onClose();\r\n        } \r\n    }\r\n    render() {\r\n        let {title,width,visible,fields}=this.state;\r\n        return <>\r\n        <Drawer title={title} visible={visible} maskClosable={false} width={width} className=\"ueditor-drawer\" placement=\"right\" onClose={this.onCloseConfirm}>\r\n            {fields&&fields.map(field=><Form.Item key={field.label} label={field.label}><Input {...util.getField.call(this,field.key,field.options)}/></Form.Item>)}\r\n            <script id=\"uedit-container\" name=\"content\" type=\"text/plain\" style={{height:'calc(100vh - 300px)'}}></script>\r\n            <Popconfirm title=\"确定提交？\" onConfirm={this.onSave}><Button type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n        </Drawer>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport {emitter,util} from '../../../common/common';\r\nimport {urlPrefix,domain,productDomain,isProductUrl} from '../../../interfaces/interfaces';\r\nimport Icon from '../../../components/icon';\r\nimport {message,Popover,Tooltip,Input,Button,Tabs, Popconfirm} from 'antd';\r\nimport LoginModal from './modals/loginModal';\r\nimport Hotline from './modals/hotline';\r\nimport Menu from './Menu';\r\nimport RichEditorDrawer from './modals/richEditorDrawer';\r\nimport {websocket} from '../../../common/ws';\r\nimport './index.less';\r\n// window.onbeforeunload=function(e){     \r\n//     e = window.event||e;  \r\n//     e.returnValue=(\"确定离开当前页面吗？\");\r\n//     return e.returnValue;\r\n// }\r\n\r\nexport let forbiColumns=[];\r\nexport let filterColumns=(cols)=>{\r\n    let filterCols= cols.filter(it=>{\r\n        return forbiColumns.indexOf(it.key)==-1;\r\n    });\r\n    return filterCols;\r\n}\r\nexport let tenant={},tenantConfig={},rooms,role,allRoles,allStaffs,menus,urls,coaches;\r\nexport let tenantId=1,name,phone;\r\nexport let accounts;\r\nexport let isAdmin;\r\n\r\nconst TabPane = Tabs.TabPane;\r\nexport default class IndexPage extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('show-login-user',user=>{\r\n            this.setState({userName:user.name});\r\n        });\r\n        emitter.on('init-user-info',user=>{\r\n            this.initUserInfo();\r\n        });\r\n        emitter.on('main-clickmenu', ({key,props})=>{\r\n            this.indexMenu.changeCurrentMenu(key);\r\n            this.onMenuClick(key,props,this.indexMenu.getTitleByKey(key));\r\n        });\r\n        emitter.on('antdmessage-success',(args)=>{\r\n            message.success(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-warn',(args)=>{\r\n            message.warn(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-error',(args)=>{\r\n            message.error(args[0],args[1]);\r\n        });\r\n        this.initUserInfo();\r\n        this.state={\r\n            panes:[],\r\n            init:false,\r\n            userName:'游客'\r\n        };\r\n    }\r\n    componentDidMount(){\r\n\r\n    }\r\n\r\n    initUserInfo=()=>{\r\n        util.ajaxJson(urlPrefix+'SysUserFramework?opt=getUserInfo',{},result=>{\r\n            if(result.data){\r\n                tenant=result.data.tenant;\r\n                name=result.data.name;\r\n                phone=result.data.phone;\r\n                let tconfig=JSON.parse(tenant.config);\r\n                if(!tconfig)tconfig={};// 租户默认配置\r\n                if(!tconfig.majorCoachRate)tconfig.majorCoachRate=55;\r\n                if(!tconfig.coachRate)tconfig.coachRate=50;\r\n                tenantConfig=tconfig;\r\n                rooms=result.data.rooms||[];\r\n                role=result.data.role;\r\n                allRoles=result.data.allRoles;\r\n                allStaffs=result.data.allStaffs;\r\n                menus=result.data.menus;\r\n                urls=result.data.urls;\r\n                coaches=result.data.coaches;\r\n                tenantId=result.data.tenantId;\r\n                isAdmin=role.indexOf(',-1,')>-1;\r\n                emitter.emit('show-login-user',{name:result.data.name});\r\n                emitter.emit('init-websocket');\r\n                this.setState({init:true},()=>{// 初始化检索条件\r\n                    setTimeout(()=>{\r\n                        emitter.emit('do-indicates-search',{});\r\n                    },500);\r\n                });\r\n            }else{\r\n                message.error('请确认服务是否可用！');\r\n            }\r\n        });\r\n    }\r\n\r\n    onMenuClick=(key, props, title)=>{\r\n        let comp = require(`../../../biz/${key}/index.js`);\r\n        if(comp&&comp.default){\r\n            let {panes,activeKey} = this.state;\r\n            activeKey = key;\r\n            let fps = panes.filter(p=>p.key == key);\r\n            if(fps.length==0){\r\n                panes.push({key,title,content:comp.default,props});\r\n                this.setState({activeKey,panes},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }else{\r\n                // fps[0].content = undefined;\r\n                // this.setState({activeKey,panes},()=>{\r\n                //     fps[0].content = comp.default;\r\n                //     this.setState({panes},()=>{\r\n                //         emitter.emit(`menu-clicked-${key}`);\r\n                //     });\r\n                // });\r\n                fps[0].content = comp.default;\r\n                this.setState({activeKey},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (activeKey) => {\r\n        this.setState({ activeKey },()=>{\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n        });\r\n    }\r\n\r\n    onTabEdit = (targetKey, action) => {\r\n        if(action == 'remove'){\r\n            let {panes,activeKey} = this.state;\r\n            panes = panes.filter(p=>p.key!=targetKey);\r\n            if(panes.length > 0){\r\n                if (activeKey == targetKey) {// 删除的是当前tab\r\n                    activeKey = panes[0].key;\r\n                }\r\n            }\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n            this.setState({panes,activeKey});\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let {panes,activeKey,init} = this.state;\r\n        if(!init)return <LoginModal />;\r\n        return (\r\n            <div className=\"fc\">\r\n                <div className=\"fc-main\">\r\n                  <Menu onClick={this.onMenuClick} ref={el=>this.indexMenu=el}/>\r\n                  <div className=\"fc-container\">\r\n                    <div className=\"fc-header\"></div>\r\n                    <Tabs hideAdd\r\n                      onChange={this.onTabChange}\r\n                      activeKey={activeKey}\r\n                      type={'editable-card'}\r\n                      onEdit={this.onTabEdit}\r\n                    >\r\n                      {\r\n                        panes.map(pane => {\r\n                            let Comp = pane.content;\r\n                            return <TabPane tab={pane.title} key={pane.key}>{Comp && <Comp {...pane.props}/>}</TabPane>;\r\n                        })\r\n                      }\r\n                    </Tabs>\r\n                    <div className=\"login-sec\">欢迎，{this.state.userName} &nbsp;&nbsp; {tenant.name} <Popconfirm placement=\"leftTop\" title=\"确认退出？\" onConfirm={async ()=>{\r\n                        await util.ajaxJsonAsync(urlPrefix+'loginout');\r\n                        window.location.reload();\r\n                    }}><a className=\"logout-a\">退出</a></Popconfirm></div>\r\n                  </div>\r\n                </div>\r\n                <LoginModal />\r\n                <RichEditorDrawer />\r\n\t\t    </div>\r\n\t    );\r\n    }\r\n  \r\n}\r\n\r\n","import {EventEmitter} from 'events';\r\nimport md5 from 'md5';\r\nimport base64url from 'base64url';\r\nimport './reset.less';\r\nlet emitter = new EventEmitter();\r\nemitter.setMaxListeners(500);\r\nlet emitterOn = emitter.on;\r\nemitter.on = function(type, listner){\r\n    emitter.removeAllListeners(type);\r\n    let args = [type, listner];\r\n    emitterOn.apply(emitter, args);\r\n};\r\nemitter.ons = function(type, listner){\r\nlet args = [type, listner];\r\nemitterOn.apply(emitter, args);\r\n}\r\n\r\nlet message={\r\n    success:function(){emitter.emit('antdmessage-success',arguments)},\r\n    warn:function(){emitter.emit('antdmessage-warn',arguments)},\r\n    error:function(){emitter.emit('antdmessage-error',arguments)}\r\n};\r\n\r\nlet _parentUtil = (current, cond, mode='class') => {\r\n    if(current){\r\n        let parent = current.parentNode;\r\n        while(parent){\r\n            if(parent == document.body){\r\n                return;\r\n            }\r\n            if(mode==='class'){\r\n                if(parent.classList.contains(cond)){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }else if(mode==='style'){\r\n                if(!cond || typeof cond != 'object'){\r\n                    return;\r\n                }\r\n                let matched = false;\r\n                let styles = window.getComputedStyle(parent);\r\n                for(let k in cond){\r\n                    if(styles[k] === cond[k]){\r\n                        matched = true;\r\n                    }\r\n                }\r\n                if(matched){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nlet _showFieldError = (target, isValid, msg) => {\r\n    if(target){// input框\r\n\t\tif(target.classList.contains('am-list-item') || target.classList.contains('am-picker-popup')){// antd-mobile\r\n\t\t\tlet classList=target.classList;\r\n\t\t\tif(!isValid){\r\n\t\t\t\tif(!classList.contains('has-error')){\r\n\t\t\t\t\tclassList.add('has-error');\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet formExplain=target.querySelector('.ant-form-explain');\r\n\t\t\t\t\tif(!formExplain){\r\n\t\t\t\t\t\tlet errorMsgEl = document.createElement('div');\r\n\t\t\t\t\t\terrorMsgEl.innerText = msg;\r\n\t\t\t\t\t\terrorMsgEl.classList.add('ant-form-explain');\r\n\t\t\t\t\t\terrorMsgEl.classList.add('custom-form-invalid-explain');\r\n\t\t\t\t\t\ttarget.appendChild(errorMsgEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget.childNodes[target.childNodes.length-1].innerText = msg;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tclassList.remove('has-error');\r\n\t\t\t\tlet explain = target.querySelector('.ant-form-explain');\r\n\t\t\t\texplain && explain.remove();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n        let currentFormItemControl = _parentUtil(target, 'ant-form-item-control');\r\n        let formItem = _parentUtil(target, 'ant-form-item');\r\n        let classList = currentFormItemControl.classList;\r\n        if(!isValid){// 校验未通过  \r\n            if(!classList.contains('has-error')){// 不含错误样式\r\n                classList.add('has-error');\r\n                !formItem.classList.contains('ant-form-item-with-help') && formItem.classList.add('ant-form-item-with-help');\r\n\t\t\t\tif(currentFormItemControl.querySelector('.ant-form-explain')){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n                let errorMsgEl = document.createElement('div');\r\n                if (target.tagName == 'INPUT') {\r\n                    target.onfocus=function(){\r\n                        errorMsgEl.style.display='block';\r\n                    };\r\n                    target.onblur=function(){\r\n                        errorMsgEl.style.display='none';\r\n                    };\r\n                }\r\n                \r\n                errorMsgEl.innerText = msg;\r\n                errorMsgEl.classList.add('ant-form-explain');\r\n                errorMsgEl.classList.add('custom-form-invalid-explain');\r\n                currentFormItemControl.appendChild(errorMsgEl);\r\n            }else{\r\n                currentFormItemControl.childNodes[currentFormItemControl.childNodes.length-1].innerText = msg;\r\n            }\r\n        }else{\r\n            classList.remove('has-error');\r\n            let explain = currentFormItemControl.querySelector('.ant-form-explain');\r\n            explain && explain.remove();\r\n            formItem.classList.contains('ant-form-item-with-help') && formItem.classList.remove('ant-form-item-with-help');\r\n        }\r\n    }\r\n}\r\n\r\nlet _getFormElementByFieldName = function(fieldName,ognlPrefix){\r\n    let pContainer = '';\r\n    if(this['__formClassName_']){\r\n        pContainer = '.' + this['__formClassName_'] + ' ';\r\n    }\r\n    let eles = document.querySelectorAll(pContainer+'.'+getUniqClassName(fieldName,this['__validField_'+fieldName]&&this['__validField_'+fieldName].idPrefix,ognlPrefix));\r\n    if(!eles){\r\n        return undefined;\r\n    }\r\n    if(eles&&eles.length==1){\r\n        return eles[0];\r\n    }\r\n    let newEles=[];\r\n    if(eles.length>1){\r\n        let zIndex = 0;\r\n        for (let i = 0; i <eles.length; i++) {\r\n            // 多个处理\r\n            let parentNode = _parentUtil(eles[i],{display:'none'},'style');\r\n            if(parentNode){// 找到了父节点有隐藏的，则不要\r\n                continue;\r\n            }\r\n            newEles.push(eles[i]);\r\n        }\r\n        if(newEles.length==1)return newEles[0];\r\n        if(newEles.length>1){\r\n            for (let i = 0; i <newEles.length; i++) {\r\n                // 多个处理\r\n                let parentNode = _parentUtil(newEles[i],'ant-modal-body','class');\r\n                if(parentNode){// 找到了父节点在modal中，则优先\r\n                    return newEles[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet _triggerFieldValidation = function(rules, fieldName, ognlPrefix, context, cb){// cb只能回调一次\r\n    let target = _getFormElementByFieldName.call(this,fieldName,ognlPrefix);\r\n    let isValid = true;\r\n    if(!target){// dom元素已不存在，则不校验\r\n        return isValid;\r\n    }\r\n    let msg;\r\n    let formValues = this.state.formValues||{};\r\n    if(!context){\r\n        context = formValues;\r\n    }\r\n    let asyncCount = rules.length;// 用于保证只回调一次\r\n    for (let i = 0; i < rules.length; i++) {// rules都走一遍，尝试发现校验不过的rule\r\n        let rule = rules[i];\r\n        if(isValid){\r\n            if(rule.required === true){\r\n                let contextVal=context[fieldName];\r\n                if(!contextVal || (Array.isArray(contextVal)&&contextVal.length==0)){\r\n                    isValid = false;\r\n                    if(rule.message){\r\n                        msg = rule.message;\r\n                    }\r\n                }\r\n                if(!msg){\r\n                    msg = '必填';\r\n                }\r\n                asyncCount--;// required场景校验完毕\r\n            }else if(rule.validator){\r\n                if(rule.validator.length >= 3){// ant-form风格validator，支持异步回调的校验\r\n                    let onlyOnce = 1;\r\n                    rule.validator.call(this,rule,context[fieldName],function(err){// 有可能就是同步执行的，当然也可能异步\r\n                        onlyOnce--;\r\n                        if(onlyOnce==0){\r\n                            asyncCount--;// 异步场景校验完毕\r\n                            if(err){\r\n                                isValid = false;\r\n                                if(err instanceof Error){\r\n                                    err = err.message;\r\n                                }\r\n                                msg = err;\r\n                            }\r\n                            _showFieldError(target,isValid,msg);\r\n                            this.isFormFiledsValid=isValid;\r\n                            if(asyncCount==0){// 全校验完了\r\n                                asyncCount--;// 防止后面重复调\r\n                                if(!isValid){\r\n                                    cb&&cb(false, fieldName);\r\n                                }else{\r\n                                    cb&&cb(true, fieldName);\r\n                                }\r\n                            }\r\n                        }\r\n                    },context);\r\n                }else{// 自定义同步风格\r\n                    if(!rule.validator.call(this, context[fieldName], context)){\r\n                        isValid = false;\r\n                        if(rule.message){\r\n                            msg = rule.message;\r\n                        }\r\n                    }\r\n                    asyncCount--;// 同步场景校验完毕\r\n                }\r\n            }else{\r\n                asyncCount--;// 无场景校验完毕\r\n            }\r\n        }else{\r\n            asyncCount--;// 已经无效后续rule当成校验完毕(其实未校验)\r\n        }\r\n    }\r\n    if(asyncCount==0){// 全走完\r\n        asyncCount--;// 避免重复回调\r\n        _showFieldError(target,isValid,msg);\r\n        this.isFormFiledsValid=isValid;\r\n        if(!isValid){\r\n            cb&&cb(false, fieldName);\r\n        }else{\r\n            cb&&cb(true, fieldName);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getUniqClassName(fieldName,idPrefix,ognlPrefix){\r\n    if(ognlPrefix){\r\n        fieldName = ognlPrefix + fieldName;\r\n    }\r\n    let className = (idPrefix ? idPrefix : 'form-custom-id-') + fieldName;\r\n    className = className.replace(/[\\]\\[\\.]/g, '-');\r\n    return className;\r\n}\r\n\r\nlet util = {\r\n     getField : function(fieldName,options) {// fieldName支持嵌套模式a[0].b.c，将复杂表单对象拍成扁平的，提交时需要立体对象可调用util.form2js，查询后需要还原为扁平对象渲染调用util.js2form，嵌套的子组件采用context传递父对象进行bind\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + fieldName] = {fieldName,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              formValues={};\r\n            }\r\n\r\n            formValues[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName);\r\n                }\r\n                if(options.noChineseSymbol){\r\n                    let fv = formValues[fieldName];\r\n                    if(fv&&(fv.indexOf('（')>-1 || fv.indexOf('）')>-1 || fv.indexOf('“')>-1 || fv.indexOf('”')>-1|| fv.indexOf('，')>-1|| fv.indexOf('：')>-1 || fv.indexOf('；')>-1 || fv.indexOf('！')>-1)){\r\n                        message.warn('亲的输入中含有中文符号! 常见的有:“”（）；，！：');\r\n                        fv = fv.replace(/[（）“”，：；！]/g, '');\r\n                        formValues[fieldName] = fv;\r\n                    }\r\n                }\r\n                if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                    if(Array.isArray(formValues[fieldName]))\r\n                    formValues[fieldName]=formValues[fieldName][0];\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            })\r\n          },\r\n          value:this.state.formValues?this.state.formValues[fieldName]:undefined,\r\n          className\r\n        };\r\n        if(options){\r\n            if(options.mode=='checkbox'){\r\n                fieldProp.checked = this.state.formValues?this.state.formValues[fieldName]:undefined;\r\n                delete fieldProp.value;\r\n            }else if(options.mode=='RangePickerDate'){// 选日期范围，做规整\r\n                if(fieldProp.value&&fieldProp.value.length==2){\r\n                    fieldProp.value[0]=fieldProp.value[0].startOf('day');\r\n                    fieldProp.value[1]=fieldProp.value[1].endOf('day');\r\n                }\r\n            }else if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                if(!Array.isArray(fieldProp.value))\r\n                    fieldProp.value=[fieldProp.value];\r\n            }\r\n        }\r\n        return fieldProp;\r\n    },\r\n    getSubField:function(ognlPrefix,fieldName,context,options){// 复杂表单使用，存在嵌套多层字段；由于唯一标识需要，需要通过ognlPrefix来区分，ognlPrefix本身是个ognl，为截止到当前字段的前缀:如a.b[1]，其ognl的含义就是指向context，fieldName字段名c，context当前字段的载体父对象如formValues.a.b[1]，如果位于根对象上，请传formValues或不传\r\n        ognlPrefix = ognlPrefix||'';\r\n        if(ognlPrefix.startsWith('formValues.')){\r\n            ognlPrefix = ognlPrefix.substring('formValues.'.length);\r\n        }\r\n        if(!context){\r\n            context = this.state.formValues||{};\r\n        }\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + ognlPrefix+fieldName] = {fieldName,ognlPrefix,context,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix, ognlPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              context=formValues={};\r\n            }\r\n            context[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName, ognlPrefix, context);\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            });// 触发render以使得context的修改生效，其实就是为下面的value服务\r\n          },\r\n          value:context[fieldName],\r\n          className\r\n        };\r\n        if(options&&options.mode=='checkbox'){\r\n            fieldProp.checked = context[fieldName];\r\n            delete fieldProp.value;\r\n        }\r\n        return fieldProp;\r\n    },\r\n    clearValidateFields:function(){\r\n        for(let k in this){\r\n            if(k.startsWith('__validField_')){\r\n                delete this[k];\r\n            }\r\n        }\r\n    },\r\n    getEventTargetValue:function(e){\r\n        if(!e)return e;\r\n        if (typeof e == 'string' || typeof e == 'number' || typeof e == 'boolean') {\r\n            return e;\r\n        } else {\r\n            if(typeof e == 'object' && e.hasOwnProperty('length')){\r\n                return e;\r\n            }\r\n            if(e&&e.target){\r\n                let fieldVal = e.target.value;\r\n                if(e.target.hasOwnProperty('checked') && e.target.type!='radio'){\r\n                    fieldVal = e.target.checked;\r\n                }\r\n                return fieldVal;\r\n            }\r\n            if(e.valueOf&&typeof e.valueOf == 'function'){\r\n                return e;\r\n            }\r\n        }\r\n    },\r\n    validateFields:function(callback,validFields){// 表单提交时，自动触发所有校验，通过后方可回调\r\n        if(!validFields){// 只校验的字段\r\n            validFields=[];\r\n        }\r\n        validFields = validFields.map(vf=>'__validField_'+vf);\r\n        let isFormValid = true;\r\n        let validateKeys = [];// 需要校验的字段\r\n        for(let vkey in this){\r\n            if(vkey.startsWith('__validField_')){\r\n                if(validFields.length > 0 && validFields.indexOf(vkey) === -1){\r\n                    continue;\r\n                }\r\n                let target = _getFormElementByFieldName.call(this,this[vkey].fieldName,this[vkey].ognlPrefix);\r\n                if(!target){\r\n                    continue;\r\n                }\r\n                validateKeys.push(vkey);\r\n            }\r\n        }\r\n        let validCount = validateKeys.length;\r\n        for(let i=0;i<validateKeys.length;i++){\r\n            let vkey = validateKeys[i];\r\n            _triggerFieldValidation.call(this, this[vkey].rules,this[vkey].fieldName, this[vkey].ognlPrefix, this[vkey].context, (valid,fieldName)=>{// 确保一次trigger只回调一次\r\n                if(valid){\r\n                    validCount--;\r\n                    if(validCount===0){\r\n                        validCount--;\r\n                        callback(util._convertFormValues(this.state.formValues));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if(validCount===0){\r\n            validCount--;\r\n            callback(util._convertFormValues(this.state.formValues));\r\n        }\r\n    },\r\n    _convertFormValues:function(formValues){// 日期moment的通用转换，省的后端老转\r\n        if(!formValues)return formValues;\r\n        let newFormValues={};\r\n        for(let k in formValues){\r\n            let formValue=formValues[k];\r\n            if(formValue&&formValue._isAMomentObject){\r\n                newFormValues[k]=util.formatDate(formValue);\r\n            }else{\r\n                newFormValues[k]=formValue;\r\n            }\r\n        }\r\n        return newFormValues;\r\n    },\r\n    showFieldError:_showFieldError,\r\n\r\n\r\n    getComponent:function(component,ops){\r\n        ops && component.props && (component.props.value=ops.value);\r\n        return component;\r\n    },\r\n    form2js:function(nameValues, skipEmpty){\r\n        let result = {},\r\n            arrays = {},\r\n            delimiter = '.',\r\n            j, k, l,\r\n            value,\r\n            nameParts,\r\n            currResult,\r\n            arrNameFull,\r\n            arrName,\r\n            arrIdx,\r\n            namePart,\r\n            _nameParts;\r\n        let sortedNameValues={},keys=[];\r\n        for(let k in nameValues){\r\n            keys.push(k);\r\n        }\r\n        keys.sort();\r\n        for(let k of keys){\r\n            sortedNameValues[k]=nameValues[k];\r\n        }\r\n        nameValues=sortedNameValues;\r\n        for (let name in nameValues)\r\n        {\r\n            value = nameValues[name];\r\n\r\n            if (skipEmpty && (value === '' || value === null)) continue;\r\n            _nameParts = name.split(delimiter);\r\n            nameParts = [];\r\n            currResult = result;\r\n            arrNameFull = '';\r\n\r\n            for(j = 0; j < _nameParts.length; j++)\r\n            {\r\n                namePart = _nameParts[j].split('][');\r\n                if (namePart.length > 1)\r\n                {\r\n                    for(k = 0; k < namePart.length; k++)\r\n                    {\r\n                        if (k === 0)\r\n                        {\r\n                            namePart[k] = namePart[k] + ']';\r\n                        }\r\n                        else if (k === namePart.length - 1)\r\n                        {\r\n                            namePart[k] = '[' + namePart[k];\r\n                        }\r\n                        else\r\n                        {\r\n                            namePart[k] = '[' + namePart[k] + ']';\r\n                        }\r\n\r\n                        arrIdx = namePart[k].match(/([a-z_]+)?\\[([a-z_][a-z0-9_]+?)\\]/i);\r\n                        if (arrIdx)\r\n                        {\r\n                            for(l = 1; l < arrIdx.length; l++)\r\n                            {\r\n                                if (arrIdx[l]) nameParts.push(arrIdx[l]);\r\n                            }\r\n                        }\r\n                        else{\r\n                            nameParts.push(namePart[k]);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    nameParts = nameParts.concat(namePart);\r\n            }\r\n\r\n            for (j = 0; j < nameParts.length; j++)\r\n            {\r\n                namePart = nameParts[j];\r\n\r\n                if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrNameFull += arrName;\r\n\r\n                    if (!currResult[arrName]) currResult[arrName] = [];\r\n                    currResult[arrName].push(value);\r\n                }\r\n                else if (namePart.indexOf('[') > -1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrIdx = namePart.replace(/(^([a-z_]+)?\\[)|(\\]$)/gi, '');\r\n\r\n                    /* Unique array name */\r\n                    arrNameFull += '_' + arrName + '_' + arrIdx;\r\n\r\n                    /*\r\n                     * Because arrIdx in field name can be not zero-based and step can be\r\n                     * other than 1, we can't use them in target array directly.\r\n                     * Instead we're making a hash where key is arrIdx and value is a reference to\r\n                     * added array element\r\n                     */\r\n\r\n                    if (!arrays[arrNameFull]) arrays[arrNameFull] = {};\r\n                    if (arrName !== '' && !currResult[arrName]) currResult[arrName] = [];\r\n\r\n                    if (j === nameParts.length - 1)\r\n                    {\r\n                        if (arrName === '')\r\n                        {\r\n                            currResult.push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];\r\n                        }\r\n                        else\r\n                        {\r\n                            currResult[arrName].push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (!arrays[arrNameFull][arrIdx])\r\n                        {\r\n                            if ((/^[0-9a-z_]+\\[?/i).test(nameParts[j+1])) currResult[arrName].push({});\r\n                            else currResult[arrName].push([]);\r\n\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n\r\n                    currResult = arrays[arrNameFull][arrIdx];\r\n                }\r\n                else\r\n                {\r\n                    arrNameFull += namePart;\r\n\r\n                    if (j < nameParts.length - 1) /* Not the last part of name - means object */\r\n                    {\r\n                        if (!currResult[namePart]) currResult[namePart] = {};\r\n                        currResult = currResult[namePart];\r\n                    }\r\n                    else\r\n                    {\r\n                        currResult[namePart] = value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    js2form:function(obj){\r\n        let results = util._js2formResults(obj);\r\n        if(results){\r\n            let formObj={};\r\n            for (let i = 0;i<results.length;i++) {\r\n                formObj[results[i].name] = results[i].value;\r\n            }\r\n            return formObj;\r\n        }else{\r\n            return undefined;\r\n        }\r\n    },\r\n\r\n    _js2formResults:function(obj, lvl) {\r\n        let result = [], i, name;\r\n        if (arguments.length === 1) lvl = 0;\r\n\r\n        if (obj == null)\r\n        {\r\n            result = [{ name: \"\", value: null }];\r\n        }\r\n        else if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || obj instanceof Date)\r\n        {\r\n            result = [\r\n                { name: \"\", value : obj }\r\n            ];\r\n        }\r\n        else if (obj instanceof Array)\r\n        {\r\n            for (i = 0; i < obj.length; i++)\r\n            {\r\n                name = \"[\" + i + \"]\";\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (i in obj)\r\n            {\r\n                name = i;\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    _getSubValues:function(subObj, name, lvl)\r\n    {\r\n        let itemName;\r\n        let result = [], tempResult = util._js2formResults(subObj, lvl + 1), i, tempItem;\r\n\r\n        for (i = 0; i < tempResult.length; i++)\r\n        {\r\n            itemName = name;\r\n            if (/^\\[\\d+?\\]/.test(tempResult[i].name))\r\n            {\r\n                itemName += tempResult[i].name;\r\n            }\r\n            else if (/^[a-zA-Z_][a-zA-Z_0-9]*/.test(tempResult[i].name))\r\n            {\r\n                itemName += '.' + tempResult[i].name;\r\n            }\r\n\r\n            tempItem = { name: itemName, value: tempResult[i].value };\r\n            result.push(tempItem);\r\n        }\r\n\r\n        return result;\r\n    },\r\n\tgetUrlParams:function() {\r\n\t\tlet url = window.location.search; // 获取url中\"?\"符后的字串\r\n\t\tlet theRequest={}, idx;\r\n\t\tif ((idx=url.indexOf(\"?\")) != -1) {\r\n\t\t\tlet str = url.substring(idx+1);\r\n\t\t\tlet strs = str.split(\"&\");\r\n\t\t\tfor(let i = 0; i < strs.length; i++) {\r\n\t\t\t\tlet pair=strs[i].split(\"=\");\r\n\t\t\t\ttheRequest[pair[0]]=decodeURIComponent(pair[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn theRequest;\r\n\t},\r\n    ajax:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('system error' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('error' + ':\\n' + (result.message?result.message:''), 3);\r\n                }\r\n                if(!result){\r\n                    message.error('interface error');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     post:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('系统错误' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            type:'POST',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('业务错误' + ':\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'')));\r\n                }\r\n                if(!result){\r\n                    message.error('系统接口错误');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJson:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('network error' + '\\n' + response);\r\n     },options={})=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        minAjax({\r\n            ...options,\r\n            url:url,\r\n            data:dataStr,\r\n            async:true,\r\n            type:'POST',\r\n            contentType:'text/plain;charset=UTF-8',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false && data.noErrAlert!==true){\r\n                   message.error('服务接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                }\r\n                successCallback(result,xhr);\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJsonAsync:(url, data)=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        let promise=new Promise((successCallback,errorCallback)=>{\r\n            minAjax({\r\n                url:url,\r\n                data:dataStr,\r\n                async:true,\r\n                type:'POST',\r\n                contentType:'text/plain;charset=UTF-8',\r\n                xhrFields:{\r\n                  withCredentials:true\r\n                },\r\n                success:(result,xhr)=>{\r\n                    if(result && result.success === false && data.noErrAlert!==true){\r\n                       message.error('接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.failMessage?result.failMessage:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                    }\r\n                    successCallback(result,xhr);\r\n                },\r\n                error:errorCallback?errorCallback:(response)=>{\r\n                    message.error('network error' + '\\n' + response);\r\n                }\r\n            });\r\n        });\r\n        \r\n        return promise;\r\n     },\r\n     isEmpty:obj => {\r\n         if (obj == undefined || obj == null || (typeof obj == 'string' && '' == obj.trim())) {\r\n             return true;\r\n         }\r\n         return false;\r\n     },\r\n     getStringValue:obj => {\r\n        if(obj === undefined || obj === null){\r\n            return '';\r\n        }\r\n        if(typeof obj == 'object'){\r\n            return JSON.stringify(obj);\r\n        }\r\n        return obj + '';\r\n     },\r\n     convertStr2Num:(queryCond, name)=>{\r\n        if(queryCond[name] !== undefined){\r\n          if(queryCond[name] === '0' || queryCond[name] === 0 || queryCond[name] === ''){\r\n            delete queryCond[name];\r\n          }else{\r\n            queryCond[name] = +queryCond[name];\r\n          } \r\n        }\r\n     },\r\n     mask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.createElement('span');\r\n            maskElement.id='myCustomAntdMask';\r\n            domElement.appendChild(maskElement);\r\n            domElement.classList.add(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     unmask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.getElementById('myCustomAntdMask');\r\n            if(maskElement){\r\n                maskElement.remove();\r\n            }\r\n            domElement.classList.remove(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     formatDate : (date, style) => {\r\n        if (!date && 0 !== date) {\r\n            return;\r\n        }\r\n        if (!style) {\r\n            style = 'yyyy-MM-dd hh:mm:ss';\r\n        }\r\n        if(date._isAMomentObject){\r\n            date = date.valueOf();\r\n        }\r\n        let shortYear=false;\r\n        if(style.startsWith('yy-')||style.startsWith('yy年')){\r\n            style='yy'+style;\r\n            shortYear=true;\r\n        }\r\n        if (typeof date == 'string' || typeof date == 'number') {\r\n            date = new Date(date);\r\n        }else if(typeof date == 'object' && typeof date.getFullYear == 'function'){\r\n\r\n        }else{\r\n            return '格式错误';\r\n        }\r\n        let y = date.getFullYear();    \r\n        let M = \"0\" + (date.getMonth() + 1);    \r\n        M = M.substring(M.length - 2);   \r\n        let d = \"0\" + date.getDate();   \r\n        d = d.substring(d.length - 2);    \r\n        let h = \"0\" + date.getHours();    \r\n        h = h.substring(h.length - 2);    \r\n        let m = \"0\" + date.getMinutes();    \r\n        m = m.substring(m.length - 2);   \r\n        let s = \"0\" + date.getSeconds();    \r\n        s = s.substring(s.length - 2);   \r\n        let result=style.replace('yyyy', y).replace('MM', M).replace('dd', d).replace('hh', h).replace('mm', m).replace('ss', s);\r\n        if(shortYear){\r\n            result=result.substring(2);\r\n        }\r\n        return result;\r\n     },\r\n     guid: ()=> {\r\n        return 'xxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n    getFileBase64: function(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    },\r\n    round: function(number){\r\n        if(isNaN(number))return number;\r\n        return Math.round(number * 100) / 100;\r\n    },\r\n     getShortDate:function(timestamp, short){\r\n        let now=new Date().getTime();\r\n        if(Math.abs(now-timestamp) < 86400000){\r\n            let fd=util.formatDate(timestamp, 'hh:mm:ss');\r\n            if(short){\r\n                return fd.substring(3);\r\n            }\r\n            return fd;\r\n        }else{\r\n            let fd=util.formatDate(timestamp, 'yyyy-MM-dd');\r\n            if(short){\r\n                return fd.substring(2);\r\n            }\r\n            return fd;\r\n        }\r\n     },\r\n     setAllNum2Str:function(data){\r\n        if(data){\r\n            for(let k in data){\r\n                if(typeof data[k] === 'number'){\r\n                    data[k] = data[k] + '';\r\n                }\r\n            }\r\n        }\r\n     },\r\n     tuomin:function(data,count=1){\r\n        if(data){\r\n            data=data+'';\r\n            if(this.isChinese(data)&&data.length > 1&&data.length<5){\r\n                return data[0] + '*'.repeat(data.length-1);\r\n            }\r\n            if(data.length==3){\r\n                return data[0]+'*'+data[2];\r\n            }\r\n            if(data.length<=count+1){\r\n                return data[0]+'*';\r\n            }\r\n            let dotStr='.'.repeat(count);\r\n            if(new RegExp(`^${dotStr}(.*)${dotStr}`,'g').test(data)){\r\n                return data.replace(RegExp.$1, '*'.repeat(RegExp.$1.length));\r\n            }\r\n        }else{\r\n            return data;\r\n        }\r\n     },\r\n     isChinese:function(s){\r\n        let patrn= /[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi;\r\n        return patrn.exec(s);\r\n     },\r\n     convertToChinaNum:function(num) {\r\n        let arr1 = new Array('零', '一', '二', '三', '四', '五', '六', '七', '八', '九');\r\n        let arr2 = new Array('', '十', '百', '千', '万', '十', '百', '千', '亿', '十', '百', '千','万', '十', '百', '千','亿');//可继续追加更高位转换值\r\n        if(!num || isNaN(num)){\r\n            return \"零\";\r\n        }\r\n        if((num+'').indexOf('.')==num.length-1)return '';\r\n        let english = num.toString().split(\"\")\r\n        let result = \"\";\r\n        for (let i = 0; i < english.length; i++) {\r\n            let des_i = english.length - 1 - i;//倒序排列设值\r\n            result = arr2[i] + result;\r\n            let arr1_index = english[des_i];\r\n            result = arr1[arr1_index] + result;\r\n        }\r\n        //将【零千、零百】换成【零】 【十零】换成【十】\r\n        result = result.replace(/零(千|百|十)/g, '零').replace(/十零/g, '十');\r\n        //合并中间多个零为一个零\r\n        result = result.replace(/零+/g, '零');\r\n        //将【零亿】换成【亿】【零万】换成【万】\r\n        result = result.replace(/零亿/g, '亿').replace(/零万/g, '万');\r\n        //将【亿万】换成【亿】\r\n        result = result.replace(/亿万/g, '亿');\r\n        //移除末尾的零\r\n        result = result.replace(/零+$/, '')\r\n        //将【零一十】换成【零十】\r\n        //result = result.replace(/零一十/g, '零十');//貌似正规读法是零一十\r\n        //将【一十】换成【十】\r\n        result = result.replace(/^一十/g, '十');\r\n        return result;\r\n     },\r\n     encode:function(str){\r\n        return window.btoa(unescape(encodeURIComponent(str)));\r\n     },\r\n     decode:function(str){\r\n        return decodeURIComponent(escape(window.atob(str)));\r\n     },\r\n     getJSONString:function(obj){// js风格的伪json，转为真json\r\n        if(!obj){\r\n            return obj;\r\n        }\r\n        if (typeof obj == 'string'){\r\n            try{\r\n                JSON.parse(obj);\r\n                return obj;\r\n            }catch(e){\r\n                return JSON.stringify(eval(`(${obj})`));\r\n            }\r\n        }\r\n     },\r\n     getJSON:function(str){\r\n        let paramObj;\r\n        if(!str){\r\n            return paramObj;\r\n        }\r\n        str = window.removeCommentFromJSON(str);\r\n        try{\r\n            paramObj=JSON.parse(str);\r\n        }catch(e){\r\n            try{\r\n              paramObj=eval(`(${str})`);\r\n            }catch(e1){\r\n            }\r\n        }\r\n        return paramObj;\r\n     },\r\n     getCookie:function(key){\r\n        let result = key ? undefined : {};\r\n        let cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\r\n        for (let i = 0, l = cookies.length; i < l; i++) {\r\n            let parts = cookies[i].split('=');\r\n            let name = parts.shift();\r\n            let cookie = parts.join('=');\r\n\r\n            if (key && key === name) {\r\n                // If second argument (value) is a function it's a converter...\r\n                result = cookie;\r\n                break;\r\n            }\r\n            // Prevent storing a cookie that we couldn't decode.\r\n            if (!key && cookie !== undefined) {\r\n                result[name] = cookie;\r\n            }\r\n        }\r\n        return result;\r\n     },\r\n     pushAt:function(arr,idx,obj){\r\n        if(arr&&idx>=0&&arr.length>=idx){\r\n            let newArr=[];\r\n            for(let i=0;i<arr.length;i++){\r\n                if(i==idx){\r\n                    newArr.push(obj);\r\n                }\r\n                newArr.push(arr[i]);\r\n            }\r\n            if(idx==arr.length){\r\n                newArr.push(obj);\r\n            }\r\n            return newArr;\r\n        }\r\n        return arr;\r\n     },\r\n\r\n     throttle:function( delay, no_trailing, callback, debounce_mode ) {\r\n        // After wrapper has stopped being called, this timeout ensures that\r\n        // `callback` is executed at the proper times in `throttle` and `end`\r\n        // debounce modes.\r\n        let timeout_id,\r\n          \r\n          // Keep track of the last time `callback` was executed.\r\n          last_exec = 0;\r\n        \r\n        // `no_trailing` defaults to falsy.\r\n        if ( typeof no_trailing !== 'boolean' ) {\r\n          debounce_mode = callback;\r\n          callback = no_trailing;\r\n          no_trailing = undefined;\r\n        }\r\n        \r\n        // The `wrapper` function encapsulates all of the throttling / debouncing\r\n        // functionality and when executed will limit the rate at which `callback`\r\n        // is executed.\r\n        function wrapper() {\r\n          let that = this,\r\n            elapsed = +new Date() - last_exec,\r\n            args = arguments;\r\n          \r\n          // Execute `callback` and update the `last_exec` timestamp.\r\n          function exec() {\r\n            last_exec = +new Date();\r\n            callback.apply( that, args );\r\n          }\r\n          \r\n          // If `debounce_mode` is true (at_begin) this is used to clear the flag\r\n          // to allow future `callback` executions.\r\n          function clear() {\r\n            timeout_id = undefined;\r\n          }\r\n          \r\n          if ( debounce_mode && !timeout_id ) {\r\n            // Since `wrapper` is being called for the first time and\r\n            // `debounce_mode` is true (at_begin), execute `callback`.\r\n            exec();\r\n          }\r\n          \r\n          // Clear any existing timeout.\r\n          timeout_id && clearTimeout( timeout_id );\r\n          \r\n          if ( debounce_mode === undefined && elapsed > delay ) {\r\n            // In throttle mode, if `delay` time has been exceeded, execute\r\n            // `callback`.\r\n            exec();\r\n            \r\n          } else if ( no_trailing !== true ) {\r\n            // In trailing throttle mode, since `delay` time has not been\r\n            // exceeded, schedule `callback` to execute `delay` ms after most\r\n            // recent execution.\r\n            // \r\n            // If `debounce_mode` is true (at_begin), schedule `clear` to execute\r\n            // after `delay` ms.\r\n            // \r\n            // If `debounce_mode` is false (at end), schedule `callback` to\r\n            // execute after `delay` ms.\r\n            timeout_id = setTimeout( debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay );\r\n          }\r\n        }\r\n        \r\n        // Return the wrapper function.\r\n        return wrapper;\r\n      },\r\n      debounce:function( delay, at_begin, callback ) {\r\n        return callback === undefined\r\n          ? util.throttle( delay, at_begin, false )\r\n          : util.throttle( delay, callback, at_begin !== false );\r\n      },\r\n\r\n      mixUids:[\"MTkxNzB4kZ1mMtYWZiNCx04450ZDcwLTg2OD5ktN75zQ2MGEwZjhh7YWU0\",\r\n                \"ZDg4ODVkZjQtNzRmZS00NTdjLWIyMmMtMTU2MjBmZT4m4fgxNzY4\",\r\n                \"NmVmNDVmZ434TUtZGJmYS00MjYxLTk1NGEtOTc4OTY3MjMyYTA4\",\r\n                \"ODA4NTdkwZD44AtOWJmYi00YTQzLWJjNDYtMTRmODNMzE5MWI3\",\r\n                \"MTAyYmRiZ5jAtOTQ0Ni00ZGJkLWI3MmUtNm5YzODRkYmM5NzNk\",\r\n                \"MfWI4Y2MzY5mUtYmYyNi00OWE3LTkyY1zEtMDYo53NzB3kYT77A0NjY0\"],\r\n      mixStr:function(str){\r\n        if(!str)return str;\r\n        let reverseBase64=base64url.encode(str.split(\"\").reverse().join(\"\"));\r\n        let rChars=reverseBase64.split(\"\");\r\n        for(let uid of util.mixUids){\r\n            let rIdx=Math.trunc(Math.random()*(rChars.length-1));\r\n            rChars.splice(rIdx,0,uid);\r\n        }\r\n        return `7$1y$${rChars.join(\"\")}2$6x$`;\r\n      },\r\n      unMixStr:function(str){\r\n        if(!str)return str;\r\n        if(str.startsWith('7$1y$')&&str.endsWith('2$6x$')){\r\n            for(let uid of util.mixUids){\r\n                str = str.replace(uid, \"\");\r\n            }\r\n            return base64url.decode(str.substring(5, str.length - 5)).split('').reverse().join('');\r\n        }\r\n        return str;\r\n      }\r\n };\r\n\r\n function initXMLhttp() {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        //code for IE7,firefox chrome and above\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else if(window.ActiveXObject){\r\n        //code for Internet Explorer\r\n        xmlhttp = new window.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return xmlhttp;\r\n}\r\n\r\nfunction sign(str=''){\r\n    return md5(str);\r\n}\r\n\r\nexport function minAjax(config) {\r\n    if (!config.url) {\r\n        return;\r\n    }\r\n    if (!config.type) {\r\n        config.type = 'GET';\r\n    }\r\n    if (!config.debugLog) {\r\n        config.debugLog = false;\r\n    }\r\n\r\n    let xmlhttp = initXMLhttp();\r\n    if ( config.xhrFields ) {\r\n        for (let i in config.xhrFields ) {\r\n            xmlhttp[ i ] = config.xhrFields[ i ];\r\n        }\r\n    }\r\n    if (!config.contentType) {\r\n        config.contentType = \"application/x-www-form-urlencoded\";\r\n    }\r\n    if (!config.dataType) {\r\n        config.dataType = 'json';\r\n    }\r\n    \r\n    xmlhttp.onreadystatechange = () => {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            if (config.success) {\r\n                let response = xmlhttp.responseText;\r\n                if(response&&config.dataType == 'json'){\r\n                    response = JSON.parse(response);\r\n                    // response._account=decodeURIComponent(xmlhttp.getResponseHeader('_account'));\r\n                }\r\n                config.success(response,xmlhttp);\r\n            }\r\n        }\r\n        if(xmlhttp.status == 333){\r\n            emitter.emit('goto-login',{config,body:xmlhttp.responseText});\r\n            return;\r\n        }\r\n        if(xmlhttp.status == 403){// 自定义代码块\r\n            return message.error(\"无权限!\");\r\n        }\r\n        if(xmlhttp.status == 431){\r\n            return message.error(\"服务查询失败!\");\r\n        }\r\n        if(xmlhttp.status == 432){\r\n            return message.error(\"服务不存在!\");\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status > 200) {\r\n            let errorInfo = xmlhttp.responseText;\r\n            let rspContentType = xmlhttp.getResponseHeader('Content-Type');\r\n            if(rspContentType&&rspContentType.indexOf('json') > -1){\r\n                let rsp = JSON.parse(xmlhttp.responseText);\r\n                if(rsp.errors&&rsp.errors){\r\n                    errorInfo = JSON.stringify(rsp.errors);\r\n                }\r\n            }\r\n            message.info(errorInfo, 3);\r\n\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n\r\n            return;\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 0) {\r\n            message.error(`网络错误，请确认服务器地址 '${config.url}' 可用!`);\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n        }\r\n    };\r\n    let sendString = [],\r\n        sendData = config.data;\r\n    if( typeof sendData === \"string\" ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            let tmpArr = String.prototype.split.call(sendData,'&');\r\n            for(let i = 0, j = tmpArr.length; i < j; i++){\r\n                let datum = tmpArr[i].split('=');\r\n                sendString.push(datum[0] + \"=\" + encodeURIComponent(datum[1]));\r\n            }\r\n        } else {\r\n            sendString.push(sendData);\r\n        }\r\n    }else if( typeof sendData === 'object' && !( sendData instanceof String || (FormData && sendData instanceof FormData) ) ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            for (let k in sendData) {\r\n                let datum = sendData[k];\r\n                if(datum && typeof datum === 'string'){\r\n                    datum = datum.trim();\r\n                }\r\n                if(datum || 0===datum){\r\n                    if( Object.prototype.toString.call(datum) == \"[object Array]\" ){\r\n                        for(let i = 0, j = datum.length; i < j; i++) {\r\n                                sendString.push(k + \"=\" + encodeURIComponent(datum[i]));\r\n                        }\r\n                    }else{\r\n                        sendString.push(k + \"=\" + encodeURIComponent(datum));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sendString = sendString.join('&');\r\n    let async = true;\r\n    if ('async' in config) {\r\n        async = config.async;\r\n    }\r\n    if(!window.isProd()&&config.url.indexOf('logFlowLogs=true')==-1){\r\n        if(config.url.indexOf('?') > -1){\r\n            config.url=config.url+'&logFlowLogs=true';\r\n        }else{\r\n            config.url=config.url+'?logFlowLogs=true';\r\n        }\r\n    }\r\n    if (config.type == \"GET\") {\r\n        if(config.url.indexOf('?') > -1){\r\n            xmlhttp.open(\"GET\", config.url + sendString, async);\r\n        }else{\r\n            xmlhttp.open(\"GET\", config.url + \"?\" + sendString, async);\r\n        }\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp);\r\n        }\r\n        xmlhttp.send();\r\n    }\r\n    if (config.type == \"POST\") {\r\n        xmlhttp.open(\"POST\", config.url, async);\r\n        xmlhttp.setRequestHeader(\"Content-type\", config.contentType);\r\n        let t=new Date().getTime();\r\n        xmlhttp.setRequestHeader(\"Accept-Language\", sign(sendString+t)+t);\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp,sendString);\r\n        }\r\n        xmlhttp.send(sendString);\r\n    }\r\n}\r\n\r\nexport {util, emitter}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\n\r\nexport const allMetaData = {\r\n  \r\n};\r\nexport const allDictData = {};\r\n\r\nexport default class CommonSelect extends Component {\r\n  static defaultProps = {\r\n      appCode : '',\r\n      allText : '请选择'\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let options = (allMetaData[this.props.dictCode] || []).filter(item=>{\r\n      if(this.props.excludeValues && this.props.excludeValues.length>0 && this.props.excludeValues.indexOf(item.key) > -1){\r\n        return false;\r\n      }\r\n      if(this.props.includeValues){\r\n        if(this.props.includeValues.length>0 && this.props.includeValues.indexOf(item.key) > -1){\r\n          return true;\r\n        }else{\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }).map(item=>{\r\n      let {desc} = item;\r\n      let {showKey,renderDesc,withTitle} = this.props;\r\n      if(showKey){\r\n        desc = desc + `[${item.key}]`;\r\n      }else if(renderDesc){\r\n        desc = renderDesc(item);\r\n      }\r\n      return (<Select.Option title={desc} key={item.key + ''} value={util.getStringValue(item.key)}>{desc}</Select.Option>)\r\n    });\r\n    let value = util.getStringValue(this.props.value);\r\n    if(this.props.mode === 'multiple'){\r\n      value = this.props.value;\r\n    }\r\n    return (\r\n        <Select {...Object.assign({},this.props,{value})}>  \r\n          {this.props.withAll ? [<Select.Option key=\"\" value=\"\">{this.props.allText}</Select.Option>].concat(options) : options}\r\n        </Select>);\r\n  }\r\n}","import React, {\r\n  Component\r\n} from 'react';\r\nimport {\r\n  Table,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nexport default class Grid extends Component {\r\n  static defaultProps = {\r\n      pagination : true,\r\n      currentPageName : 'currentPageNum',\r\n      pageSizeName : 'pageSize',\r\n      totalName : 'totalItem',\r\n      defaultPageSize:10,\r\n      queryCondHandler : queryParam=>queryParam\r\n  };\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(this.props.queryEmitter, (queryCond,retainPagintion)=>{\r\n      if (!queryCond) {\r\n        queryCond = this.state.queryCond;\r\n      }\r\n      !this.unmount&&this.setState({\r\n        queryCond,\r\n        pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:retainPagintion?this.state.pagination.current:1}:undefined\r\n      },()=>{\r\n        this.fetchDataAjax(queryCond);\r\n      });\r\n    });\r\n    this.columns = this.props.columns.map(c => {return {\r\n      title:c.title,\r\n      dataIndex:c.key,\r\n      key:c.key,\r\n      width:c.width,\r\n      fixed:c.fixed,\r\n      render:c.render,\r\n      sorter:c.sorter\r\n    }});\r\n    \r\n    this.state = {\r\n      queryCond:{},\r\n      tableData:[],\r\n      pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:1} : undefined,\r\n      loading:false\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    if(!this.props.lazyInit){// 支持懒加载\r\n      this.fetchDataAjax(this.props.initQueryCond);\r\n    }\r\n  }\r\n  handleTableChange=(pagination, filters, sorter)=>{\r\n    if(this.props.onChange){\r\n      this.props.onChange(pagination, filters, sorter);\r\n    }\r\n    this.setState({\r\n      pagination\r\n    },()=>{\r\n      this.fetchDataAjax(this.state.queryCond,pagination,filters,sorter);\r\n    });\r\n  }\r\n  onRowClick=(record, index)=>{\r\n    if(this.props.onRowClick){\r\n      this.props.onRowClick(record, index);\r\n    }\r\n  }\r\n  fetchDataAjax=(queryCond,pagination,filters, sorter)=>{\r\n    if(this.props.beforeQuery){\r\n      try{\r\n        queryCond = this.props.beforeQuery(queryCond);\r\n      }catch(e){\r\n        this.setState({loading:false});\r\n        return;\r\n      }\r\n    }\r\n    this.setState({ queryCond, loading: true });\r\n    let ajaxMethod = util.ajaxJson;\r\n    \r\n    let queryCondParam = Object.assign({},queryCond,this.props.pagination?{[this.props.currentPageName]:this.state.pagination.current,[this.props.pageSizeName]:this.state.pagination.pageSize}:undefined);\r\n    if(typeof this.props.ajax == 'string'){\r\n      let queryParam=this.props.queryCondHandler(queryCondParam,pagination,filters,sorter);\r\n      ajaxMethod(this.props.ajax, queryParam, (result)=>{\r\n        if(this.props.resultHandler){\r\n          this.props.resultHandler(result,queryParam);\r\n        }\r\n        let tableData = [];\r\n        if(Array.isArray(result)){\r\n          tableData = result;\r\n        }else{\r\n          for(let k in result){\r\n            if(Array.isArray(result[k]) && k != 'logs'){\r\n              tableData = result[k];\r\n            }\r\n          }\r\n        }\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=result[this.props.totalName];\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      },err=>{\r\n        !this.unmount&&this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n    }else if(typeof this.props.ajax == 'function'){// 解决请求前需要异步请求前提数据场景\r\n      this.props.ajax(this.props.queryCondHandler(queryCondParam,pagination,filters,sorter), (tableData,total)=>{\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=total;\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.unmount=true;\r\n  }\r\n  render() {\r\n    return (<><Table rowKey={this.props.rowKey?this.props.rowKey:record=>record.id} rowSelection={this.props.rowSelection} columns={this.columns} dataSource={this.state.tableData} pagination={this.props.pagination ? this.state.pagination : false} onChange={this.handleTableChange} onRow={this.onRowClick} loading={this.state.loading} size={this.props.size} scroll={this.props.scroll} bordered={this.props.bordered} title={this.props.title} rowClassName={this.props.rowClassName} expandedRowRender={this.props.expandedRowRender} expandIcon={this.props.expandIcon} expandRowByClick={this.props.expandRowByClick} expandedRowKeys={this.props.expandedRowKeys?this.props.expandedRowKeys():[]} />\r\n    {this.props.showTotal&&this.state.pagination&&<span className=\"table-total-tips\">共{this.state.pagination.total}条</span>}\r\n    </>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Popconfirm,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Grid from './grid';\r\nexport default class BizTable extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.columns = this.props.config.fields.filter(f=>!f.notInTable).map(f=>{\r\n      let column = {key:f.key,title:f.label,width:f.width};\r\n      if(f.type=='datetime'){\r\n        column.render= (text,record) => util.formatDate(text);\r\n      }\r\n      if(f.enums){\r\n        const enumObj = {};\r\n        let {enums}=f;\r\n        if(typeof enums=='function'){\r\n          enums=enums();\r\n        }\r\n        enums.forEach(e=>{\r\n          let key,value;\r\n          key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n          value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n          enumObj[key]=value;\r\n        });\r\n        column.render= (text,record,idx) => {\r\n          if(f.render){\r\n            return f.render(text,record,idx,enumObj[text]);\r\n          }else{\r\n            if(Array.isArray(text)){\r\n              return text.map(it=>enumObj[it]).join(',');\r\n            }\r\n            return enumObj[text];\r\n          }\r\n        };\r\n      }else{\r\n        if(f.render){\r\n          column.render = f.render.bind(f);\r\n        }\r\n      }\r\n      return column;\r\n    });\r\n    if(this.props.config.table&&this.props.config.table.rowKey){\r\n      this.rowKey = this.props.config.table.rowKey;\r\n    }else{\r\n      this.rowKey = r=>r[this.props.config.fields.filter(f=>f.rowKey)[0].key];\r\n    }\r\n    \r\n    let {updateInterface,deleteInterface} = this.props.config.api;\r\n    let canDelete = !!deleteInterface;\r\n    if(updateInterface || deleteInterface || this.props.config.operationAddon || this.props.config.operationPrefix){\r\n      this.columns.push({\r\n          title: '操作',\r\n          key: 'operation',\r\n          render: (text, record) => {\r\n            if(this.props.config.table&&this.props.config.table.canModify){// 是否可修改\r\n              updateInterface = this.props.config.table.canModify(record);\r\n            }\r\n            if(this.props.config.table&&this.props.config.table.canDelete){// 是否可删除\r\n              canDelete = this.props.config.table.canDelete(record);\r\n            }\r\n            return (\r\n              <div className=\"opt-container\">\r\n                {this.props.config.operationPrefix&&this.props.config.operationPrefix(record)}\r\n                {updateInterface&&<a onClick={()=>{\r\n                  emitter.emit(`show${this.props.config.key}Dialog`, record, 'modify');\r\n                }}>修改</a>}\r\n                {canDelete&&<Popconfirm title={'确定要删除？'} onConfirm={()=>{\r\n                  let params={};\r\n                  for(let k in deleteInterface.params){\r\n                    params[k] = record[deleteInterface.params[k]];\r\n                  }\r\n                  if(this.props.config.table&&this.props.config.table.beforeDelete){\r\n                    params = this.props.config.table.beforeDelete(params,record);\r\n                  }\r\n                  util.ajaxJson(deleteInterface.func,params,(result)=>{\r\n                    if(result.success){\r\n                      message.success('删除成功！');\r\n                    }\r\n                    emitter.emit(`query${this.props.config.key}Table`,undefined,true);\r\n                  });\r\n                }}>\r\n                  <a>删除</a>\r\n                </Popconfirm>}\r\n                {this.props.config.operationAddon&&this.props.config.operationAddon(record)}\r\n              </div>\r\n            );\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.props.config.operationPreAddon){\r\n      this.columns.splice(0,0,{\r\n        title: '操作',\r\n        key: 'preOperation',\r\n        render: (text, record) => {\r\n          return (\r\n                <div className=\"pre-opt-container\">\r\n                {this.props.config.operationPreAddon(record)}\r\n                </div>);\r\n        }\r\n      });\r\n    }\r\n    \r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (<Grid rowKey={this.rowKey} ajax={this.props.config.api.queryInterface.func} beforeQuery={this.props.config.queryCond&&this.props.config.queryCond.beforeQuery} queryEmitter={`query${this.props.config.key}Table`} columns={this.columns} {...this.props.config.table}/>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Field from './field';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nexport default class BizForm extends Component{\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.hiddenFields = this.props.config.fields.filter(f=>f.isHiddenInForm&&!f.notInForm);\r\n    this.formFields = this.props.config.fields.filter(f=>!f.notInForm&&!f.isHiddenInForm);\r\n    emitter.on(`show${this.props.config.key}Dialog`, (formData, optType)=>{\r\n      if(this.props.config.form&&this.props.config.form.beforeShowDialog){\r\n        let shouldShow = this.props.config.form.beforeShowDialog(formData, optType);\r\n        if(!shouldShow)return;\r\n      }\r\n      this.setState({\r\n        visible:true,\r\n        optType\r\n      },()=>{\r\n        if (optType == 'modify') {\r\n          let fieldsValue = formData;\r\n          if(this.props.config.form&&this.props.config.form.beforeModify){\r\n            fieldsValue = this.props.config.form.beforeModify(formData);\r\n          }\r\n          this.setState({formValues:fieldsValue});\r\n        } else {\r\n          let formValues = {};\r\n          if(this.props.config.form&&this.props.config.form.beforeAdd){\r\n            let fieldsValue = this.props.config.form.beforeAdd(formData);\r\n            fieldsValue&&(formValues=fieldsValue);\r\n          }\r\n          this.setState({formValues});\r\n        }\r\n      });\r\n    });\r\n    this.state = {\r\n      visible: false,\r\n      optType: 'add',\r\n      formValues:{}\r\n    };\r\n  }\r\n  handleSubmit=()=>{\r\n    util.validateFields.call(this, values=>{\r\n      let fieldsValue = values;\r\n      if(this.props.config.form&&this.props.config.form.beforeSubmit){\r\n        fieldsValue = this.props.config.form.beforeSubmit(values, this.state.optType);\r\n      }\r\n      let hideLoading = message.loading('executing', 10);\r\n      util.ajaxJson(this.state.optType == 'modify' ? this.props.config.api.updateInterface.func : this.props.config.api.insertInterface.func,\r\n        {rec:fieldsValue},(data)=>{\r\n          if(data.success){\r\n            if(data.result&&data.result.resultType=='FAIL'){\r\n              message.error('保存失败, 原因：' + data.result.failMessage);\r\n            }else{\r\n              message.success('保存成功');\r\n            }\r\n            this.setState({\r\n              visible: false\r\n            },()=>{\r\n              this.setState({});\r\n            });\r\n            setTimeout(()=>{\r\n              emitter.emit(`query${this.props.config.key}Table`, undefined, true);\r\n            },this.props.config.delayQueryTable?this.props.config.delayQueryTable:0);\r\n          }\r\n          if(this.props.config.form&&this.props.config.form.afterSubmit){\r\n            this.props.config.form.afterSubmit(data,fieldsValue);\r\n          }\r\n          hideLoading();\r\n      },()=>{\r\n        hideLoading();\r\n      });\r\n\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    if(this.props.config.form&&this.props.config.form.beforeCancel){\r\n      this.props.config.form.beforeCancel();\r\n    }\r\n    this.setState({\r\n      visible: false,\r\n      formValues:{}\r\n    });\r\n  }\r\n\r\n  shouldFieldDisplay=(field)=>{\r\n    let shouldDisplay = true;\r\n    if(this.state.optType=='add'&&field.notInAdd===true){\r\n      shouldDisplay = false;\r\n    }\r\n    return shouldDisplay;\r\n  }\r\n\r\n  isRequired=(field)=>{\r\n    if(field&&field.rules&&field.rules.length>0){\r\n      for (let k in field.rules) {\r\n        if(field.rules[k].required){\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {labelCol: {span: 6},wrapperCol: {span: 14}};\r\n    let col = 1,className;\r\n    if(this.props.config.form){\r\n      if(this.props.config.form.col){\r\n        col = this.props.config.form.col;\r\n      }\r\n      if(this.props.config.form.className){\r\n        className = this.props.config.form.className;\r\n        this['__formClassName_']=className;\r\n      }\r\n    }\r\n    let modalTitle=typeof this.props.config.title =='string'?this.props.config.title:'';\r\n    return (<Modal title={this.state.optType == 'modify' ? `修改 ${modalTitle}` : `新增 ${modalTitle}`} maskClosable={false} visible={this.state.visible} width={this.props.config.dialog.width} onCancel = {this.handleCancel} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleSubmit}>\r\n            保存\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n      <Form className={className}>\r\n        {this.hiddenFields.map(hiddenField=>{\r\n          return <Input key={hiddenField.key} type=\"hidden\" {...util.getField.bind(this)(hiddenField.key,{...hiddenField.options})}/>;\r\n        })}\r\n        <Row>\r\n        {this.formFields.filter(field=>{\r\n          if(field.shouldDisplay&&field.shouldDisplay(this)===false){\r\n            return false;\r\n          }\r\n          return true;\r\n        }).map(field=>{\r\n          let label = <span>{field.label}{field.tooltip}</span>;\r\n          return (<Col key={field.key} span={24/col}><FormItem required={this.isRequired(field)} style={{display:this.shouldFieldDisplay(field)?'block':'none'}} label={label} {...formItemLayout}>\r\n          <Field field={field} optType={this.state.optType} {...field.props} {...util.getField.bind(this)(field.key,{rules:field.rules,...field.options})} context={this}/>\r\n        </FormItem></Col>);\r\n        })}\r\n        </Row>\r\n      </Form></Modal>\r\n    );\r\n  }\r\n}","import React,{Component,Fragment} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Table from './table/table';\r\nimport Form from './form/form';\r\nimport QueryCond from './table/queryCond';\r\nimport {emitter} from '../../common/common';\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,Icon\r\n} from 'antd';\r\nimport './index.less';\r\n\r\nexport default class BizIndex extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.components={};\r\n    this.state = {\r\n         keyword:''\r\n    };\r\n  }\r\n\r\n  getForm=()=>{\r\n    return this.components.form;\r\n  }\r\n  \r\n  render() {\r\n    let {onlyUseForm} = this.props;// 只是想用下表单，场景：其他页面想新增/修改时\r\n    return (\r\n      <div className={this.props.config.key+\"-container\"}>\r\n        {!onlyUseForm&&<Fragment>\r\n          <Row type=\"flex\" justify=\"space-between\" className=\"table-header\">\r\n            <Col span={6}><h2>{this.props.config.title}</h2></Col>\r\n            <Col span={2}>\r\n            </Col>\r\n            <Col span={14}></Col>\r\n            <Col span={2}>{this.props.config.api.insertInterface&&<Button type=\"primary\" size=\"small\" className=\"button\" onClick={()=>{\r\n              emitter.emit(`show${this.props.config.key}Dialog`, undefined, 'add');\r\n            }}><Icon type=\"plus\" />新增</Button>}</Col>\r\n          </Row>\r\n          <QueryCond wrappedComponentRef={e=>{\r\n            this.components.queryCond=e;\r\n          }} {...this.props}/>\r\n          <Table ref={e=>{\r\n            this.components.table=e;\r\n          }} {...this.props}/>\r\n        </Fragment>}\r\n        <Form ref={e=>{\r\n            this.components.form=e;\r\n          }} {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","var map = {\n\t\"./bill/queryBill/index.js\": 651,\n\t\"./common/indicates/index.js\": 652,\n\t\"./contact/index.js\": 653,\n\t\"./game/ballMate/index.js\": 570,\n\t\"./game/game/index.js\": 654,\n\t\"./operate/ballRoom/index.js\": 576,\n\t\"./operate/member/index.js\": 649,\n\t\"./operate/memberBill/index.js\": 625,\n\t\"./sys/config/index.js\": 628,\n\t\"./sys/optLog/index.js\": 631,\n\t\"./sys/sysRole/index.js\": 634,\n\t\"./sys/sysUser/index.js\": 655,\n\t\"./task/index.js\": 638,\n\t\"./train/class/index.js\": 656,\n\t\"./train/coach/index.js\": 657,\n\t\"./train/student/index.js\": 648\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 485;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport Area,{getDisplayText} from '../../common/indicates/area';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-game/ballMate`,()=>{\r\n      emitter.emit('queryBallMateTable');\r\n    });\r\n    this.config = {\r\n      title:'球友管理',\r\n      key:'BallMate',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n            key:'phone',\r\n            width:'10%',\r\n            props:{\r\n              maxLength:11\r\n            },\r\n            rules:[{required:true,message:'必填'},{validator:v=>{\r\n              return v&&/^1[0-9]{10}$/.test(v);\r\n            },message:'必须为1开头的11位手机号'}],\r\n            label:'手机号'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          type:'custom',\r\n          getComponent:(props,context)=>{\r\n            return <Area useName context={context} {...props}></Area>;\r\n          },\r\n          label:'省市区'\r\n        },{\r\n          key:'score',\r\n          width:'10%',\r\n          label:'积分'\r\n        },{\r\n            key:'maxScore',\r\n            width:'10%',\r\n            label:'最高积分'\r\n          },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.address){\r\n            formData.address=getDisplayText(formData.prov,formData.city,formData.county);\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'GameOperation?opt=queryBallMate'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=updateBallMate'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=insertBallMate'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=deleteBallMate',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'球馆管理',\r\n      key:'ballRoom',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'地址'\r\n        },{\r\n          key:'boss',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'法人'\r\n        },{\r\n          key:'staffs',\r\n          width:'30%',\r\n          enums:allStaffs.map(it=>({key:it.id+'',text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'球馆员工'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:rec=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BallRoomOperation?opt=queryBallRoom'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=updateBallRoom'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=insertBallRoom'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=deleteBallRoom',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-operate/memberBill`,()=>{\r\n      emitter.emit('queryMemberBillTable');\r\n    });\r\n    this.config = {\r\n      title:'会员流水',\r\n      key:'MemberBill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'memberName'},{key:'phone'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'memberName',\r\n          width:'10%',\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          label:'手机号'\r\n        },{\r\n          key:'operator',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'consumeType',\r\n          width:'10%',\r\n          label:'消费类型'\r\n        },{\r\n          key:'consumeTimes',\r\n          width:'10%',\r\n          label:'消费次数'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'roomId',\r\n          width:'10%',\r\n          enums:rooms.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'球馆'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMemberBill'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select, Popconfirm, InputNumber} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/config`,()=>{\r\n      this.initTenantConfig();\r\n    });\r\n    this.initTenantConfig()\r\n    this.state={\r\n        config:{},\r\n        formValues:{}\r\n    };\r\n  }\r\n  initTenantConfig=()=>{\r\n    util.ajaxJson(urlPrefix+'SysUserFramework?opt=getTenantConfig',{},res=>{\r\n        let config=res.data||{};\r\n        if(!config.billCates)config.billCates=['会员开户','学员开户','学员充值'];\r\n        if(!config.majorCoachRate)config.majorCoachRate=55;\r\n        if(!config.coachRate)config.coachRate=50;\r\n        let formValues={...config};\r\n        this.setState({config,formValues});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {config}=this.state;\r\n    return (\r\n      <div className=\"sys-config-c\">\r\n       <Tabs defaultActiveKey=\"1\">\r\n            <Tabs.TabPane tab=\"属性配置\" key=\"1\">\r\n                <Form.Item label=\"账务分类\" required>\r\n                    <Select mode=\"tags\" placeholder=\"请输入需要新增的账务分类供选择\" value={config.billCates} onChange={v=>{\r\n                        config.billCates=v;\r\n                        this.setState({config});\r\n                    }}>\r\n                        {config.billCates&&config.billCates.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"教练分账比例\" required>\r\n                  <div>主管教练：<InputNumber {...util.getField.call(this,'majorCoachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                  <div>普通教练：<InputNumber {...util.getField.call(this,'coachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                </Form.Item>\r\n            </Tabs.TabPane>\r\n        </Tabs>\r\n        <Popconfirm title=\"请您确认配置的准确性，保存后系统将直接生效，确定无误？\" onConfirm={()=>{\r\n          let {config,formValues}=this.state;\r\n          config = {...config,...formValues};\r\n            util.ajaxJson(urlPrefix+'SysUserFramework?opt=saveTenantConfig',{config},res=>{\r\n                if(res.success){\r\n                    message.success('保存系统配置成功！');\r\n                    emitter.emit('init-user-info');\r\n                }\r\n            });\r\n        }}><Button type=\"primary\">保存</Button></Popconfirm>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/optLog`,()=>{\r\n      emitter.emit('queryOptLogTable');\r\n    });\r\n    this.config = {\r\n      title:'操作日志',\r\n      key:'OptLog',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'},{key:'accountName'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'accountName',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          label:'操作类型'\r\n        },{\r\n          key:'content',\r\n          width:'40%',\r\n          render:(v,r)=>{\r\n            let reg = new RegExp(`\"customer_name\":\"(.+?)\"`,\"mg\");\r\n            let rs;\r\n            let resArr=[];\r\n            while((rs=reg.exec(v)) != null){\r\n              if(rs.length>0){\r\n                resArr.push(rs[1]);\r\n              }\r\n            }\r\n            if(resArr.length>0){\r\n              let resStr=resArr.join(', ');\r\n              if(r.type=='doTransfer'){\r\n                let obj=JSON.parse(v);\r\n                return `【转交数：${obj.customers.length}，接收人：${obj.owner_name}】 客户明细：${resStr}`;\r\n              }\r\n              return resStr;\r\n            }\r\n            return v;\r\n          },\r\n          label:'操作对象'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'ip',\r\n          width:'10%',\r\n          label:'IP'\r\n        },{\r\n          key:'ua',\r\n          width:'10%',\r\n          label:'客户端'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=queryOptLog'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,menus,urls,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'角色管理',\r\n      key:'sysRole',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'type',\r\n          width:'4%',\r\n          notInForm:true,\r\n          enums:[{key:'系统',text:'系统'},{key:'自定义',text:'自定义'}],\r\n          label:'类型'\r\n        },{\r\n          key:'menus',\r\n          width:'20%',\r\n          enums:()=>menus.map(it=>({key:it.code,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色包含菜单'\r\n        },{\r\n          key:'urls',\r\n          width:'20%',\r\n          enums:()=>urls.map(it=>({key:it.code,text:it.name})),\r\n          multi:true,\r\n          label:'角色包含功能'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {type:'自定义'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.content=JSON.stringify({menus:formData.menus,urls:formData.urls});\r\n          return formData;\r\n        },\r\n        afterSubmit:res=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        canModify:r=>r.type=='自定义',\r\n        canDelete:r=>r.type!='系统',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.content){\r\n              let contentObj=JSON.parse(it.content);\r\n              if(contentObj){\r\n                it.menus=contentObj.menus;\r\n                it.urls=contentObj.urls;\r\n              }\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysRole'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysRole'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysRole'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysRole',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <SelectTable columns={[{key:'id',title:'ID',width:'30%'},{key:'name',title:'名称',width:'70%'}]} urlSuffix=\"MemberOperation?opt=queryMember\" searchKey=\"name\"/> */}\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../common/common';\r\nimport BizComp from '../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-task`,()=>{\r\n      emitter.emit('queryTaskTable');\r\n    });\r\n    this.config = {\r\n      title:'任务待办',\r\n      key:'Task',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'执行人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          enums:[['跟进','跟进']],\r\n          label:'任务类型'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务开始时间'\r\n        },{\r\n          key:'expireTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务过期时间'\r\n        },{\r\n          key:'todoInfo',\r\n          width:'30%',\r\n          render:(v,r)=>{\r\n            return <pre>{v}</pre>;\r\n          },\r\n          label:'任务内容'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            if(r.start_time<new Date().getTime())return <span style={{color:'red'}}>已超期</span>;\r\n            if(v===0)return '待处理';\r\n            if(v===1)return '处理中';\r\n            if(v===2)return '已完成';\r\n            if(v===3)return '已放弃';\r\n            return v;\r\n          },\r\n          label:'状态'\r\n        },{\r\n          key:'finish_time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'完成时间'\r\n        }\r\n      ],\r\n      operationAddon:r=>{\r\n        return (<span>{r.status===0&&<a onClick={()=>{\r\n          if(r.type=='跟进'){\r\n            emitter.emit('main-clickmenu',{key:'customer'});\r\n            util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id},result=>{\r\n              emitter.emit('do-indicates-search',{company_name:r.customer_name});\r\n            });\r\n          }\r\n        }}>立即处理</a>}{(r.status===0||r.status===1)&&<Popconfirm title=\"是否标记完结？\" okText=\"是\" cancelText=\"否\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id,status:2,finish_time:new Date().getTime()},result=>{\r\n            message.success('已完结');\r\n            emitter.emit('queryCrmTaskTable',undefined,true);\r\n          });\r\n        }}><a>标记完结</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        width:'100%',\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=listMyTask'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required,onChange,showPrice}=this.props;\r\n        return <>\r\n            <Select {...util.getField.bind(form)('coachId',{onChange,rules:[{required,message:'必填'}]})}>\r\n                {coaches.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name} {showPrice&&<span>[{it.unitPrice}元/小时]</span>}</Select.Option>;\r\n                })}\r\n              </Select>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addStudentModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,type:'乒乓',gmtCreate:moment(),privateTrain:tenantConfig.privateTrain?tenantConfig.privateTrain:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      let existData=await util.ajaxJsonAsync(urlPrefix+'TrainOperation?opt=getStudent',{phone:values.phone});\r\n      if(existData.data&&existData.data[0]){// 已存在学员\r\n        Modal.confirm({\r\n          title:'学员是否合并提醒？',\r\n          content:`通过手机号发现该学员已存在，余额为${existData.data[0].amount}元，是否直接做合并并继续？`,\r\n          onOk:()=>{\r\n            this.doReportStudent(values);\r\n          }\r\n        });\r\n      }else{\r\n        this.doReportStudent(values);\r\n      }\r\n      \r\n    });\r\n  }\r\n  doReportStudent=(values)=>{\r\n    this.setState({loading:true});\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=reportStudent', {rec:values}, res=>{\r\n      if(res.success){\r\n        message.success(`开户成功!`);\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false,loading:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,loading} = this.state;\r\n  \treturn (<Modal title={`学员报名开课`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} loading={loading}>\r\n            报名\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程类型\" required>\r\n              <Select {...util.getField.bind(this)('type',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'乒乓',text:'乒乓'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"私教\" required>\r\n              <Switch {...util.getField.call(this,'privateTrain',{mode:'checkbox',onChange:v=>{\r\n                if(!v){\r\n                  let invalidFields=['coachId','times','amount'];\r\n                  let {formValues}=this.state;\r\n                  for(let invalidField of invalidFields){\r\n                    delete this['__validField_'+invalidField];\r\n                    delete formValues[invalidField];\r\n                  }\r\n                  this.setState({formValues});\r\n                }\r\n              }})}/>\r\n            </Form.Item>\r\n            {formValues.privateTrain&&<><Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"主管教练\" required>\r\n              <Coach form={this} required showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开课时间\" required>\r\n              <DatePicker {...util.getField.call(this,'gmtCreate')}/>\r\n            </Form.Item></>}\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popconfirm,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyStudentModal', (rec)=>{\r\n      let formValues={...rec};\r\n      formValues.roomId=rec.roomId+'';\r\n      delete formValues.amount;\r\n      delete formValues.courses;\r\n      delete formValues.recordCount;\r\n      delete formValues.remark;\r\n      this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=updateStudent', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`学员报名`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的培训记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n        修改\r\n     </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Form.Item className=\"\" label=\"培训类型\" required={required}>\r\n              <Select {...util.getField.bind(form)('type',{rules:[{required,message:'必填'}]})}>\r\n                  {[{key:'乒乓',text:'乒乓'},{key:'羽毛球',text:'羽毛球'}].map(it=>{\r\n                    return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"培训子类\" required={required}>\r\n              <Select {...util.getField.bind(form)('subType',{rules:[{required,message:'必填'}]})}>\r\n                  {['基础','多球','实战'].map(it=>{\r\n                    return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row, Col} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport Coach from '../../common/fields/coach';\r\nimport SportType from '../../common/fields/sportType';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('studentRecordModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,studyTime:moment(),type:'乒乓',subType:'多球'};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{courses:[]},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=studentConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`refresh-student-table`);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onCoachChange=(v)=>{\r\n    let coach=coaches.filter(it=>it.id==v)[0];\r\n    if(!coach)return;\r\n    let {formValues}=this.state;\r\n    let times=formValues.consumeTimes||1;\r\n    formValues.consumeAmount=times*coach.unitPrice;\r\n    this.setState({formValues});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let isMainCoach=false;\r\n    if(rec.courses){\r\n      isMainCoach=rec.courses.filter(it=>it.coachId==formValues.coachId&&formValues.courseId==it.id).length>0;\r\n      rec.courses.forEach(r=>{\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n    let coachRate=isMainCoach?tenantConfig.majorCoachRate:tenantConfig.coachRate;\r\n    let targetCourse=rec.courses.filter(it=>formValues.courseId==it.id+'')[0] || {};\r\n    let targetCoach=coaches.filter(it=>it.id==targetCourse.coachId)[0];\r\n  \treturn (<Modal title={`学员训练登记`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose getContainer={document.querySelector('.Student-container')} onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"student-consume-modal\">\r\n            <Row>\r\n              <Col span={8}>\r\n                <Form.Item className=\"memberName-f\" label=\"学员名\">\r\n                    {rec.name}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"手机号\">\r\n                    {rec.phone}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"余额\">\r\n                    {rec.amount}\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <SportType form={this} required/>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  let {formValues}=this.state;\r\n                  let {coachId}=rec.courses.filter(it=>it.id+''==v)[0];\r\n                  formValues.coachId=coachId+'';\r\n                  this.onCoachChange(formValues.coachId);\r\n                },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                            {key:'coachName',title:'教练',width:'80px'},\r\n                            {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                            {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                            {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                            {key:'remark',title:'课程备注',width:'100px'},\r\n                    ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label={(isMainCoach?'主管':'')+\"教练\"} required>\r\n              <Coach form={this} required onChange={this.onCoachChange} showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"consume-times-f\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                if(targetCourse.remainTimes!==undefined && +targetCourse.remainTimes < +v){\r\n                  return false;\r\n                }\r\n                return true;\r\n              },message:'课时数不足'}]})} min={1} precision={1} step={0.5}/>\r\n              {targetCourse&&targetCoach&&targetCoach.name&&targetCourse.remainTimes!==undefined&&<span className=\"course-tip\">{targetCoach.name}的课 &nbsp;&nbsp;剩余课时数：{targetCourse.remainTimes} 剩余金额：{targetCourse.remainAmount}元</span>}\r\n              \r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费金额(元)\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeAmount',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return +v<=rec.amount;\r\n              },message:'余额不足'}]})} min={1} precision={0}/>\r\n              {formValues.consumeAmount&&<span className=\"course-tip\">待分账金额（{isMainCoach?'主管':''}教练）：{util.round(+formValues.consumeAmount*(coachRate/100))}元({coachRate}%)<a onClick={()=>{\r\n                emitter.emit('main-clickmenu',{key:'sys/config'});\r\n                // this.setState({visible:});\r\n              }}>设置</a></span>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"训练时间\" required>\r\n              <DatePicker {...util.getField.call(this,'studyTime',{rules:[{required:true,message:'必填'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"room-f\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n              {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-course-list-drawer', (rec,courseId)=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n            if(res.success){\r\n                let courseInfo=res.data;\r\n                this.setState({visible:true,rec,courseInfo,courseId,modifyCourseTime:undefined});\r\n            }\r\n        });\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      rec:{},\r\n      courseInfo:{\r\n          course:{},\r\n          records:[]\r\n      }\r\n  \t};\r\n  }\r\n\r\n  deleteStudentRec=r=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:r.studentId,id:r.id},res=>{\r\n      if(res.success){\r\n        message.success('删除流水成功');\r\n        this.refreshCourseInfo();\r\n      }\r\n    });\r\n  }\r\n  deleteStudentRechargeBillRec=r=>{\r\n    Modal.confirm({\r\n      title:'删除充值记录确认',\r\n      content:'删除充值记录后，课程余额余次将同步扣减，且账单做同步删除，是否继续？',\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRechargeBillRec',{id:r.id},res=>{\r\n          if(res.success){\r\n            message.success('删除充值记录成功');\r\n            this.refreshCourseInfo();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  refreshCourseInfo=()=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n        if(res.success){\r\n            let courseInfo=res.data;\r\n            this.setState({courseInfo});\r\n        }\r\n    });\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n  }\r\n\r\n  deleteCourse=async ()=>{\r\n    let {courseId}=this.state;\r\n    let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuRecharge'+courseId+'-'});\r\n    if(!billRes.success)return;\r\n    if(billRes.data.totalItem>0){\r\n      Modal.confirm({\r\n        title:'同步删除账单确认？',\r\n        content:`系统监测到您已有${billRes.data.totalItem}笔学员课程充值账单录入，是否同步删除？`,\r\n        onOk:()=>this.doDeleteCourse(billRes.data.data.map(it=>it.id))\r\n      });\r\n    }else{\r\n      this.doDeleteCourse(billRes.data.data.map(it=>it.id));\r\n    }\r\n  }\r\n\r\n  doDeleteCourse=(ids)=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentCourse',{courseId,ids},res=>{\r\n      if(res.success){\r\n        message.success('删除课程成功');\r\n        this.setState({visible:false});\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  modifyCourseTimes=()=>{\r\n    let {courseInfo,modifyCourseTime} = this.state;\r\n    let {course}=courseInfo;\r\n    if(!modifyCourseTime||modifyCourseTime==course.times)return;\r\n    if(modifyCourseTime<(course.times-course.remainTimes))return message.warn('课时数不足，无法修改！');\r\n    let remainTimes=course.remainTimes+(modifyCourseTime-course.times);\r\n    Modal.confirm({\r\n      title:\"修改总课时数确认\",\r\n      content:`确定要将该课程的总课时数从${course.times}调整到${modifyCourseTime}吗？调整后，剩余课时数将从${course.remainTimes}变成${remainTimes}`,\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=updateCourse',{courseId:course.id,times:modifyCourseTime,remainTimes},res=>{\r\n          if(res.success)message.success('修改课时数成功');\r\n          this.refreshCourseInfo();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,courseInfo,modifyCourseTime} = this.state;\r\n    let {course,records,bills}=courseInfo;\r\n    let coach=coaches.filter(it=>it.id==course.coachId)[0];\r\n  \treturn (<Drawer title={`学员【${rec.name}】- 教练【${coach&&coach.name}】课程信息`} getContainer={()=>document.querySelector('.Student-container')} className=\"student-course-drawer\" visible={visible} width={800} placement=\"right\" onClose={this.onClose} destroyOnClose >\r\n          <Collapse defaultActiveKey={['1','2','3']}>\r\n            <Collapse.Panel header=\"课程详情\" key=\"1\">\r\n                <Row>\r\n                    <Form.Item label=\"学员名\">{rec.name}</Form.Item>\r\n                    <Form.Item label=\"主管教练\">{coach&&coach.name}</Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"缴费金额(元)\">{course.remainAmount}/{course.amount}</Form.Item>\r\n                    <Form.Item label=\"课程次数\">{course.remainTimes}/{course.times}&nbsp;<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer .ant-drawer-body')} title={<><h3>修改课程总次数</h3><Form.Item label=\"课程次数\"><InputNumber value={modifyCourseTime?modifyCourseTime:course.times} onChange={e=>{\r\n                      this.setState({modifyCourseTime:e});\r\n                    }} min={0} max={1000} precision={0}/></Form.Item></>} onConfirm={this.modifyCourseTimes}><a>修改</a></Popconfirm></Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"课程备注\">{course.remark}</Form.Item>\r\n                    <Form.Item label=\"课程类型\">{course.type}</Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"开课时间\">{util.formatDate(course.gmtCreate)}</Form.Item>\r\n                    <Form.Item label=\"经办人\">{course.operator}</Form.Item>\r\n                </Row>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程培训记录\" key=\"2\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={records} size=\"small\" columns={[{key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'消费课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeTimes+=records[i].consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=course.times-consumeTimes;\r\n            return `${snapTimes}/${course.times}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'消费后余额(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=records[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${course.amount-consumeAmount}/${course.amount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程充值记录\" key=\"3\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={bills} size=\"small\" columns={[{key:'chargeTime',dataIndex:'chargeTime',title:'充值时间',render:v=>util.formatDate(v)},\r\n          {key:'times',dataIndex:'times',title:'充值课时数'},\r\n          {key:'amount',dataIndex:'amount',title:'充值金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRechargeBillRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n\r\n          <Button type=\"primary\" onClick={()=>emitter.emit('rechargeStudentModal',rec,courseInfo.course)}>课程充值</Button>\r\n          {records&&records.length>0&&<Tooltip getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"删除课程前需要先清空课程记录\" ><Button disabled type=\"danger\">删除课程</Button></Tooltip>}\r\n          {!records||records.length<=0&&<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除课程？\" onConfirm={this.deleteCourse}><Button type=\"danger\">删除课程</Button></Popconfirm>}\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('rechargeStudentModal', (rec,course)=>{\r\n      let courseId,remark,canSelectCourse=true;\r\n      if(course){// 指定课程的\r\n        courseId=course.id+'';\r\n        remark=course.remark;\r\n        canSelectCourse=false;\r\n      }\r\n      let formValues={roomId:rec.roomId+'',remark,courseId,gmtCreate:moment()};\r\n      this.setState({visible:true,formValues,rec,canSelectCourse});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      courseInfo:{\r\n        course:{}\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=rechargeCourse', {rec:values,courseId,studentId:rec.id}, res=>{\r\n        if(res.success){\r\n          message.success(`课程充值成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  handleCancel=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    if(!this.state.canSelectCourse)emitter.emit('show-course-list-drawer',rec,courseId);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let course={},{courseId}=formValues;\r\n    if(rec.courses){\r\n      rec.courses.forEach(r=>{\r\n        if(r.id==courseId)course=r;\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n  \treturn (<Modal title={`学员课程充值`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            充值\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"学员手机号\" required>\r\n                  {rec.phone}\r\n              </Form.Item>\r\n              <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                  {rec.name}\r\n              </Form.Item>\r\n            </Row>\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"课程余额(元)\" required>\r\n                  {course.remainAmount}/{course.amount}\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"课程剩余次数\" required>\r\n                  {course.remainTimes}/{course.times}\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable disabled={!this.state.canSelectCourse} {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                              {key:'coachName',title:'教练',width:'80px'},\r\n                              {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                              {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                              {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                              {key:'remark',title:'课程备注',width:'100px'},\r\n                      ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            \r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport AddStudentModal from './addStudentModal';\r\nimport ModifyStudentModal from './modifyStudentModal';\r\nimport StudentConsumeModal from './studentConsumeModal';\r\nimport CourseListDrawer from './courseListDrawer';\r\nimport RechargeStudentModal from './rechargeStudentModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('refresh-student-table',()=>{\r\n      this.setState({expandedRowKeys:[]},()=>{\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'学员管理',\r\n      key:'Student',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'coachId',type:'custom',label:'教练',getComponent:props=><Select {...props} allowClear>{coaches.map(it=><Select.Option value={it.id} key={it.id}>{it.name}</Select.Option>)}</Select>}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addStudentModal')}><Icon type=\"plus\" />学员新增</Button>,\r\n          urls.map(it=>it.code).indexOf('downloadStudent')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/TrainOperation?opt=downloadStudent'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadStudent')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/TrainOperation?opt=uploadStudent'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryStudentTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'学员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'账户余额(元)'\r\n        },{\r\n          key:'courses',\r\n          width:'20%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            if(r.courses){\r\n            return r.courses.map((it,idx)=><Tooltip key={idx+'c'} title={<span>训练项目：{it.type}<br/>缴费金额(元)：{it.amount}</span>}><a className={\"course-item\"+(it.remainTimes==0?' empty':'')} onClick={()=>emitter.emit('show-course-list-drawer',r,it.id)}>{coaches.filter(c=>it.coachId==c.id)[0].name}({it.remainTimes}/{it.times})</a></Tooltip>);\r\n            }\r\n          },\r\n          label:'私教课程'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          label:'已训练记录数'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        if(rec.courses){\r\n          let remainCourses=rec.courses.filter(it=>it.remainTimes!==undefined);\r\n          if(remainCourses.length>0&&remainCourses.map(it=>+it.remainTimes).reduce((a,b)=>a+b)==0){\r\n             useEmpty=true;\r\n          }\r\n        }else{\r\n          useEmpty=true;\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('studentRecordModal',rec);\r\n        }}>登记训练</a>{rec.courses&&rec.courses.length>0&&<a onClick={()=>{\r\n          emitter.emit('rechargeStudentModal',rec);\r\n        }}>课程充值</a>}<a onClick={()=>{\r\n          emitter.emit('modifyStudentModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除学员？\" onConfirm={async ()=>{\r\n          let doDelete=(ids)=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudent',{id:rec.id,ids},res=>{\r\n              if(res.success){\r\n                message.success('删除学员成功');\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }\r\n          let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuOpen'+rec.id+'-'});\r\n          if(!billRes.success)return;\r\n          if(billRes.data.totalItem>0){\r\n            Modal.confirm({\r\n              title:'同步删除账单确认？',\r\n              content:`系统监测到您已有${billRes.data.totalItem}笔学员开课充值账单录入，是否同步删除？`,\r\n              onOk:()=>doDelete(billRes.data.data.map(it=>it.id))\r\n            });\r\n          }else{\r\n            doDelete(billRes.data.data.map(it=>it.id));\r\n          }\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0;\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              if(idx<=i){\r\n                consumeTimes+=recDs.data[i].consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=r.times-consumeTimes;\r\n            return `${snapTimes}/${r.times}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'已累计消费(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=recDs.data[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${consumeAmount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={false} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n          result.list.forEach(it=>{\r\n          });\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryStudent'},\r\n        // updateInterface:{func:urlPrefix+'TrainOperation?opt=updateStudent'},\r\n        // deleteInterface:{func:urlPrefix+'TrainOperation?opt=deleteStudent',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-student-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{studentId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddStudentModal />\r\n       <ModifyStudentModal />\r\n       <StudentConsumeModal />\r\n       <CourseListDrawer />\r\n       <RechargeStudentModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addMemberModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,applyTime:moment(),isVip:true,consumeNow:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(values.isVip&&!values.phone)return message.info('正式会员手机号必填');\r\n      values.memberType=!values.isVip?'临时会员':'正式会员';\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=insertMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`开户成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员开户`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} disabled={this.state.loading}>\r\n            开户\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} /> <Switch checkedChildren=\"正式\" unCheckedChildren=\"临时\" {...util.getField.call(this,'isVip',{mode:'checkbox',onChange:checked=>{\r\n                  if(!checked){\r\n                    if(!formValues.name){\r\n                      formValues.name='临时会员-'+util.formatDate(new Date().getTime());\r\n                      formValues.billType='按次';\r\n                      formValues.remainTimes=1;\r\n                    }\r\n                  }else{\r\n                    if(formValues.name&&formValues.name.indexOf('临时会员')==0){\r\n                      formValues.name='';\r\n                    }\r\n                  }\r\n                  if(this.isFormFiledsValid===false)util.validateFields.call(this,()=>{});\r\n                  this.setState({formValues});\r\n                }})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} required={formValues.isVip}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} /><Checkbox {...util.getField.call(this,'consumeNow',{mode:'checkbox',onChange:checked=>{\r\n                }})}>立即消费</Checkbox>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload onLoading={loading=>this.setState({loading})} message=\"会员\" quality={0.07} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyMemberModal', (rec)=>{\r\n        let formValues={...rec};\r\n        formValues.applyTime=moment(rec.applyTime);\r\n        formValues.roomId=rec.roomId+'';\r\n        delete formValues.recordCount;\r\n        delete formValues.amount;\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(!values.phone)return message.info('正式会员手机号必填');\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=updateMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员修改`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的消费记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n            修改\r\n         </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select disabled {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"会员\" {...util.getField.call(this,'avatar')} onLoading={loading=>this.setState({loading})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('memberConsumeModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,gmtCreate:moment()};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=memberConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          emitter.emit('refresh-memeber-expand');\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`会员消费`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\">\r\n                {rec.name}\r\n                {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"会员类型\">\r\n                {rec.memberType}\r\n            </Form.Item>\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"剩余次数\" required>\r\n              {rec.remainTimes}\r\n            </Form.Item>}\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"消费次数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return (+v<=rec.remainTimes);\r\n              },message:'次数不足'}]})} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"消费时间\" required>\r\n                <DatePicker showTime {...util.getField.call(this,'gmtCreate')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,urls,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport AddMemberModal from './addMemberModal';\r\nimport ModifyMemberModal from './modifyMemberModal';\r\nimport MemberConsumeModal from './memberConsumeModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'会员管理',\r\n      key:'Member',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'operator'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addMemberModal')}><Icon type=\"plus\" />新建会员</Button>,urls.map(it=>it.code).indexOf('downloadMember')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/MemberOperation?opt=downloadMember'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadMember')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/MemberOperation?opt=uploadMember'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryMemberTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{\r\n            maxLength:11\r\n          },\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'充值金额'\r\n        },{\r\n          key:'billType',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}],\r\n          label:'卡计费类型'\r\n        },{\r\n          key:'remainTimes',\r\n          width:'6%',\r\n          label:'剩余次数'\r\n        },{\r\n          key:'memberType',\r\n          width:'6%',\r\n          label:'会员类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'applyTime',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'生效时间'\r\n        },{\r\n          key:'expireTime',\r\n          notInForm:true,\r\n          width:'8%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          label:'失效时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.billType=='按次'){\r\n          if(+rec.remainTimes<=0)\r\n            useEmpty=true;\r\n        }else{\r\n          if(rec.expireTime&&rec.expireTime<new Date().getTime()){\r\n            useEmpty=true;\r\n          }\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('memberConsumeModal',rec);\r\n        }}>消费</a><a onClick={()=>{\r\n          emitter.emit('modifyMemberModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除会员？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMember',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除会员成功');\r\n              emitter.emit(`queryMemberTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id);\r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"member-rec-table\" columns={[\r\n          {key:'gmtCreate',dataIndex:'gmtCreate',title:'消费时间',render:v=>util.formatDate(v)},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'次数'},\r\n          {key:'consumeType',dataIndex:'consumeType',title:'消费类型'},\r\n          {key:'roomId',dataIndex:'roomId',title:'球馆',render:v=>{\r\n            let room=rooms.filter(it=>it.id==v)[0];\r\n            if(room)return room.name;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMemberBill',{memberId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMember'},\r\n        // updateInterface:{func:urlPrefix+'MemberOperation?opt=updateMember'},\r\n        // deleteInterface:{func:urlPrefix+'MemberOperation?opt=deleteMember',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-memeber-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=queryMemberBill',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddMemberModal />\r\n       <ModifyMemberModal />\r\n       <MemberConsumeModal />\r\n      </div>\r\n    );\r\n  }\r\n}","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\r\nimport \"moment/locale/zh-cn\";\r\nimport { ConfigProvider } from 'antd';\r\nimport './index.css';\r\nimport App from './entry/index/routes/IndexPage';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nlet script = document.createElement('script');\r\nscript.src='//at.alicdn.com/t/font_352877_bgyfvj39u6f.js';\r\ndocument.head.appendChild(script);\r\nReactDOM.render(<ConfigProvider locale={zh_CN}><App /></ConfigProvider>, document.getElementById('sportRoot'));\r\n// registerServiceWorker();\r\n","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nexport let bodyDomains=['会员','学员','教练','比赛','器材'];\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('billModal', (rec,options)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,billTime:moment()};\r\n        if(rec){\r\n          formValues=rec;\r\n          formValues.billTime=moment(rec.billTime);\r\n          if(rec.roomId)formValues.roomId=rec.roomId+'';\r\n        }\r\n        this.setState({visible:true,formValues,rec,options});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec}=this.state;\r\n      util.ajaxJson(urlPrefix+'BillOperation?opt='+(rec?'fixBill':'addBill'), {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`${rec?'调':'记'}账成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryBillTable`, undefined, true);\r\n    this.setState({visible:false,rec:undefined});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec,options} = this.state;\r\n  \treturn (<Modal title={`手工${rec?'调':'记'}账`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            {rec?'调':'记'}账\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"主体域\" required>\r\n              <Select disabled={!options||!options.manual} {...util.getField.bind(this)('domain',{rules:[{required:true,message:'必填'}]})}>\r\n                {bodyDomains.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"进出账\" required>\r\n              <Select {...util.getField.bind(this)('io',{rules:[{required:true,message:'必填'}]})}>\r\n                {['收入','支出'].map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"分类\" required>\r\n              <Select {...util.getField.bind(this)('cate',{rules:[{required:true,message:'必填'}]})}>\r\n                {tenantConfig.billCates.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"子分类\">\r\n                <Input {...util.getField.call(this,'subCate',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"金额(元)\" required>\r\n              <InputNumber {...util.getField.bind(this)('amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={2}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"记账事由\" required>\r\n                <Input {...util.getField.call(this,'reason',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"备注\">\r\n                <Input {...util.getField.call(this,'relInfo',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开始时间\">\r\n                <DatePicker {...util.getField.call(this,'billTime')} showTime/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, DatePicker, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport BillModal,{bodyDomains} from './billModal';\r\nimport EditableField from '../../../components/pops/editableField';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-bill/queryBill`,()=>{\r\n      emitter.emit('queryBillTable');\r\n    });\r\n    this.config = {\r\n      title:'账单管理',\r\n      key:'Bill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'io'},{key:'domain'},{key:'cate'}],[{key:'subCate'},{key:'relInfo'},{key:'time',label:'时间范围',type:'custom',getComponent:(props,context)=>{\r\n          return <DatePick onChange={rangeValue=>{\r\n            props.onChange(rangeValue);\r\n          }}/>;\r\n        }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          if(queryParam.time&&queryParam.time.length>0){\r\n            queryParam.startTime=queryParam.time[0];\r\n            queryParam.endTime=queryParam.time[1];\r\n          }\r\n          return queryParam;\r\n        },\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('billModal',undefined,{manual:true})}><Icon type=\"plus\" />记账</Button>];\r\n          let {ioMap}=this.state;\r\n          if(ioMap){\r\n            let i=ioMap['收入'],o=ioMap['支出'];\r\n            if(i)extBtns.push(<span key=\"shouru\" className=\"bill-sum-tips i-color\">收入：{i.sumAmount}元，共{i.count}笔</span>);\r\n            if(o)extBtns.push(<span key=\"zhichu\" className=\"bill-sum-tips o-color\">支出：{o.sumAmount}元，共{o.count}笔</span>);\r\n          }\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'billTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'记账时间'\r\n        },{\r\n          key:'io',\r\n          width:'6%',\r\n          enums:['收入','支出'],\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'出入账'\r\n        },{\r\n          key:'amount',\r\n          width:'8%',\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'金额(元)'\r\n        },{\r\n          key:'domain',\r\n          width:'6%',\r\n          enums:bodyDomains,\r\n          label:'域'\r\n        },{\r\n          key:'cate',\r\n          width:'10%',\r\n          enums:tenantConfig.billCates,\r\n          label:'分类'\r\n        },{\r\n          key:'subCate',\r\n          width:'10%',\r\n          label:'子分类'\r\n        },{\r\n          key:'targetId',\r\n          width:'10%',\r\n          label:'消费主体'\r\n        },{\r\n          key:'reason',\r\n          width:'10%',\r\n          label:'事项'\r\n        },{\r\n          key:'relInfo',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            return <EditableField value={v} onBlur={(v)=>{\r\n              util.ajaxJson(urlPrefix+'BillOperation?opt=updateRelInfo',{id:r.id,relInfo:v},res=>{\r\n                if(res.success){\r\n                  message.success('修改备注成功');\r\n                  r.relInfo=v;\r\n                }\r\n              });\r\n            }}/>\r\n          },\r\n          label:'备注'\r\n        },{\r\n          key:'status',\r\n          width:'4%',\r\n          enums:[{key:1,text:'生效'},{key:0,text:'作废'}],\r\n          label:'状态'\r\n        },{\r\n          key:'mode',\r\n          width:'4%',\r\n          label:'模式'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'操作人'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('billModal',rec);\r\n        }}>调账</a><Popconfirm title=\"确定要删除账单吗？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'BillOperation?opt=removeBill',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit('queryBillTable', undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        showTotal:true,\r\n        resultHandler:(result,queryParam)=>{\r\n          this.setState({ioMap:result.data.ioMap});\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BillOperation?opt=queryBill'}\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <BillModal/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t    this.state={formValues:{}};\r\n\t}\r\n\trender(){\r\n\t\tlet {storageItemKey,value,onLoad,onSave,top,left,right,bottom,text,zIndex,position} = this.props;\r\n\t\tstorageItemKey = storageItemKey.replace('.','-');\r\n\t\tlet paramArr = [];\r\n\t    let loadParams = localStorage.getItem(storageItemKey);\r\n\t    if(loadParams){\r\n\t    \tparamArr = JSON.parse(loadParams);\r\n\t    }\r\n\t    let paramArrRevers = [];\r\n\t    for (let i = 0; i < paramArr.length;i++) {\r\n\t    \tparamArrRevers[i] = paramArr[paramArr.length - i - 1];\r\n\t    }\r\n\t    let content = <ul className={`save-btn-pop save-btn-pop-${storageItemKey}`}>\r\n\t  \t\t<li>名称:<Input {...util.getField.bind(this)('saveParamName')}/><Button type=\"primary\" size=\"small\" onClick={()=>{\r\n\t    \t\t\tparamArr.push({name:this.state.formValues.saveParamName,value,t:new Date().getTime()});\r\n\t    \t\t\tif(paramArr.length > 10){\r\n\t    \t\t\t\tparamArr.splice(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet paramsStr=JSON.stringify(paramArr);\r\n\t    \t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\tmessage.success(`保存${text?text:'参数'}成功!`);\r\n\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t    \t\t\tthis.setState({...this.state});\r\n\t            }}>保存</Button></li>\r\n\t  \t\t<div>\r\n\t  \t\t{paramArrRevers.map((p,idx)=>{\r\n\t  \t\t\treturn <div className=\"save-item\" key={idx}><a className=\"save-name-label\" title={p.name} onClick={()=>{\r\n\t  \t\t\t\tonLoad(p.value);\r\n\t  \t\t\t}}>{p.name}</a> <span title={p.value}>{util.formatDate(p.t,'MM-dd hh:mm:ss')}</span><Popconfirm title={<div>确定要删除[{p.name}]吗?</div>} onConfirm={()=>{\r\n\t\t\t\t\t    paramArr.splice(paramArr.length-1-idx,1);\r\n\t\t\t\t\t    let paramsStr=JSON.stringify(paramArr);\r\n\t\t\t\t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t  \t\t\t\t    this.setState({...this.state});\r\n\t  \t\t\t}} okText=\"确定\" cancelText=\"取消\"><a>删除</a></Popconfirm></div>;\r\n\t  \t\t})}\r\n\t  \t\t</div>\r\n\t  \t</ul>;\r\n\t    return <Popover title={`保存&加载${text?text:'参数'}`} content={content} trigger=\"click\"><a style={{top,left,right,bottom,position:position?position:'absolute',zIndex}}>保存{text!==undefined?text:'配置参数'}</a></Popover>;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport './index.less';\r\nimport Area,{getDisplayText} from './area';\r\nimport { pca, pcaa } from 'area-data';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport SaveParams from '../../../components/pops/saveParams';\r\n\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('do-indicates-search',formValues=>{\r\n            this.setState({formValues},()=>{\r\n                this.doSearch(null,true);\r\n            });\r\n        });\r\n        this.state = {\r\n            formValues:{\r\n                // company_name:'丝芳'\r\n            },\r\n            disableSearch:false\r\n        };\r\n        \r\n    }\r\n\r\n    getIndicates=()=>{// 上层组件调用获取组件的数据\r\n        let {formValues}=this.state;\r\n        let {indicates}=this.props;\r\n        let indicatesMap={};\r\n        for(let k in formValues){\r\n            let indicate=indicates.filter(it=>it.key==k)[0];\r\n            let idx;\r\n            if((idx=k.indexOf('__'))>-1){\r\n                let newK=k.substring(0,idx);\r\n                indicate=indicates.filter(it=>it.key==newK)[0];\r\n                if(!indicate)continue;\r\n                indicatesMap[newK]=[formValues[newK+'__start']||null,formValues[newK+'__end']||null];\r\n                indicatesMap[newK+'--'+indicate.type]=true;\r\n            }else if(Array.isArray(formValues[k])){\r\n                if(!indicate)continue;\r\n                indicatesMap[k]=formValues[k].map(it=>{\r\n                    if(it&&it.valueOf)return it.valueOf();\r\n                    return it;\r\n                });\r\n                indicatesMap[k+'--'+indicate.type]=true;\r\n            }else{\r\n                if(formValues[k]===''||formValues[k]===null||formValues[k]===undefined)continue;\r\n                if(['prov','city','county'].indexOf(k)>-1){\r\n                    let text;\r\n                    if(k=='prov'){\r\n                        text=pca['86'][formValues[k]];\r\n                    }else if(k=='city'){\r\n                        text=pcaa[formValues.prov][formValues[k]];\r\n                    }else{\r\n                        text=pcaa[formValues.city][formValues[k]];\r\n                    }\r\n                    indicatesMap[k]=text;\r\n                }else{\r\n                    if(!indicate)continue;\r\n                    indicatesMap[k]=formValues[k];\r\n                    indicatesMap[k+'--'+indicate.type]=true;\r\n                }   \r\n            }\r\n        }\r\n        return indicatesMap;\r\n    }\r\n\r\n    onChange=e=>{\r\n        this.setState({disableSearch:false});\r\n        this.props.onChange(e);\r\n    }\r\n    doSearch=(e,reserveBtn)=>{\r\n        this.props.onSearch({queryCond:this.getIndicates()});\r\n        this.setState({disableSearch:!reserveBtn});\r\n    }\r\n\r\n    showSearchConds=()=>{\r\n        let {indicates}=this.props;\r\n        let {formValues}=this.state;\r\n        return <ul>{indicates.filter(it=>(!Array.isArray(formValues[it.key])&&formValues[it.key])||formValues[it.key+'__start']||formValues[it.key+'__end']||(Array.isArray(formValues[it.key])&&formValues[it.key].length>0)).map((indicate,idx)=><li key={'s-i-'+idx}>\r\n            <Tag color=\"geekblue\" closable onClose={(e)=>{\r\n                let {formValues}=this.state;\r\n                if(indicate.type=='Area'){\r\n                    formValues['prov']=undefined;\r\n                    formValues['city']=undefined;\r\n                    formValues['county']=undefined;\r\n                }else if(formValues[indicate.key]){\r\n                    formValues[indicate.key]=undefined;\r\n                }else{\r\n                    formValues[indicate.key+'__start']=undefined;\r\n                    formValues[indicate.key+'__end']=undefined;\r\n                }\r\n                this.setState({formValues,disableSearch:false});\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }}>{this.getTagContent(indicate,formValues)}</Tag>\r\n        </li>)}<SaveParams right={80} text=\"搜索条件\" storageItemKey=\"customer-search\" value={formValues} onLoad={values=>{\r\n            this.setState({formValues:values,disableSearch:false});\r\n        }} onSave={this.props.onSaveCond}/><Popconfirm title=\"确定要清除？\" okText=\"确定\" cancelText=\"取消\" onConfirm={()=>{\r\n            this.setState({formValues:{},disableSearch:false});\r\n        }}><a className=\"clear-search-cond\">清除搜索条件</a></Popconfirm></ul>;\r\n    }\r\n    getTagContent=(indicate,formValues)=>{\r\n        let {placeholder,type,key,enums,showTime}=indicate;\r\n        let formValue=formValues[key];\r\n        if(type=='Input'){\r\n            return <span>{placeholder}：{formValue}</span>;\r\n        }else if(type=='Select'){\r\n            if(indicate.multi){\r\n                return <span>{placeholder}：{formValue.map(it=>enums.filter(e=>e.key==it)[0].text).join(',')}</span>;\r\n            }\r\n            return <span>{placeholder}：{(enums.filter(it=>it.key==formValue)[0]||{}).text}</span>;\r\n        }else if(type=='RangePicker'){\r\n            return <span>{placeholder}：{util.formatDate(formValue[0].valueOf(),showTime?undefined:'yyyy-MM-dd')} ~ {util.formatDate(formValue[1].valueOf(),showTime?undefined:'yyyy-MM-dd')}</span>;\r\n        }else if(type=='Range'){\r\n            return <span>{placeholder}：{formValues[key+'__start']} ~ {formValues[key+'__end']}</span>;\r\n        }else if(type=='Area'){\r\n            return <span>{placeholder}：{getDisplayText(formValues.prov,formValues.city,formValues.county)}</span>;\r\n        }\r\n        \r\n    }\r\n\r\n    onCollapse=(keys)=>{\r\n        if(this.props.onCollapse){\r\n            this.props.onCollapse(!keys || keys.length==0);\r\n        }\r\n    }\r\n   \r\n    render() {\r\n        let {indicates}=this.props;\r\n        let {formValues,disableSearch}=this.state;\r\n        return <div className=\"indicates-c\" ref={el=>{\r\n                    this.indicatesUi = el;\r\n                }}>\r\n                <Collapse onChange={this.onCollapse} defaultActiveKey={['1']}>\r\n                    <Collapse.Panel header=\"搜索条件\" key=\"1\">\r\n                    <Form.Item label=\"搜索指标\" className=\"search-label\">\r\n                        <ul>\r\n                            {indicates.map((indicate,idx)=><li key={'indi-it'+idx} className={indicate.type}>\r\n                                {indicate.type=='Input'&&<Input onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key,{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Input>}\r\n                                {indicate.type=='Select'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><Select {...util.getField.call(this,indicate.key,{onChange:e=>{\r\n                                    if(indicate.onChange)indicate.onChange(e,this);\r\n                                    this.onChange(e);\r\n                                }})} mode={indicate.multi?'multiple':undefined} placeholder={indicate.placeholder} allowClear size=\"small\" {...indicate.props}>\r\n                {indicate.enums.map((enumItem,idx)=><Select.Option key={'enum'+idx} value={enumItem.key}>{enumItem.text}</Select.Option>)}\r\n                                </Select></Tooltip>}\r\n                                {indicate.type=='RangePicker'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><DatePicker.RangePicker {...util.getField.call(this,indicate.key,{onChange:this.onChange,mode:'RangePickerDate'})} showTime={indicate.showTime} placeholder={[indicate.placeholder,indicate.placeholder]} size=\"small\">\r\n                                </DatePicker.RangePicker></Tooltip>}\r\n                                {indicate.type=='Range'&&<div className=\"range-c\"><Tooltip title={indicate.placeholder+'起始值'} mouseEnterDelay={0.8}><InputNumber onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key+'__start',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip><i>~</i><Tooltip title={indicate.placeholder+'截止值'} mouseEnterDelay={0.8}><InputNumber {...util.getField.call(this,indicate.key+'__end',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip></div>}\r\n                                {indicate.type=='Area'&&<Area context={this} onChange={this.onChange} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Area>}\r\n                            </li>)}\r\n                        </ul>\r\n                    </Form.Item>\r\n                    <Button type=\"primary\" size=\"small\" className=\"search-btn\" onClick={this.doSearch} disabled={disableSearch}>搜索</Button>\r\n                    <Form.Item label=\"当前搜索条件\" className=\"search-label\">{this.showSearchConds()}</Form.Item>\r\n                    </Collapse.Panel>\r\n                </Collapse>\r\n            </div>;\r\n    }\r\n\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Form,Select,Tag} from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {Consumer} from './index';\r\nimport EditableField from '../../components/pops/editableField';\r\nexport default class BizComp extends Component {\r\n\r\n\tonChange=()=>{\r\n\t\tlet {formValues} = this.parentContainer.state;\r\n\t\tthis.props.onChange(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn <Consumer>\r\n\t\t\t{parentContainer=>{\r\n\t\t\t\tthis.parentContainer = parentContainer;\r\n\t\t\t\tlet {formValues} = parentContainer.state;// 本身就是个立体对象，很直观，但需要指定前缀：从根对象formValues开始(不含根对象)的ognl表达式，推荐方式\r\n\t\t\t\treturn <div className=\"contact-c\">\r\n\t\t\t\t\t  {formValues.contacts&&formValues.contacts.map((contact,idx)=>{\r\n\t\t\t\t\t  \treturn <Tag key={'contact'+idx} className=\"contact-item\" closable onClose={(e)=>{\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle:'确定删除',\r\n\t\t\t\t\t\t\t\tcontent:'确定删除该联系人？',\r\n\t\t\t\t\t\t\t\tonOk:()=>{\r\n\t\t\t\t\t\t\t\t\tformValues.contacts.splice(idx,1);\r\n\t\t\t\t\t\t\t\t\tparentContainer.setState({formValues});\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系人姓名\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactName',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系方式\">\r\n\t\t\t\t\t\t  \t\t<Select size=\"small\" {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactType',contact,{rules:[{validator:(v)=>{\r\n\t\t\t\t\t\t  \t\t\treturn !!v;\r\n\t\t\t\t\t\t  \t\t},message:\"必填\"}],onChange:this.onChange})}>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"电话\">电话</Select.Option>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"钉钉\">钉钉</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"微信\">微信</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"旺旺\">旺旺</Select.Option>\r\n\t\t\t\t\t\t  \t\t</Select>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系号码\">\r\n\t\t\t\t\t\t\t\t<EditableField onBlur={(v)=>{\r\n\t\t\t\t\t\t\t\t\tcontact.mobile_no=v;\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}} onCall={this.props.onCall} value={contact.mobile_no} contactType={contact.contactType}/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系人身份\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactLevel',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t</Tag>;\r\n\t\t\t\t\t  })}\r\n\t\t\t\t\t  <a onClick={()=>{\r\n\t\t\t\t\t  \tlet {contacts} = formValues;\r\n\t\t\t\t\t  \tif(!contacts){\r\n\t\t\t\t\t  \t\tcontacts=[];\r\n\t\t\t\t\t  \t\tformValues.contacts = contacts;\r\n\t\t\t\t\t  \t}\r\n\t\t\t\t\t  \tcontacts.push({});\r\n\t\t\t\t\t  \tparentContainer.setState({formValues});\r\n\t\t\t\t\t  }}>添加联系人</a>\r\n\t\t\t\t</div>;\r\n\t\t\t}}\r\n\t\t</Consumer>;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {message,Input,Modal,Form,Button} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix} from '../../interfaces/interfaces';\r\nimport Contacts from './contact';\r\nconst BizContext = React.createContext();\r\nexport const {Provider, Consumer} = BizContext;\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      formValues:{\r\n        contacts:this.props.data||[]\r\n      }\r\n    };\r\n  }\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.data!=preProps.data){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.contacts=this.props.data;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n  }\r\n\r\n  onChange=formValues=>{\r\n    let contacts;\r\n    if(formValues){\r\n      contacts=formValues.contacts;\r\n    }\r\n    this.props.onChange(contacts);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Provider value={this}>\r\n        <div className=\"contact-form\">\r\n            <label>联系人信息：</label>\r\n            <Contacts onChange={this.onChange} onCall={this.props.onCall}/>\r\n        </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {projects} from './index';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('gameModal', (rec,opt)=>{\r\n        let formValues={project:'乒乓',ballMates:[{},{},{}]};\r\n        if(opt=='modify'){\r\n          formValues=rec;\r\n          formValues.time=[moment(rec.startTime),moment(rec.endTime)];\r\n          rec.ballMates.forEach(it=>it.id=it.id+'');\r\n        }\r\n        this.setState({visible:true,formValues,opt});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=(e,finish)=>{\r\n    let {opt}=this.state;\r\n    util.validateFields.call(this,async values=>{\r\n      let {ballMates}=values;\r\n      let rec={...values};\r\n      rec.startTime=util.formatDate(rec.time[0]);\r\n      rec.endTime=util.formatDate(rec.time[1]);\r\n      delete rec.ballMates;\r\n      delete rec.time;\r\n      ballMates=ballMates.filter(it=>it.id);\r\n      if(ballMates.length<1){\r\n        return message.warning('至少有一个球友');\r\n      }\r\n      let res=await util.ajaxJsonAsync(urlPrefix+'GameOperation?opt='+(opt=='add'?'createGame':'updateGame'),{rec,ballMates,finish});\r\n      if(res.success){\r\n        message.success((finish?'完结':'保存')+'成功');\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryGameTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onMateRowClick=(add,i)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    if(add){\r\n      ballMates.splice(i+1,0,{});\r\n    }else{\r\n      if(ballMates.length==1)return message.warn('至少保留一行');\r\n      ballMates.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onBallMateChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    ballMates[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelectedMates=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    let selectedMates=[];\r\n    for(let i=0;i<ballMates.length;i++){\r\n      if(i!=idx&&ballMates[i].id){\r\n        selectedMates.push(ballMates[i].id+'');\r\n      }\r\n    }\r\n    return selectedMates;\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,opt} = this.state;\r\n  \treturn (<Drawer title={`${opt=='add'?'新建':'修改'}比赛`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onClose={this.handleCancel} placement=\"right\" maskClosable={false} getContainer={false}>\r\n          <Form className=\"add-member-modal\">\r\n            <Row>\r\n              <Form.Item className=\"memberName-f\" label=\"比赛名称\" required>\r\n                  <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛时间\" required>\r\n                  <DatePicker.RangePicker showTime={{defaultValue:[moment().hour(10).startOf('hour'),moment().hour(16).startOf('hour')]}} disabledDate={current=>current && current < moment().endOf('day')} {...util.getField.call(this,'time',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Row>\r\n              <Form.Item className=\"\" label=\"比赛项目\">\r\n                  <Select {...util.getField.call(this,'project',{})}>\r\n                    {projects.map(it=><Select.Option key={it}>{it}</Select.Option>)}\r\n                  </Select>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛规则\">\r\n                  <Input {...util.getField.call(this,'rule',{rules:[]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"比赛描述\" required>\r\n                <Input {...util.getField.call(this,'gameDesc',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Row>\r\n              <Form.Item className=\"amount-f\" label=\"投入成本\" required>\r\n                <MoneyField form={this} name=\"cost\" hideLabel/>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"备注\">\r\n                  <Input {...util.getField.call(this,'remark',{})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"参赛选手\">\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`ballMates[${idx}]`,'id',formValues.ballMates[idx])} onSelected={(v,r)=>this.onBallMateChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入球友名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          {key:'score',title:'当前积分',width:'80px'}]} excludeValues={this.getSelectedMates(idx)} urlSuffix=\"GameOperation?opt=queryBallMate\" searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'getScore',dataIndex:'getScore',title:'获得积分',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"本次比赛的积分\" precision={0} {...util.getSubField.call(this,`ballMates[${idx}]`,'getScore',r)}/></span>}]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.ballMates}/>\r\n            </Form.Item>\r\n          </Form>\r\n          <Button key=\"1\" type=\"primary\" onClick={this.handleOk}>\r\n            保存\r\n          </Button>\r\n          {opt=='modify'&&<Popconfirm title=\"完结后积分将更新到球友身上，且无法再做修改，确认无误？\" onConfirm={(e)=>this.handleOk(e,true)}><Button type=\"primary\">\r\n            完结比赛\r\n          </Button></Popconfirm>}\r\n          <Button key=\"2\" type=\"ghost\" onClick={this.handleCancel}>\r\n            取消\r\n          </Button>\r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport GameModal from './gameModal';\r\nexport let projects=['乒乓'];\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.config = {\r\n      title:'比赛管理',\r\n      key:'Game',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'startTime',label:'开始时间',type:'datetime'},{key:'endTime',label:'截止时间',type:'datetime'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('gameModal',undefined,'add')}><Icon type=\"plus\" />新建比赛</Button>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n            key:'gameDesc',\r\n            width:'30%',\r\n            label:'比赛描述'\r\n        },{\r\n            key:'project',\r\n            width:'6%',\r\n            enums:projects,\r\n            label:'比赛项目'\r\n        },{\r\n          key:'rule',\r\n          width:'20%',\r\n          label:'比赛规则'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:0,text:'未完成'},{key:1,text:'已完成'}],\r\n          label:'状态'\r\n        },{\r\n          key:'time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(r.startTime),\r\n          label:'比赛时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        return (<span style={{display:rec.status==1?'none':undefined}}><a onClick={()=>{\r\n          emitter.emit('gameModal',rec,'modify');\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除比赛？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'GameOperation?opt=deleteGame',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit(`queryGameTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:v=>coaches.filter(it=>it.id==v)[0].name},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'GameOperation?opt=queryGame'}\r\n      }\r\n    };\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'GameOperation?opt=queryBallMate',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <GameModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('changePassModal', ()=>{\r\n        let formValues={};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'SysUserFramework?opt=changePwd', {...values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`系统用户修改密码`} className=\"modal-form\" visible={visible} width={600} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            修改\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"change-pass-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"密码\" required>\r\n                <Input {...util.getField.call(this,'pass',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select, Form} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport ChangePass from './changePass';\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'人员组织',\r\n      key:'sysUser',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'phone'},{key:'role',type:'custom',getComponent:(props)=>(<Select {...props} mode={undefined}>{allRoles.map(it=><Select.Option key={it.id+''} value={it.id+''}>{it.name}</Select.Option>)}</Select>)}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'姓名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'role',\r\n          width:'20%',\r\n          enums:allRoles.map(it=>({key:it.id,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          enums:[{key:'1',text:'生效'},{key:'0',text:'失效'}],\r\n          label:'状态'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>emitter.emit('changePassModal', rec)}>改密码</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.role&&formData.role.length>0){\r\n            if(Array.isArray(formData.role)){\r\n              formData.role=','+formData.role.join(',')+',';\r\n            }\r\n          }else{\r\n            formData.role=undefined;\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.role){\r\n              it.role=it.role.split(',').filter(it=>!!it);\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysUser'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysUser'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysUser'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysUser',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ChangePass/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport '../../game/game/index.less';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-class-student-drawer', (rec)=>{\r\n      this.doLoadData(rec);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      formValues:{\r\n        records:[]\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec)=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:rec.id},res=>{\r\n      if(res.success){\r\n          let records=res.data.data;\r\n          records&&records.forEach(it=>it.id=it.id+'');\r\n          if(!records||records.length==0)records=[{amount:rec.price},{amount:rec.price},{amount:rec.price}];\r\n          let {formValues}=this.state;\r\n          formValues.records=records;\r\n          this.setState({visible:true,rec,formValues});\r\n      }\r\n   });\r\n  }\r\n\r\n  onSave=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {records}=formValues;\r\n    records=records.filter(it=>it.id);\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=saveClassStudents',{classId:rec.id,records},res=>{\r\n      if(res.success){\r\n        message.success(`成功保存了${res.data}个学生到班级中`);\r\n        emitter.emit('queryClassTable',undefined,true);\r\n        this.onClose();\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n  onCloseConfirm=()=>{\r\n      Modal.confirm({\r\n          title:\"关闭确认\",\r\n          content:\"确定要未保存就退出吗？\",\r\n          onOk:this.onClose\r\n      });\r\n  }\r\n\r\n  onRowClick=(add,i)=>{\r\n    let {formValues,rec}=this.state;\r\n    let {records}=formValues;\r\n    if(add){\r\n      records.splice(i+1,0,{amount:rec.price});\r\n    }else{\r\n      if(records.length==1)return message.warn('至少保留一行');\r\n      records.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onRowChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    if(records.filter(it=>it.id==v).length>0){\r\n      message.warn(`该选择【${r.name}】未生效，因为已经在列表中，出现了重复`);\r\n      return false;\r\n    }\r\n    records[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelected=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    let selecteds=[];\r\n    for(let i=0;i<records.length;i++){\r\n      if(i!=idx&&records[i].id){\r\n        selecteds.push(records[i].id+'');\r\n      }\r\n    }\r\n    return selecteds;\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,formValues} = this.state;\r\n    let coach=coaches.filter(it=>it.id==rec.coachId)[0];\r\n    let validCount=formValues.records.filter(it=>it.id).length;\r\n  \treturn (<Drawer title={`班级【${rec.name}】学员管理`} visible={visible} width={800} className=\"class-students-drawer\" placement=\"left\" onClose={this.onCloseConfirm} destroyOnClose maskClosable={false}>\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"班级信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"班级名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"班主任\">{coach&&coach.name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"开始时间\">{util.formatDate(rec.startTime,'yyyy-MM-dd')}</Form.Item>\r\n                      <Form.Item label=\"结束时间\">{util.formatDate(rec.endTime,'yyyy-MM-dd')}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"报名费(元)\">{rec.price}</Form.Item>\r\n                      <Form.Item label=\"总计(元)\">{formValues.records.filter(it=>it.amount&&it.id).map(it=>it.amount).reduce((a,b)=>a+b,0)}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`班级学员列表 （${validCount}个）`} key=\"2\" showArrow={false}>\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'学员姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`records[${idx}]`,'id',formValues.records[idx])} onSelected={(v,r)=>this.onRowChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入学生名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          ]} excludeValues={this.getSelected(idx)} urlSuffix=\"TrainOperation?opt=queryStudent\" initRecords={formValues.records.filter(it=>it.id&&it.name)} searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'amount',dataIndex:'amount',title:'缴费金额(元)',width:'20%',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"报名费\" precision={0} {...util.getSubField.call(this,`records[${idx}]`,'amount',r)}/></span>}\r\n                    ]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.records} pagination={false}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Popconfirm title={`确定提交这${validCount}个学生？`} onConfirm={this.onSave}><Button type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n          </div>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,InputNumber,Popover,Icon,Select,Popconfirm, Switch, DatePicker, Form} from 'antd';\r\nimport './index.less';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport ClassStudentListDrawer from './classStudentListDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('rich-editor-save-'+'classDesc',({content,rec,fieldValues})=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=saveClassLog',{classId:rec.id,logId:rec.logId,content,title:fieldValues.title},res=>{\r\n        emitter.emit(`query${this.config.key}Table`,undefined,true);\r\n        if(res.success)message.success('保存成功');\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'班级管理',\r\n      key:'Class',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'班级名称'\r\n        },{\r\n          key:'introduction',\r\n          width:'10%',\r\n          label:'班级描述'\r\n        },{\r\n          key:'coachId',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:coaches.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'班主任'\r\n        },{\r\n          key:'price',\r\n          width:'5%',\r\n          type:'custom',\r\n          notInTable:true,\r\n          getComponent:props=><InputNumber {...props}/>,\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'报名费(单价)'\r\n        },{\r\n          key:'logs',\r\n          width:'20%',\r\n          render:(v,r)=>{\r\n            let showRichEditor=(content='',logId,defaultValue=''+util.formatDate(Date.now(),'yyyy-MM-dd')+'-纪要')=>{\r\n              emitter.emit('open-rich-editor-drawer',{key:'classDesc',content,title:'班级日志编辑',rec:{...r,logId},fields:[{key:'title',label:'班级日志',options:{rules:[{required:true,message:'必填'}]},defaultValue}]})\r\n            }\r\n            return <div className=\"class-log-c\"><a onClick={()=>{\r\n              showRichEditor();\r\n            }}>添加日志</a>{r.classLogs&&r.classLogs.length>0&&r.classLogs.map(log=><a key={log.id+''} onClick={()=>{\r\n              util.ajaxJson(urlPrefix+'TrainOperation?opt=getClassLog',{id:log.id},res=>{\r\n                if(res.success)showRichEditor(res.data.content,log.id,log.title);\r\n              });\r\n            }}>{log.title}</a>)}</div>;\r\n          },\r\n          notInForm:true,\r\n          label:'班级日志'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            return <a onClick={()=>emitter.emit('show-class-student-drawer',r)}>{v?v:0}</a>;\r\n          },\r\n          label:'学员数'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'开始时间'\r\n        },{\r\n          key:'endTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'},{validator:(v,values)=>{\r\n            if(v&&values.startTime&&values.startTime.valueOf()>v.valueOf()){\r\n              return false;\r\n            }\r\n            return true;\r\n          },message:'截止时间不能在开始时间之前'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'结束时间'\r\n        },{\r\n          key:'project',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          notInForm:true,\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-class-student-drawer',record);\r\n        }}>学员管理</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {project:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.startTime=moment(formData.startTime);\r\n          formData.endTime=moment(formData.endTime);\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          let newFormData={...formData};\r\n          delete newFormData.classLogs;\r\n          return newFormData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'name',dataIndex:'name',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'amount',dataIndex:'amount',title:'缴费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          ]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryClass'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateClass'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertClass'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteClass',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0},\r\n      formValues:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:expandedRowKeys[0],currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ClassStudentListDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport ReactToPrint from 'react-to-print';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-coach-settlement-drawer', (rec)=>{\r\n      let {formValues}=this.state;\r\n      formValues.timeVal='30';\r\n      this.setState({formValues});\r\n      let rangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n      this.doLoadData(rec,rangeValue);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      studentRecords:[],\r\n      studentNames:[],\r\n      formValues:{\r\n        timeVal:'30'\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec,rangeValue)=>{\r\n    this.rangeValue=rangeValue;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:rec.id,startTime:rangeValue[0],endTime:rangeValue[1]},res=>{\r\n      if(res.success){\r\n          let studentRecords=res.data.data,studentNames=[];\r\n          studentRecords.sort((a,b)=>{\r\n            if(a.studentId-b.studentId == 0){\r\n              return a.id-b.id;\r\n            }\r\n            return a.studentId-b.studentId;\r\n          });\r\n          studentRecords.forEach(it=>{\r\n            if(studentNames.indexOf(it.studentName)==-1)studentNames.push(it.studentName);\r\n          });\r\n          this.setState({visible:true,rec,studentRecords,studentNames});\r\n      }\r\n   });\r\n  }\r\n\r\n  doSettlement=()=>{\r\n    let {studentRecords,rec} = this.state;\r\n    let hide=message.loading('结算中...');\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=doSettlement',{coachId:rec.id,recIds:studentRecords.map(it=>it.id),total:this.getTotal(),roomId:studentRecords[0].roomId},res=>{\r\n      hide();\r\n      if(res.success){\r\n        message.success('结算成功');\r\n        this.doLoadData(rec,this.rangeValue);\r\n      }\r\n    });\r\n  }\r\n\r\n  getTotal=(totalFlag)=>{\r\n    let {studentRecords} = this.state;\r\n    let total=Math.round(studentRecords.filter(it=>totalFlag?true:it.billed!=1).map(this.getSettleAmount).reduce((a,b)=>a+b,0));\r\n    return total;\r\n  }\r\n\r\n  getSettleAmount=r=>{\r\n    let rate=tenantConfig.coachRate;\r\n    if(r.mainCoachId==r.coachId){\r\n      rate=tenantConfig.majorCoachRate;\r\n    }\r\n    return r.consumeAmount*rate/100;\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,studentRecords,formValues,studentNames} = this.state;\r\n    let total=this.getTotal(true),toSettleAmount=this.getTotal(false);\r\n  \treturn (<Drawer title={`教练【${rec.name}】结算`} visible={visible} width={800} className=\"settlement-course-drawer\" placement=\"left\" onClose={this.onClose} destroyOnClose >\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"结算信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"教练名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"结算金额\">{total}元{toSettleAmount>0&&<span> ({toSettleAmount}元未结算)</span>}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"时间\"><DatePick modeType=\"select\" validValues={['30','-30','100']} value={formValues.timeVal} onChange={(rangeValue,timeVal)=>{\r\n                        let {formValues}=this.state;\r\n                        formValues.timeVal=timeVal;\r\n                        this.setState({formValues});\r\n                        if(!rangeValue)return;\r\n                        this.doLoadData(rec,rangeValue);\r\n                      }}/></Form.Item>\r\n                      <Form.Item label=\"经办人\">{name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"学员\" className=\"students\">{studentNames.join(', ')}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`训练记录 （${studentRecords.length}次）`} key=\"2\" showArrow={false}>\r\n                  <Table pagination={false} rowKey={r=>r.id} dataSource={studentRecords} size=\"small\" columns={[\r\n            {key:'studentName',dataIndex:'studentName',title:'学生名'},\r\n            {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n            {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n            {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n            {key:'rate',dataIndex:'rate',title:'分成',render:(v,r)=>r.mainCoachId==r.coachId?`${tenantConfig.majorCoachRate}%(主管)`:`${tenantConfig.coachRate}%`},\r\n            {key:'settleAmount',dataIndex:'settleAmount',title:'结算金额(元)',render:(v,r)=>{\r\n              return this.getSettleAmount(r);\r\n            }},\r\n            {key:'billed',dataIndex:'billed',title:'已结算',render:(v,r)=>v==1?'是':'否'},\r\n            {key:'operator',dataIndex:'operator',title:'经办人'},\r\n            ]}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Form.Item label=\"总计\" className=\"total-amount\">{total}元</Form.Item>\r\n          </div>\r\n          <ReactToPrint documentTitle={`教练【${rec.name}】结算单`}\r\n            trigger={() => {\r\n              return <Button type=\"primary\">打印</Button>;\r\n            }}\r\n            content={() => this.printEl}\r\n          />\r\n          <Button disabled={studentRecords.length==0 || toSettleAmount==0} type=\"primary\" onClick={()=>Modal.confirm({title:\"确认结算？\",content:`结算后，会生成一笔￥${toSettleAmount}的支出账单，且培训记录将不可删除，请确认已与教练【${rec.name}】完成了当面结算！`,onOk:this.doSettlement})}>结算</Button>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Popconfirm, Switch} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport SettlementDrawer from './settlementDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-train/coach`,()=>{\r\n      emitter.emit('queryCoachTable');\r\n    });\r\n    this.config = {\r\n      title:'教练管理',\r\n      key:'Coach',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'onlyTrain',label:'仅有训练记录',type:'custom',options:{mode:'checkbox'},getComponent:props=><Switch {...props} onChange={(v)=>{\r\n        if(props.onChange)props.onChange(v);\r\n        emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n        this.refreshExpandRow(false);\r\n      }}></Switch>},\r\n        {key:'time',label:'时间范围',type:'custom',shouldDisplay:(context)=>context.state.formValues.onlyTrain,getComponent:(props,context)=>{\r\n        return <DatePick onChange={rangeValue=>{\r\n          props.onChange(rangeValue);\r\n          emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n          this.refreshExpandRow(false);\r\n        }}/>;\r\n      }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'introduction',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'简介'\r\n        },{\r\n          key:'score',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          label:'积分'\r\n        },{\r\n          key:'unitPrice',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'课时单价'\r\n        },{\r\n          key:'type',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:'1',text:'在职'},{key:'0',text:'离职'}],\r\n          label:'类型'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-coach-settlement-drawer',record);\r\n        }}>结算</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1',type:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'studentName',dataIndex:'studentName',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'billed',dataIndex:'billed',title:'是否结算',render:v=>v==1?'已结算':'未结算'},\r\n          {key:'billedTime',dataIndex:'billedTime',title:'结算时间',render:v=>util.formatDate(v)},\r\n          {key:'billedOperator',dataIndex:'billedOperator',title:'结算人'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow(true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryCoach'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateCoach'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertCoach'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteCoach',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:expandedRowKeys[0],onlyTrain,coach:true,time,currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <SettlementDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","\r\n/**\r\n * 接口管理模块\r\n */\r\nexport let domain = 'localhost:8184';\r\nexport let productDomain = '47.118.49.154';\r\nif(window.location.href.indexOf('47.118.49.154')>-1||window.location.href.indexOf('kkccww21.gitee.io')>-1||window.location.href.indexOf('qiyun')>-1){\r\n\tif(window.location.href.indexOf('qiyun')>-1){\r\n\t\tproductDomain=window.location.host;\r\n\t}\r\n\tdomain=productDomain;\r\n}\r\nif(window.location.href.indexOf('192.168.')>-1){// 本地局域网调试\r\n\tdomain=window.location.host.replace(':3000','')+':8184';\r\n}\r\n\r\nwindow.isProd=function(){\r\n\treturn isProductUrl(domain);\r\n};\r\nwindow.isDebug=function(){\r\n\treturn window.location.hash&&window.location.hash.indexOf('.debug') > -1;\r\n}\r\nwindow.cannotDo=function(){\r\n\treturn window.isProd();\r\n};\r\n\r\nlet basePathSuffix='flow/biz/';\r\n\r\nexport let prefix = '//' + domain + '/';\r\nexport let productPrefix = '//' + productDomain + '/';\r\n\r\nexport function isProductUrl(url){\r\n\tif(url){\r\n\t\tif(url.indexOf('localhost')>-1)return false;\r\n\t}\r\n\tif(domain==productDomain)return true;\r\n\treturn url&&!url.startsWith('pre')&&url.indexOf('alibaba-inc.com') > -1;\r\n}\r\nconst interfacesData = {\r\n    \r\n};\r\n\r\nlet interfaces = interfacesData;\r\n\r\nexport default interfaces;\r\nexport let urlPrefix = prefix + basePathSuffix;\r\nexport let urlProductPrefix = productPrefix+basePathSuffix;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Upload,Icon,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport Compressor from 'compressorjs';\r\nimport { emitter, util } from '../../../common/common';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport {tenantId} from '../../../entry/index/routes/IndexPage';\r\nexport let imagePrefix=()=>'https://cdn.jsdelivr.net/gh/kkccww21/static@master/pic/'+tenantId+'/';\r\nlet uid=0;\r\nexport default class BizComponent extends Component {\r\n    static defaultProps = {\r\n        fileSize:1,\r\n        quality:0.5,\r\n        onLoading:loading=>{}\r\n    };\r\n    constructor(...args) {\r\n        super(...args);\r\n        let fileList=[];\r\n        if(this.props.value){\r\n            fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n        }\r\n        this.state = {\r\n            previewVisible: false,\r\n            previewImage: '',\r\n            fileList\r\n        };\r\n    }\r\n    \r\n\r\n    componentDidUpdate(preProps){\r\n      if(this.props.value!=preProps.value){\r\n        let {fileList}=this.state;\r\n              if(this.props.value){\r\n                  if(!fileList||fileList.length==0){\r\n                      fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n                  }\r\n              }else{\r\n                  fileList=[];\r\n              }\r\n              this.setState({fileList});\r\n      }\r\n    }\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n          file.preview = await util.getFileBase64(file.originFileObj);\r\n        }\r\n    \r\n        this.setState({\r\n          previewImage: file.url || file.preview,\r\n          previewVisible: true,\r\n        });\r\n    }\r\n\r\n    handleChange = ({ fileList }) => {\r\n        this.setState({ fileList });\r\n    };\r\n\r\n    render() {\r\n        let {fileSize}=this.props;\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        const uploadButton = (\r\n          <div>\r\n            <Icon type=\"plus\" />\r\n            <div className=\"ant-upload-text\">上传</div>\r\n          </div>\r\n        );\r\n        return (\r\n          <div className=\"clearfix\">\r\n            <Upload\r\n              listType=\"picture-card\"\r\n              fileList={fileList} withCredentials\r\n              onPreview={this.handlePreview}\r\n              accept=\"image/png, image/jpeg\"\r\n              onChange={this.handleChange}\r\n              customRequest={({onProgress,onError,onSuccess,filename,file})=>{\r\n                let hide=message.loading('文件上传中...', 20);\r\n                this.props.onLoading(true);\r\n                new Compressor(file, {\r\n                    quality:this.props.quality,\r\n                    success:async (result)=> {\r\n                        let base64Str=await util.getFileBase64(result);\r\n                        let key=util.guid()+'.jpg';\r\n                        let res=await util.ajaxJsonAsync(urlPrefix+'SysUserFramework?opt=uploadFile',{key,type:result.type,message:this.props.message,content:base64Str.substring(base64Str.indexOf(\";base64,\") + 8)});\r\n                        this.props.onLoading(false);\r\n                        if(res.success){\r\n                            message.success('上传成功！');\r\n                            onSuccess(res);\r\n                            if(fileSize==1){\r\n                                this.props.onChange(key);\r\n                            }else{}\r\n\r\n                            let img=new Image();\r\n                            img.src=imagePrefix()+key;// cdn预热一下\r\n                            hide();\r\n                        }else{\r\n                            message.error('上传失败');\r\n                            onError();\r\n                            hide();\r\n                        }\r\n                    },\r\n                    error(err) {\r\n                      message.error('压缩失败:' + err);\r\n                      hide();\r\n                    },\r\n                });\r\n              }}\r\n            >\r\n              {fileList.length >= fileSize ? null : uploadButton}\r\n            </Upload>\r\n            <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n              <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n          </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    amountTags=[{color:'blue',value:50},{color:'cyan',value:100},{color:'green',value:200},{color:'gold',value:500},{color:'orange',value:1000}];\r\n    render() {\r\n        let {name,form,hideLabel}=this.props;\r\n        let {formValues}=form.state;\r\n        return <>\r\n            <InputNumber {...util.getField.call(form,name?name:'amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={0}/>\r\n            {!hideLabel&&this.amountTags.map(it=><Tag className=\"money-tag\" key={'tag'+it.value} color={it.color} onClick={()=>{\r\n            let {formValues}=form.state;\r\n            if(isNaN(formValues.amount))formValues.amount=0;\r\n            formValues.amount=formValues.amount+it.value;\r\n            form.setState({formValues},()=>util.validateFields.call(form,()=>{},['amount']));\r\n            }}>{it.value}</Tag>)}\r\n            {formValues.amount>0&&util.convertToChinaNum(formValues.amount)&&<span className=\"amount-tip\">{util.convertToChinaNum(formValues.amount)}元</span>}\r\n        </>;\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Input maxLength={11} {...util.getField.call(form,name?name:'phone',{rules:[{required:required===undefined?true:required,message:'必填'},{validator:v=>{\r\n                if(!v)return true;\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})} />\r\n        </>;\r\n    }\r\n}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Table } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,urlPrefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n    static defaultProps = {\r\n        searchKey : 'searchText',\r\n        columns:[{key:'id'},{key:'name'}],\r\n        optionLabelProp:'name'\r\n    };\r\n  constructor(...args) {\r\n    super(...args);\r\n    // this.doSearch('');\r\n    this.state={\r\n        dataSource:[]\r\n    };\r\n  }\r\n\r\n  doSearch=(v)=>{\r\n    let {urlSuffix,searchKey,excludeValues,data}=this.props;\r\n    if(data){\r\n        let dataSource=data.filter(it=>{\r\n            for(let k in it){\r\n                if(it[k]&&(typeof it[k]=='string'||typeof it[k]=='number')&&(it[k]+'').indexOf(v)>-1){\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n        setTimeout(()=>{\r\n            this.setState({dataSource,searchInput:v});\r\n        },10);\r\n        \r\n    }else{\r\n        util.ajaxJson(urlPrefix+urlSuffix,{[searchKey]:v,excludeValues:v?undefined:excludeValues,noPaging:true},res=>{\r\n            if(res.success){\r\n                let dataSource;\r\n                if(Array.isArray(res.data)){\r\n                    dataSource=res.data;\r\n                }else{\r\n                    dataSource=res.data.data;\r\n                }\r\n                this.setState({dataSource,searchInput:v});\r\n            }\r\n        });\r\n    }\r\n    \r\n  }\r\n  hightLight=v=>{\r\n    if(v){\r\n        if(v.type&&v.props)return v;\r\n        let value=this.state.searchInput+'',colValue=(v+'');\r\n        let idx=colValue.indexOf(value);\r\n        if(idx>-1){\r\n            return <span>{colValue.substring(0,idx)}<span className=\"hight-light\">{value}</span>{colValue.substring(idx+value.length)}</span>;\r\n        }\r\n    }\r\n    return v;\r\n}\r\n\r\n  render(){\r\n    let {columns,width,onChange,value,valueKey,nameKey,onSelected,excludeValues,allowClear,optionLabelProp,initRecords}=this.props;\r\n    let {open,dataSource,searchInput}=this.state;\r\n    if(!searchInput&&excludeValues&&excludeValues.length>0){// 过滤已选择的\r\n        dataSource=dataSource.filter(it=>excludeValues.indexOf(it[valueKey]+'')==-1);\r\n    }\r\n    if(initRecords&&!searchInput&&dataSource.length==0&&initRecords.length>0){// 兜底展示防空\r\n        dataSource=initRecords;\r\n    }\r\n    return (<Select ref={el=>this.el=el} optionLabelProp={optionLabelProp} filterOption={false} className=\"selecttable-select\" dropdownClassName=\"selecttable-dropdown\" firstActiveValue={dataSource.length>0?dataSource[0][valueKey]+'':undefined} {...this.props} value={value} showSearch style={{width:width?width:'100%'}} open={open} dropdownMatchSelectWidth={false} onDropdownVisibleChange={open=>{\r\n            if(open&&!value){\r\n                this.doSearch('');\r\n            }\r\n            this.setState({open});\r\n        }} onChange={e=>{\r\n            let goOn=true;\r\n            if(onSelected){\r\n                goOn=onSelected(e,dataSource.filter(it=>it[valueKey]==e)[0]);\r\n            }\r\n            if(goOn)onChange(e);\r\n        }} onSearch={v=>{\r\n            this.doSearch(v);\r\n        }} allowClear={allowClear}>\r\n          <Select.Option disabled key=\"-1\"><table className=\"selectTable\" style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><thead className=\"ant-table-thead\"><tr>{columns.filter(c=>!c.hidden).map(c=><th className=\"ant-table-row-cell-break-word\" key={c.key}><div>{c.title}</div></th>)}</tr></thead></table></Select.Option>\r\n          {dataSource.map((it,idx)=>{\r\n            let hasSelected=false;\r\n            if(excludeValues&&excludeValues.indexOf(it[valueKey]+'')>-1)hasSelected=true;// 已选择过的重复的，样式变一下\r\n            return <Select.Option key={'so'+idx} value={it[valueKey]+''} name={it[nameKey]} {...{[optionLabelProp]:it[optionLabelProp]}}>\r\n                <table className={\"selectTable\" + (hasSelected?' selectedTable':'')} style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><tbody className=\"ant-table-tbody\"><tr>{columns.filter(c=>!c.hidden).map((c,idx)=><td className=\"ant-table-row-cell-break-word\" key={c.key}>{this.hightLight(c.render?c.render(it[c.key],it,idx):it[c.key])}</td>)}</tr></tbody></table>\r\n            </Select.Option>;\r\n          })}\r\n        </Select>);\r\n  }\r\n}"],"sourceRoot":""}