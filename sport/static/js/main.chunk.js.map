{"version":3,"sources":["biz/common/fields/coach.js","biz/sys/config/cate/index.js","biz/contact/index.js","biz/game/game/index.js","biz/common/indicates/area.js","components/select/datePick.js","components/common/table/queryCond.js","biz/bill/queryBill/billModal.js","components/icon/index.js","entry/index/routes/routeTabs.js","entry/index/routes/modals/loginModal.js","entry/index/routes/modals/hotline.js","entry/index/routes/Menu.js","common/ws.js","entry/index/routes/modals/richEditorDrawer.js","entry/index/routes/IndexPage.js","biz/bill/queryBill/index.js","biz/game/ballMate/index.js","biz/jxc/item/index.js","biz/operate/ballRoom/index.js","biz/operate/member/index.js","biz/operate/memberBill/index.js","biz/sys/config/index.js","biz/sys/config/baseItem/index.js","biz/sys/optLog/index.js","biz/sys/sysRole/index.js","biz/sys/sysUser/index.js","biz/task/index.js","biz/train/class/index.js","biz/train/coach/index.js","biz/train/student/index.js","components/pops/saveParams.js","biz/common/indicates/index.js","biz/common/fields/sportType.js","biz/contact/contact.js","biz/game/game/gameModal.js","biz/operate/member/addMemberModal.js","common/common.js","biz/operate/member/modifyMemberModal.js","biz/operate/member/memberConsumeModal.js","biz/operate/member/rechargeMemberModal.js","biz/operate/member/memberRechargeBillListDrawer.js","biz/sys/config/cate/cateCrudModal.js","biz/sys/config/cate/cateSelect.js","biz/sys/sysUser/changePass.js","biz/train/class/classStudentListDrawer.js","biz/train/coach/settlementDrawer.js","biz/train/student/addStudentModal.js","biz/train/student/modifyStudentModal.js","biz/train/student/studentConsumeModal.js","biz/train/student/courseListDrawer.js","biz/train/student/rechargeStudentModal.js","components/common/form/field.js","components/pops/editableField.js","components/select/index.js","components/common/table/grid.js","components/common/table/table.js","components/common/form/form.js","components/common/index.js","biz/jxc/item/itemAdd.js","biz/jxc/item/itemForm.js","biz sync /^/.*$","biz/common/fields/upload.js","biz/common/fields/money.js","interfaces/interfaces.js","registerServiceWorker.js","index.js","biz/common/fields/phone.js","components/select/selectTable.js"],"names":["BizComponent","Object","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_len","arguments","length","args","Array","_key","_super","call","apply","concat","_this$props","props","form","name","required","onChange","showPrice","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Fragment","antd_es_select__WEBPACK_IMPORTED_MODULE_1__","util","getField","bind","rules","message","coaches","map","it","Option","key","id","value","unitPrice","Component","cateTypes","convertWithChildren","treeNodes","array","parent","i","obj","node","pid","undefined","isLeaf","k","children","push","sort","b","num","_this","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_12__","initCateData","formValues","state","ajaxJson","urlPrefix","type","res","expandedKeys","data","treeData","setState","onExpand","loop","item","idx","hasChildren","addSubEl","react__WEBPACK_IMPORTED_MODULE_17___default","onClick","emitter","emit","opt","rec","editEl","deleteEl","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_9__","title","onConfirm","antd_es_message__WEBPACK_IMPORTED_MODULE_11__","warning","success","upEl","otherItem","id1","num1","id2","num2","downEl","antd_es_tree__WEBPACK_IMPORTED_MODULE_7__","TreeNode","className","cateName","on","config","_this2","_this$state","nodes","antd_es_form__WEBPACK_IMPORTED_MODULE_3__","Item","label","antd_es_select__WEBPACK_IMPORTED_MODULE_5__","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","showLine","onSelect","_cateCrudModal__WEBPACK_IMPORTED_MODULE_22__","BizContext","React","createContext","Provider","Consumer","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","contacts","preProps","react__WEBPACK_IMPORTED_MODULE_5___default","_contact__WEBPACK_IMPORTED_MODULE_9__","onCall","projects","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","refreshExpandRow","expandedRowKeys","memberId","recDs","dialog","width","queryCond","conditions","extButtons","react__WEBPACK_IMPORTED_MODULE_15___default","antd_es_button__WEBPACK_IMPORTED_MODULE_7__","size","antd_es_icon__WEBPACK_IMPORTED_MODULE_9__","filter","beforeQuery","queryParam","fields","rowKey","notInForm","notInTable","enums","text","render","v","r","formatDate","startTime","operationAddon","amount","style","display","status","recordCount","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_3__","antd_es_message__WEBPACK_IMPORTED_MODULE_5__","col","beforeAdd","formData","beforeModify","beforeSubmit","ext","JSON","stringify","staffs","table","bordered","expandIcon","pops","expanded","indexOf","record","expandedRowRender","index","indent","antd_es_table__WEBPACK_IMPORTED_MODULE_1__","columns","dataIndex","studentId","dataSource","pagination","totalItem","total","resultHandler","result","list","forEach","api","queryInterface","func","fileList","_components_common__WEBPACK_IMPORTED_MODULE_19__","_gameModal__WEBPACK_IMPORTED_MODULE_22__","provK","pca","provName","cityK","replace","pcaa","context","useName","provs","citys","countys","prov","city","county","ref","el","areaUi","assign","e","showSearch","optionFilterProp","placeholder","allowClear","keys","getDisplayText","BizComp","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","onRadioChange","target","thisRangeValue","rangeValue","now","Date","customRangeVisible","moment","month","startOf","valueOf","format","endOf","onRangeChange","customTimeShow","validValues","modeType","react__WEBPACK_IMPORTED_MODULE_13___default","antd_es_select__WEBPACK_IMPORTED_MODULE_7__","position","antd_es_popover__WEBPACK_IMPORTED_MODULE_3__","visible","content","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__","RangePicker","disabledDate","current","trigger","antd_es_radio__WEBPACK_IMPORTED_MODULE_1__","Group","Button","defaultProps","antd_es_form__WEBPACK_IMPORTED_MODULE_15__","QueryCond","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","getQueryParam","onQueryCondQuery","retainPage","trim","_convertFormValues","getExtButtons","isArray","cb","react__WEBPACK_IMPORTED_MODULE_16___default","idx1","antd_es_row__WEBPACK_IMPORTED_MODULE_5__","condition","idx2","curConditon","field","shouldDisplay","antd_es_col__WEBPACK_IMPORTED_MODULE_8__","sm","_form_field__WEBPACK_IMPORTED_MODULE_17__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","options","onKeyDown","hideButtons","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","create","bodyDomains","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_16__","handleOk","validateFields","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_18__","values","antd_es_message__WEBPACK_IMPORTED_MODULE_15__","handleCancel","roomId","rooms","billTime","react__WEBPACK_IMPORTED_MODULE_22___default","antd_es_modal__WEBPACK_IMPORTED_MODULE_1__","destroyOnClose","onCancel","maskClosable","footer","antd_es_button__WEBPACK_IMPORTED_MODULE_13__","antd_es_form__WEBPACK_IMPORTED_MODULE_9__","antd_es_select__WEBPACK_IMPORTED_MODULE_11__","disabled","manual","tenantConfig","billCates","antd_es_input__WEBPACK_IMPORTED_MODULE_7__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_5__","min","precision","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","showTime","components_icon","_react_16_14_0_react_default","aria-hidden","href","routeTabs","jxc/item/itemAdd","jxc/item/itemEdit","sys/config/cate/cateMgr","TestModal","classCallCheck","handleLogin","validFields","registerTag","assertThisInitialized","verifyId","phone","pass","tenantId","verifyCode","getPrefix","noErrAlert","errMsg","tenants","loginGo","error","guid","window","sessionStorage","setItem","minAjax","url","productPrefix","startsWith","prefix","toRegister","_ref","body","firstLogin","account","getItem","pwd","isProd","formItemLayout","labelCol","xs","span","wrapperCol","carousel","autoplay","modal","mask","wrapClassName","top","es_button","es_form","input","validator","test","onPressEnter","src","alt","es_select","getPopupContainer","document","querySelector","tenantName","SubMenu","menu","getTitleByKey","icon","_step","_iterator","_createForOfIteratorHelper","loginMenus","s","n","done","lm","_step2","_iterator2","lc","_step3","_iterator3","lcc","err","f","changeCurrentMenu","handleClick","_menuClickProtect","location","hash","setTimeout","localStorage","menus","parentCode","menuObj","parse","code","subMenus","subIt","subMenu","subChildren","lastActiveMenuKey","hashKey","substring","qIdx","openKeys","onOpenChange","selectedKeys","mode","inlineIndent","heartbeatInterval","onSave","dontClose","ue","getContent","fieldValues","onClose","isModified","onCloseConfirm","confirm","onOk","_ref$width","_ref$content","defaultValue","setContent","UE","getEditor","ready","addListener","cmd","evt","ctrlKey","keyCode","preventDefault","returnValue","drawer","placement","height","popconfirm","ws","createWebSocket","WebSocket","MozWebSocket","onclose","console","log","reconnect","onerror","onopen","onmessage","event","dataObj","time","okText","cancelText","reload","handleMsg","initEventHandle","clearInterval","setInterval","_stopWebsocketHeartBeat","send","lockReconnect","encodeURIComponent","mixStr","domain","role","allRoles","allStaffs","urls","isAdmin","tenant","TabPane","tabs","IndexPage","handleHash","IndexPage_createForOfIteratorHelper","split","entryPair","indexMenu","onMenuClick","initUserInfo","tconfig","majorCoachRate","coachRate","init","comp","require","default","panes","activeKey","fps","p","onTabChange","onTabEdit","targetKey","action","_this$state2","addEventListener","user","userName","_ref2","warn","_this$state3","Menu_BizComponent","hideAdd","onEdit","pane","Comp","tab","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","ajaxJsonAsync","stop","loginModal_TestModal","richEditorDrawer_BizComponent","getComponent","_components_select_datePick__WEBPACK_IMPORTED_MODULE_21__","endTime","extBtns","antd_es_button__WEBPACK_IMPORTED_MODULE_5__","antd_es_icon__WEBPACK_IMPORTED_MODULE_7__","ioMap","o","sumAmount","count","io","_components_pops_editableField__WEBPACK_IMPORTED_MODULE_20__","onBlur","relInfo","antd_es_message__WEBPACK_IMPORTED_MODULE_3__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_1__","getFormData","lazyInit","showTotal","_components_common__WEBPACK_IMPORTED_MODULE_17__","_billModal__WEBPACK_IMPORTED_MODULE_19__","maxLength","updateInterface","insertInterface","deleteInterface","params","_components_common__WEBPACK_IMPORTED_MODULE_9__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_9___default","_components_common__WEBPACK_IMPORTED_MODULE_13__","multi","afterSubmit","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_14__","react__WEBPACK_IMPORTED_MODULE_19___default","antd_es_button__WEBPACK_IMPORTED_MODULE_11__","antd_es_icon__WEBPACK_IMPORTED_MODULE_13__","antd_es_upload__WEBPACK_IMPORTED_MODULE_3__","withCredentials","file","response","antd_es_message__WEBPACK_IMPORTED_MODULE_7__","splice","antd_es_tooltip__WEBPACK_IMPORTED_MODULE_5__","avatar","overlayClassName","backgroundImage","imagePrefix","useEmpty","billType","remainTimes","expireTime","getTime","room","_components_common__WEBPACK_IMPORTED_MODULE_23__","_addMemberModal__WEBPACK_IMPORTED_MODULE_26__","_modifyMemberModal__WEBPACK_IMPORTED_MODULE_27__","_memberConsumeModal__WEBPACK_IMPORTED_MODULE_28__","_rechargeMemberModal__WEBPACK_IMPORTED_MODULE_29__","_memberRechargeBillListDrawer__WEBPACK_IMPORTED_MODULE_31__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_15__","initTenantConfig","courseTypes","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_14__","react__WEBPACK_IMPORTED_MODULE_20___default","antd_es_tabs__WEBPACK_IMPORTED_MODULE_7__","defaultActiveKey","antd_es_form__WEBPACK_IMPORTED_MODULE_11__","antd_es_select__WEBPACK_IMPORTED_MODULE_13__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_9__","max","_this2$state","antd_es_button__WEBPACK_IMPORTED_MODULE_3__","configs","owner","address","join","cfg","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__","resultList","antd_es_message__WEBPACK_IMPORTED_MODULE_4__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","antd_es_tabs__WEBPACK_IMPORTED_MODULE_1__","rs","reg","RegExp","resArr","exec","resStr","customers","owner_name","canModify","canDelete","contentObj","_components_common__WEBPACK_IMPORTED_MODULE_11__","_changePass__WEBPACK_IMPORTED_MODULE_14__","start_time","color","company_name","customer_name","finish_time","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_11__","recPagination","pageSize","onlyTrain","classId","currentPageNum","logId","antd_es_message__WEBPACK_IMPORTED_MODULE_10__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_8__","showRichEditor","classLogs","operationPrefix","project","newFormData","_components_common__WEBPACK_IMPORTED_MODULE_20__","_classStudentListDrawer__WEBPACK_IMPORTED_MODULE_23__","coachId","coach","antd_es_switch__WEBPACK_IMPORTED_MODULE_10__","_components_select_datePick__WEBPACK_IMPORTED_MODULE_23__","antd_es_icon__WEBPACK_IMPORTED_MODULE_8__","billed","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_4__","antd_es_message__WEBPACK_IMPORTED_MODULE_6__","_settlementDrawer__WEBPACK_IMPORTED_MODULE_24__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_22__","react__WEBPACK_IMPORTED_MODULE_27___default","antd_es_select__WEBPACK_IMPORTED_MODULE_21__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_19__","antd_es_button__WEBPACK_IMPORTED_MODULE_15__","antd_es_icon__WEBPACK_IMPORTED_MODULE_17__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_13__","antd_es_upload__WEBPACK_IMPORTED_MODULE_7__","antd_es_tooltip__WEBPACK_IMPORTED_MODULE_9__","courses","c","times","remainCourses","reduce","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","doDelete","billRes","ids","billIdPrefix","sent","abrupt","antd_es_modal__WEBPACK_IMPORTED_MODULE_4__","mainCoachId","consumeTimes","allTimes","courseMap","stuRec","courseId","consumeAmount","_components_common__WEBPACK_IMPORTED_MODULE_31__","_addStudentModal__WEBPACK_IMPORTED_MODULE_34__","_modifyStudentModal__WEBPACK_IMPORTED_MODULE_35__","_studentConsumeModal__WEBPACK_IMPORTED_MODULE_36__","_courseListDrawer__WEBPACK_IMPORTED_MODULE_37__","_rechargeStudentModal__WEBPACK_IMPORTED_MODULE_38__","CommonComp","storageItemKey","onLoad","left","right","bottom","zIndex","paramArr","loadParams","paramArrRevers","saveParamName","t","paramsStr","objectSpread","popover","getIndicates","indicates","indicatesMap","_loop","indicate","newK","disableSearch","doSearch","reserveBtn","onSearch","showSearchConds","tag","closable","stopPropagation","getTagContent","saveParams_CommonComp","onSaveCond","formValue","onCollapse","indicatesUi","collapse","Panel","header","tooltip","mouseEnterDelay","enumItem","date_picker","input_number","indicates_area","antd_es_form__WEBPACK_IMPORTED_MODULE_1__","antd_es_select__WEBPACK_IMPORTED_MODULE_3__","parentContainer","_index__WEBPACK_IMPORTED_MODULE_17__","contact","antd_es_tag__WEBPACK_IMPORTED_MODULE_1__","antd_es_modal__WEBPACK_IMPORTED_MODULE_9__","antd_es_form__WEBPACK_IMPORTED_MODULE_5__","getSubField","_components_pops_editableField__WEBPACK_IMPORTED_MODULE_18__","mobile_no","contactType","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_27__","finish","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_29__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_26__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_22___default","ballMates","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_25__","antd_es_message__WEBPACK_IMPORTED_MODULE_24__","_x","onMateRowClick","add","onBallMateChange","getSelectedMates","selectedMates","react__WEBPACK_IMPORTED_MODULE_33___default","antd_es_drawer__WEBPACK_IMPORTED_MODULE_1__","getContainer","antd_es_form__WEBPACK_IMPORTED_MODULE_19__","antd_es_row__WEBPACK_IMPORTED_MODULE_15__","antd_es_input__WEBPACK_IMPORTED_MODULE_21__","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_17__","hour","_common_fields_money__WEBPACK_IMPORTED_MODULE_41__","hideLabel","antd_es_table__WEBPACK_IMPORTED_MODULE_5__","antd_es_icon__WEBPACK_IMPORTED_MODULE_11__","antd_es_button__WEBPACK_IMPORTED_MODULE_9__","shape","_components_select_selectTable__WEBPACK_IMPORTED_MODULE_42__","onSelected","valueKey","nameKey","excludeValues","urlSuffix","searchKey","antd_es_input_number__WEBPACK_IMPORTED_MODULE_7__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_20__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_22__","isVip","antd_es_message__WEBPACK_IMPORTED_MODULE_19__","info","memberType","focus","applyTime","consumeNow","react__WEBPACK_IMPORTED_MODULE_26___default","antd_es_button__WEBPACK_IMPORTED_MODULE_17__","loading","antd_es_input__WEBPACK_IMPORTED_MODULE_15__","antd_es_switch__WEBPACK_IMPORTED_MODULE_13__","checkedChildren","unCheckedChildren","checked","isFormFiledsValid","_common_fields_phone__WEBPACK_IMPORTED_MODULE_36__","_common_fields_money__WEBPACK_IMPORTED_MODULE_35__","antd_es_select__WEBPACK_IMPORTED_MODULE_9__","antd_es_checkbox__WEBPACK_IMPORTED_MODULE_3__","_common_fields_upload__WEBPACK_IMPORTED_MODULE_34__","onLoading","quality","EventEmitter","setMaxListeners","emitterOn","listner","removeAllListeners","ons","_parentUtil","cond","parentNode","classList","contains","matched","styles","getComputedStyle","_showFieldError","isValid","msg","remove","explain","childNodes","innerText","errorMsgEl","appendChild","currentFormItemControl","formItem","tagName","onfocus","onblur","_getFormElementByFieldName","fieldName","ognlPrefix","pContainer","eles","querySelectorAll","getUniqClassName","idPrefix","newEles","_triggerFieldValidation","asyncCount","rule","contextVal","onlyOnce","Error","fieldProp","getEventTargetValue","noChineseSymbol","fv","_this3","clearValidateFields","hasOwnProperty","fieldVal","callback","_this4","vf","validateKeys","vkey","validCount","valid","newFormValues","_isAMomentObject","showFieldError","component","ops","form2js","nameValues","skipEmpty","j","l","nameParts","currResult","arrNameFull","arrName","arrIdx","namePart","_nameParts","arrays","sortedNameValues","_i2","_keys","match","substr","js2form","results","_js2formResults","formObj","lvl","_getSubValues","subObj","itemName","tempItem","tempResult","getUrlParams","search","theRequest","strs","pair","decodeURIComponent","ajax","successCallback","async","xhrFields","xhr","post","errorCallback","dataStr","preEnv","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","contentType","failMessage","Promise","isEmpty","getStringValue","convertStr2Num","domElement","getElementById","maskElement","unmask","date","shortYear","getFullYear","y","M","getMonth","d","getDate","h","getHours","m","getMinutes","getSeconds","Math","random","toString","getFileBase64","resolve","reject","reader","FileReader","readAsDataURL","onload","round","number","isNaN","getShortDate","timestamp","short","abs","fd","setAllNum2Str","tuomin","isChinese","repeat","dotStr","$1","convertToChinaNum","arr1","arr2","english","des_i","encode","str","btoa","unescape","decode","escape","atob","getJSONString","eval","getJSON","paramObj","removeCommentFromJSON","e1","getCookie","cookies","cookie","parts","shift","pushAt","arr","newArr","throttle","delay","no_trailing","debounce_mode","timeout_id","last_exec","that","elapsed","clearTimeout","debounce","at_begin","mixUids","rChars","base64url","reverse","uid","rIdx","trunc","unMixStr","endsWith","initXMLhttp","xmlhttp","XMLHttpRequest","ActiveXObject","sign","md5","debugLog","dataType","onreadystatechange","readyState","responseText","errorInfo","rspContentType","getResponseHeader","rsp","errors","sendString","sendData","tmpArr","String","prototype","datum","FormData","open","beforeSend","setRequestHeader","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_19__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_21__","antd_es_message__WEBPACK_IMPORTED_MODULE_18__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_16__","react__WEBPACK_IMPORTED_MODULE_25___default","antd_es_input__WEBPACK_IMPORTED_MODULE_11__","_common_fields_phone__WEBPACK_IMPORTED_MODULE_35__","_common_fields_upload__WEBPACK_IMPORTED_MODULE_33__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_17__","antd_es_message__WEBPACK_IMPORTED_MODULE_13__","gmtCreate","react__WEBPACK_IMPORTED_MODULE_21___default","antd_es_modal__WEBPACK_IMPORTED_MODULE_14__","doRecharge","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_12__","getDelayTime","expMoment","antd_es_form__WEBPACK_IMPORTED_MODULE_7__","_common_fields_money__WEBPACK_IMPORTED_MODULE_27__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__","rechargeTimes","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_1__","billIdPrefixs","billList","antd_es_collapse__WEBPACK_IMPORTED_MODULE_5__","antd_es_table__WEBPACK_IMPORTED_MODULE_7__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_13__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_10__","antd_es_message__WEBPACK_IMPORTED_MODULE_9__","cateSelectEl","initTreeData","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","_cateSelect__WEBPACK_IMPORTED_MODULE_22__","withEmpty","arryData","antd_es_tree__WEBPACK_IMPORTED_MODULE_3__","fieldKey","antd_es_tree_select__WEBPACK_IMPORTED_MODULE_1__","dropdownStyle","maxHeight","overflow","treeDefaultExpandAll","doLoadData","records","price","antd_es_message__WEBPACK_IMPORTED_MODULE_21__","antd_es_modal__WEBPACK_IMPORTED_MODULE_19__","onRowClick","onRowChange","getSelected","selecteds","printEl","antd_es_collapse__WEBPACK_IMPORTED_MODULE_13__","showArrow","antd_es_form__WEBPACK_IMPORTED_MODULE_17__","_components_select_selectTable__WEBPACK_IMPORTED_MODULE_34__","initRecords","studentRecords","studentNames","studentName","doSettlement","hide","recIds","getTotal","totalFlag","getSettleAmount","rate","timeVal","toSettleAmount","antd_es_collapse__WEBPACK_IMPORTED_MODULE_9__","antd_es_row__WEBPACK_IMPORTED_MODULE_11__","antd_es_form__WEBPACK_IMPORTED_MODULE_13__","_components_select_datePick__WEBPACK_IMPORTED_MODULE_29__","react_to_print__WEBPACK_IMPORTED_MODULE_23___default","documentTitle","antd_es_modal__WEBPACK_IMPORTED_MODULE_3__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_19__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_16___default","existData","antd_es_modal__WEBPACK_IMPORTED_MODULE_18__","doReportStudent","privateTrain","antd_es_input__WEBPACK_IMPORTED_MODULE_9__","antd_es_switch__WEBPACK_IMPORTED_MODULE_5__","_i","_invalidFields","invalidField","_common_fields_money__WEBPACK_IMPORTED_MODULE_34__","_common_fields_coach__WEBPACK_IMPORTED_MODULE_36__","_common_fields_upload__WEBPACK_IMPORTED_MODULE_37__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_17__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_19__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_16__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_13___default","remark","react__WEBPACK_IMPORTED_MODULE_23___default","_common_fields_phone__WEBPACK_IMPORTED_MODULE_32__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_18__","antd_es_message__WEBPACK_IMPORTED_MODULE_17__","onCoachChange","studyTime","subType","isMainCoach","coursename","coachName","targetCourse","targetCoach","antd_es_row__WEBPACK_IMPORTED_MODULE_9__","antd_es_col__WEBPACK_IMPORTED_MODULE_11__","_common_fields_sportType__WEBPACK_IMPORTED_MODULE_34__","_components_select_selectTable__WEBPACK_IMPORTED_MODULE_35__","optionLabelProp","remainAmount","_common_fields_coach__WEBPACK_IMPORTED_MODULE_33__","step","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_26__","deleteStudentRec","antd_es_message__WEBPACK_IMPORTED_MODULE_25__","refreshCourseInfo","deleteStudentRechargeBillRec","antd_es_modal__WEBPACK_IMPORTED_MODULE_23__","courseInfo","deleteCourse","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_21__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_20___default","doDeleteCourse","modifyCourseTimes","modifyCourseTime","course","modifyCourseCoach","bills","react__WEBPACK_IMPORTED_MODULE_31___default","antd_es_row__WEBPACK_IMPORTED_MODULE_13__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_15__","antd_es_select__WEBPACK_IMPORTED_MODULE_17__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_11__","operator","snapTimes","antd_es_tooltip__WEBPACK_IMPORTED_MODULE_3__","canSelectCourse","_components_select_selectTable__WEBPACK_IMPORTED_MODULE_33__","_common_fields_money__WEBPACK_IMPORTED_MODULE_30__","antd_es_radio__WEBPACK_IMPORTED_MODULE_16__","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","antd_es_select__WEBPACK_IMPORTED_MODULE_12__","Field","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","optType","editableInModify","multiple","dictCode","_select__WEBPACK_IMPORTED_MODULE_18__","TextArea","rows","antd_es_input_number__WEBPACK_IMPORTED_MODULE_1__","onEditClick","callee","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__","react__WEBPACK_IMPORTED_MODULE_14___default","antd_es_icon__WEBPACK_IMPORTED_MODULE_1__","allMetaData","CommonSelect","includeValues","desc","showKey","renderDesc","withTitle","withAll","allText","appCode","Grid","handleTableChange","filters","sorter","fetchDataAjax","ajaxMethod","queryCondParam","defineProperty","currentPageName","pageSizeName","queryCondHandler","tableData","totalName","unmount","queryEmitter","retainPagintion","defaultPageSize","fixed","initQueryCond","rowSelection","onRow","scroll","rowClassName","expandRowByClick","BizTable","column","enumObj","_this$props$config$ap","beforeDelete","operationPreAddon","grid_Grid","es_radio","FormItem","BizForm","handleSubmit","fieldsValue","hideLoading","resultType","delayQueryTable","beforeCancel","shouldFieldDisplay","notInAdd","isRequired","hiddenFields","isHiddenInForm","formFields","beforeShowDialog","modalTitle","hiddenField","row","es_col","form_field","BizIndex","getForm","components","keyword","onlyUseForm","_react_16_14_0_react","justify","table_queryCond","wrappedComponentRef","table_BizTable","form_BizForm","./bill/queryBill","./bill/queryBill/","./bill/queryBill/billModal","./bill/queryBill/billModal.js","./bill/queryBill/index","./bill/queryBill/index.js","./bill/queryBill/index.less","./common/fields/coach","./common/fields/coach.js","./common/fields/index.less","./common/fields/money","./common/fields/money.js","./common/fields/phone","./common/fields/phone.js","./common/fields/sportType","./common/fields/sportType.js","./common/fields/upload","./common/fields/upload.js","./common/index.less","./common/indicates","./common/indicates/","./common/indicates/area","./common/indicates/area.js","./common/indicates/index","./common/indicates/index.js","./common/indicates/index.less","./contact","./contact/","./contact/contact","./contact/contact.js","./contact/index","./contact/index.js","./contact/index.less","./game/ballMate","./game/ballMate/","./game/ballMate/index","./game/ballMate/index.js","./game/ballMate/index.less","./game/game","./game/game/","./game/game/gameModal","./game/game/gameModal.js","./game/game/index","./game/game/index.js","./game/game/index.less","./jxc/item","./jxc/item/","./jxc/item/index","./jxc/item/index.js","./jxc/item/index.less","./jxc/item/itemAdd","./jxc/item/itemAdd.js","./jxc/item/itemForm","./jxc/item/itemForm.js","./operate/ballRoom","./operate/ballRoom/","./operate/ballRoom/index","./operate/ballRoom/index.js","./operate/ballRoom/index.less","./operate/member","./operate/member/","./operate/member/addMemberModal","./operate/member/addMemberModal.js","./operate/member/index","./operate/member/index.js","./operate/member/index.less","./operate/member/memberConsumeModal","./operate/member/memberConsumeModal.js","./operate/member/memberRechargeBillListDrawer","./operate/member/memberRechargeBillListDrawer.js","./operate/member/modifyMemberModal","./operate/member/modifyMemberModal.js","./operate/member/rechargeMemberModal","./operate/member/rechargeMemberModal.js","./operate/memberBill","./operate/memberBill/","./operate/memberBill/index","./operate/memberBill/index.js","./operate/memberBill/index.less","./sys/config","./sys/config/","./sys/config/baseItem","./sys/config/baseItem/","./sys/config/baseItem/index","./sys/config/baseItem/index.js","./sys/config/baseItem/index.less","./sys/config/cate","./sys/config/cate/","./sys/config/cate/cateCrudModal","./sys/config/cate/cateCrudModal.js","./sys/config/cate/cateSelect","./sys/config/cate/cateSelect.js","./sys/config/cate/index","./sys/config/cate/index.js","./sys/config/index","./sys/config/index.js","./sys/config/index.less","./sys/optLog","./sys/optLog/","./sys/optLog/index","./sys/optLog/index.js","./sys/optLog/index.less","./sys/sysRole","./sys/sysRole/","./sys/sysRole/index","./sys/sysRole/index.js","./sys/sysRole/index.less","./sys/sysUser","./sys/sysUser/","./sys/sysUser/changePass","./sys/sysUser/changePass.js","./sys/sysUser/index","./sys/sysUser/index.js","./sys/sysUser/index.less","./task","./task/","./task/index","./task/index.js","./task/index.less","./train/class","./train/class/","./train/class/classStudentListDrawer","./train/class/classStudentListDrawer.js","./train/class/index","./train/class/index.js","./train/class/index.less","./train/coach","./train/coach/","./train/coach/index","./train/coach/index.js","./train/coach/index.less","./train/coach/settlementDrawer","./train/coach/settlementDrawer.js","./train/student","./train/student/","./train/student/addStudentModal","./train/student/addStudentModal.js","./train/student/courseListDrawer","./train/student/courseListDrawer.js","./train/student/index","./train/student/index.js","./train/student/index.less","./train/student/modifyStudentModal","./train/student/modifyStudentModal.js","./train/student/rechargeStudentModal","./train/student/rechargeStudentModal.js","./train/student/studentConsumeModal","./train/student/studentConsumeModal.js","webpackContext","req","webpackContextResolve","__webpack_require__","module","exports","previewVisible","handlePreview","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","preview","originFileObj","previewImage","handleChange","fileSize","uploadButton","listType","onPreview","accept","customRequest","_ref3","onProgress","onError","onSuccess","filename","Compressor","_success","_callee2","base64Str","_context2","Image","_x2","amountTags","__webpack_exports__","productDomain","host","isProductUrl","isDebug","cannotDo","includes","Boolean","hostname","script","head","ReactDOM","config_provider","locale","zh_CN","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","searchInput","_util$ajaxJson","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","hightLight","colValue","react__WEBPACK_IMPORTED_MODULE_8___default","_this$props2","filterOption","dropdownClassName","firstActiveValue","dropdownMatchSelectWidth","onDropdownVisibleChange","goOn","hidden","minWidth","hasSelected"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required,onChange,showPrice}=this.props;\r\n        return <>\r\n            <Select {...util.getField.bind(form)('coachId',{onChange,rules:[{required,message:'必填'}]})}>\r\n                {coaches.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name} {showPrice&&<span>[{it.unitPrice}元/小时]</span>}</Select.Option>;\r\n                })}\r\n              </Select>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select,Tree, Popconfirm, InputNumber} from 'antd';\r\nimport '../index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../../interfaces/interfaces';\r\nimport CateCrudModal from './cateCrudModal';\r\nexport const cateTypes=['商品','供应商'];\r\nexport let convertWithChildren=function (treeNodes){\r\n  let array=[];\r\n  if(!treeNodes || !treeNodes.length)return;\r\n  let parent,i = 0,obj = {};\r\n  while(i < treeNodes.length ){\r\n    let node = treeNodes[i++];\r\n    node.id=node.id+'';\r\n    if(node.pid)node.pid=node.pid+'';\r\n    if(node.isLeaf===undefined){\r\n      node.isLeaf=true;\r\n    }\r\n    if(!obj[node.id]){\r\n      obj[node.id]=node;\r\n    }else{\r\n      for(let k in node){\r\n        obj[node.id][k]=node[k];\r\n      }\r\n    }\r\n    \r\n    if(node.pid&&node.pid!=='-1'){\r\n      parent = obj[node.pid];\r\n      if(parent===undefined){\r\n        obj[node.pid]=parent={};\r\n      }\r\n      parent.isLeaf=false;\r\n      if(parent.children){\r\n        parent.children.push(obj[node.id]);\r\n      }else{\r\n        parent.children = [obj[node.id]];\r\n      }\r\n      parent.children.sort((a,b)=>a.num-b.num);\r\n    }else{\r\n      array.push(obj[node.id]);\r\n    }\r\n  }\r\n  array.sort((a,b)=>a.num-b.num);\r\n  return array;\r\n};\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('refresh-cate-data-mgr',this.initCateData);\r\n    this.state={\r\n        config:{},\r\n        formValues:{\r\n          type:cateTypes[0],\r\n          treeData:[]\r\n        }\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.initCateData();\r\n  }\r\n\r\n  initCateData=()=>{\r\n    let {formValues}=this.state;\r\n    util.ajaxJson(urlPrefix+'SysConfigManager?opt=categoryList',{type:formValues.type},res=>{\r\n      let expandedKeys=res.data.map(it=>it.id+'');\r\n      let treeData=convertWithChildren(res.data);\r\n      this.setState({treeData,expandedKeys});\r\n    });\r\n  }\r\n\r\n  onExpand=(expandedKeys)=>{\r\n    this.setState({expandedKeys});\r\n  }\r\n\r\n  loop = data => {\r\n    if(!data)return data;\r\n    let {formValues}=this.state;\r\n    return data.map((item,idx) => {\r\n      let hasChildren=item.children && item.children.length > 0;\r\n      let addSubEl=<a onClick={()=>{emitter.emit('show-category-crud-modal',{opt:'insert',type:formValues.type,rec:{pid:item.id}})}}>添加子类</a>;\r\n      let editEl=<a onClick={()=>{emitter.emit('show-category-crud-modal',{opt:'update',type:formValues.type,rec:item})}}>编辑</a>;\r\n      let deleteEl=<Popconfirm title=\"确定删除？\" onConfirm={()=>{\r\n        if(hasChildren){\r\n          return message.warning('请先删除子类目！');\r\n        }\r\n        util.ajaxJson(urlPrefix+'SysConfigManager?opt=deleteCategory',{id:item.id},res=>{\r\n          if(res.success)message.success('删除成功');\r\n          this.initCateData();\r\n        });\r\n      }}><a>删除</a></Popconfirm>;\r\n      let upEl=idx>0&&<a onClick={()=>{\r\n        let otherItem=data[idx-1];\r\n        util.ajaxJson(urlPrefix+'SysConfigManager?opt=moveCategory',{id1:item.id,num1:otherItem.num,id2:otherItem.id,num2:item.num},res=>{\r\n          if(res.success)message.success('上移成功');\r\n          this.initCateData();\r\n        });\r\n      }}>上移</a>;\r\n      let downEl=idx<data.length-1&&<a onClick={()=>{\r\n        let otherItem=data[idx+1];\r\n        util.ajaxJson(urlPrefix+'SysConfigManager?opt=moveCategory',{id1:item.id,num1:otherItem.num,id2:otherItem.id,num2:item.num},res=>{\r\n          if(res.success)message.success('下移成功');\r\n          this.initCateData();\r\n        });\r\n      }}>下移</a>;\r\n      if(hasChildren) {\r\n        return <Tree.TreeNode title={<div className=\"cate-node-c\"><span>{item.cateName}</span><div>{addSubEl} {editEl} {deleteEl} {upEl} {downEl}</div></div>} key={item.id} value={item.id}>{this.loop(item.children)}</Tree.TreeNode>;\r\n      }\r\n      return <Tree.TreeNode title={<div className=\"cate-node-c\"><span>{item.cateName}</span><div>{addSubEl} {editEl} {deleteEl} {upEl} {downEl}</div></div>} key={item.id} value={item.id} isLeaf={item.isLeaf}/>;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {treeData,expandedKeys,formValues}=this.state;\r\n    let nodes = this.loop(treeData);\r\n    return (\r\n      <div className=\"sys-config-c\">\r\n        <Form.Item label=\"请选择类目域\">\r\n          <Select {...util.getField.call(this,'type',{onChange:()=>{\r\n            this.initCateData();\r\n          }})}>\r\n            {cateTypes.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n          </Select>\r\n        </Form.Item>\r\n        <div>\r\n          <Button type=\"primary\" onClick={()=>emitter.emit('show-category-crud-modal',{opt:'insert',type:formValues.type})}>添加分类</Button>\r\n          \r\n        </div>\r\n        \r\n        <Tree className=\"tree-selector\" showLine expandedKeys={expandedKeys} onExpand={this.onExpand}\r\n          onSelect={this.onSelect}\r\n        >\r\n          {nodes}\r\n        </Tree>\r\n        <CateCrudModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {message,Input,Modal,Form,Button} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix} from '../../interfaces/interfaces';\r\nimport Contacts from './contact';\r\nconst BizContext = React.createContext();\r\nexport const {Provider, Consumer} = BizContext;\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      formValues:{\r\n        contacts:this.props.data||[]\r\n      }\r\n    };\r\n  }\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.data!=preProps.data){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.contacts=this.props.data;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n  }\r\n\r\n  onChange=formValues=>{\r\n    let contacts;\r\n    if(formValues){\r\n      contacts=formValues.contacts;\r\n    }\r\n    this.props.onChange(contacts);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Provider value={this}>\r\n        <div className=\"contact-form\">\r\n            <label>联系人信息：</label>\r\n            <Contacts onChange={this.onChange} onCall={this.props.onCall}/>\r\n        </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport GameModal from './gameModal';\r\nexport let projects=['乒乓'];\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.config = {\r\n      title:'比赛管理',\r\n      key:'Game',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'startTime',label:'开始时间',type:'datetime'},{key:'endTime',label:'截止时间',type:'datetime'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('gameModal',undefined,'add')}><Icon type=\"plus\" />新建比赛</Button>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n            key:'gameDesc',\r\n            width:'30%',\r\n            label:'比赛描述'\r\n        },{\r\n            key:'project',\r\n            width:'6%',\r\n            enums:projects,\r\n            label:'比赛项目'\r\n        },{\r\n          key:'rule',\r\n          width:'20%',\r\n          label:'比赛规则'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:0,text:'未完成'},{key:1,text:'已完成'}],\r\n          label:'状态'\r\n        },{\r\n          key:'time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(r.startTime),\r\n          label:'比赛时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        return (<span style={{display:rec.status==1?'none':undefined}}><a onClick={()=>{\r\n          emitter.emit('gameModal',rec,'modify');\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除比赛？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'GameOperation?opt=deleteGame',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit(`queryGameTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:v=>coaches.filter(it=>it.id==v)[0].name},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'GameOperation?opt=queryGame'}\r\n      }\r\n    };\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'GameOperation?opt=queryBallMate',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <GameModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { pca, pcaa } from 'area-data';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\n// 地点改名\r\nfor(let provK in pca['86']){\r\n    let provName=pca['86'][provK];\r\n    if(provName.indexOf('市')>-1){\r\n        pca['86'][provK]=provName.replace('市','');\r\n        for(let cityK in pcaa[provK]){\r\n            let cityName=pcaa[provK][cityK];\r\n            if(cityName=='市辖区')pcaa[provK][cityK]=provName;\r\n        }\r\n    }\r\n}\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {context,useName}=this.props;\r\n        let {formValues}=context.state;\r\n        if(!formValues)return null;\r\n        let provs=pca['86'],citys={},countys={};\r\n        let {prov,city,county}=formValues;\r\n        if(prov){\r\n            citys=pcaa[prov];\r\n        }\r\n        if(city){\r\n            countys=pcaa[city];\r\n        }\r\n        return <div className=\"area-c\" ref={el=>{\r\n            this.areaUi = el;\r\n        }}>\r\n            <Select {...util.getField.call(context,'prov',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.city=undefined;\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"en\" placeholder=\"省\" allowClear size=\"small\">{Object.keys(provs).map((it,idx)=><Select.Option key={'prov'+idx} value={it}>{provs[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'city',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"市\" allowClear size=\"small\">{Object.keys(citys).map((it,idx)=><Select.Option key={'city'+idx} value={it}>{citys[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'county',{onChange:e=>{\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"区\" allowClear size=\"small\">{Object.keys(countys).map((it,idx)=><Select.Option key={'county'+idx} value={it}>{countys[it]}</Select.Option>)}</Select>\r\n        </div>;\r\n    }\r\n}\r\nexport let getDisplayText=(prov,city,county)=>{\r\n    return pca['86'][prov]+(prov&&city?'-'+pcaa[prov][city]:'')+(prov&&city&&county?'-'+pcaa[city][county]:'');\r\n}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Radio,Popover,DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n  static defaultProps = {\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      value:this.props.value,\r\n      customRangeVisible:false\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tthis.setState({value:this.props.value});\r\n\t\t}\r\n\t}\r\n\r\n  onRadioChange=e=>{\r\n    let value=e;\r\n    if(e&&e.target)value=e.target.value;\r\n    let {rangeValue}=this.state;\r\n    let thisRangeValue,now=Date.now(),customRangeVisible=false;\r\n    if(value=='0')thisRangeValue=[util.formatDate(now,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='1')thisRangeValue=[util.formatDate(now-86400000,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now-86400000,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='30')thisRangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='-30')thisRangeValue=[moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='100'){\r\n      customRangeVisible=true;\r\n      rangeValue=undefined;\r\n    }\r\n    this.props.onChange(thisRangeValue, value);\r\n    this.setState({value,rangeValue,customRangeVisible});\r\n  }\r\n  \r\n  onRangeChange=rangeValue=>{\r\n    this.props.onChange([rangeValue[0].startOf('day').format('YYYY-MM-DD HH:mm:ss'),rangeValue[1].endOf('day').format('YYYY-MM-DD HH:mm:ss')],'100');\r\n    this.setState({rangeValue,customRangeVisible:false});\r\n  }\r\n\r\n  render(){\r\n    let {value,rangeValue,customRangeVisible}=this.state;\r\n    let {validValues,modeType}=this.props;\r\n    let customTimeShow;\r\n    if(value=='30')customTimeShow=<>{moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='-30')customTimeShow=<>{moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='100'&&rangeValue&&rangeValue.length>0)customTimeShow=<>{rangeValue[0].format('YYYY-MM-DD')} ~ {rangeValue[1].format('YYYY-MM-DD')}</>;\r\n    return (\r\n        <>\r\n        {modeType=='select'&&<Select style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Select.Option value=\"-1\">全部</Select.Option>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Select.Option value=\"0\">今天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Select.Option value=\"1\">昨天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Select.Option value=\"30\">本月</Select.Option>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Select.Option value=\"-30\">上月</Select.Option>}\r\n            <Select.Option value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Select.Option>\r\n            \r\n        </Select>}\r\n        {modeType=='select'&&<Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">  \r\n        </Popover>}\r\n        {modeType!='select'&&<Radio.Group style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Radio.Button value=\"-1\">全部</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Radio.Button value=\"0\">今天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Radio.Button value=\"1\">昨天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Radio.Button value=\"30\">本月</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Radio.Button value=\"-30\">上月</Radio.Button>}\r\n            <Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">\r\n              <Radio.Button value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Radio.Button>\r\n            </Popover>\r\n        </Radio.Group>}\r\n        <span className=\"date-pick-tips\">{customTimeShow}</span>\r\n        </>);\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Input, Row, Col, Button, DatePicker,Select,Icon } from 'antd';\r\nimport Field from '../form/field';\r\nimport {emitter,util} from '../../../common/common.js';\r\nconst FormItem = Form.Item;\r\nclass QueryCond extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`set${this.props.config.key}QueryCondForm`,queryCond=>{\r\n      this.setState({formValues:queryCond});\r\n    });\r\n    emitter.on(`get${this.props.config.key}QueryCondForm`,(cb)=>{\r\n      cb(this.getQueryParam());\r\n    });\r\n    emitter.on(`on${this.props.config.key}QueryBtnClick`,(retainPage)=>{\r\n      this.onQueryCondQuery(undefined,retainPage);\r\n    });\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n  getQueryParam=()=>{\r\n    return this.beforeQuery(this.state.formValues);\r\n  }\r\n  onQueryCondQuery=(e,retainPage)=>{\r\n    if(!e || e.key == 'Enter' || e.type=='click'){\r\n      emitter.emit(`query${this.props.config.key}Table`, this.beforeQuery(this.state.formValues), retainPage);\r\n    }\r\n  }\r\n  beforeQuery=(queryParam)=>{\r\n    if(queryParam){\r\n      for(let k in queryParam){\r\n        if(queryParam[k] && typeof queryParam[k] == 'string'){\r\n          queryParam[k] = queryParam[k].trim();\r\n        }\r\n        if(queryParam[k] === ''){\r\n          delete queryParam[k];\r\n        }\r\n      }\r\n    }\r\n    queryParam=util._convertFormValues(queryParam);\r\n    return queryParam;\r\n  }\r\n  getExtButtons=()=>{\r\n    let {extButtons}=this.props.config.queryCond;\r\n    if(extButtons){\r\n      if(typeof extButtons == 'function'){\r\n        return extButtons();\r\n      }else if(Array.isArray(extButtons)){\r\n        return extButtons;\r\n      }\r\n    }\r\n  }\r\n  render(){\r\n    if(!this.props.config.queryCond || !this.props.config.queryCond.conditions || this.props.config.queryCond.conditions.length <= 0){\r\n      return <div></div>;\r\n    }\r\n    return (\r\n    <Form className=\"ant-advanced-search-form queryCond\">\r\n      {this.props.config.queryCond.conditions.map((conditions,idx1)=>{\r\n        return (<Row key={idx1}>\r\n          {conditions.map((condition,idx2)=>{\r\n            if(!condition){\r\n              return;\r\n            }\r\n            let curConditon;\r\n            this.props.config.fields.forEach(field=>{\r\n              if(field.key == condition.key){\r\n                curConditon = Object.assign({},field);\r\n              }\r\n            });\r\n            if(!curConditon){// fields中未找到匹配，则用自己\r\n              curConditon = condition;\r\n            }else if(condition.type == 'custom'){\r\n              curConditon.label&&(condition.label=curConditon.label);\r\n              curConditon = condition;\r\n            }\r\n            condition.label&&(curConditon.label=condition.label);\r\n            // 是否展示\r\n            if(curConditon.shouldDisplay){\r\n              if(!curConditon.shouldDisplay(this)){\r\n                return <Col key={idx2} sm={6}></Col>;\r\n              }\r\n            }\r\n            return (<Col key={idx2} sm={6}><span className=\"label\">{curConditon.label}：</span>\r\n            <Field {...util.getField.call(this,curConditon.key,{...curConditon.options, onChange:v=>{\r\n              if(curConditon.onChange){\r\n                curConditon.onChange(v,this.state.formValues);// 把当前queryForm值给到conditions\r\n              }\r\n            }})} field={curConditon} context={this} onKeyDown={this.onQueryCondQuery} placeholder={curConditon.placeholder} size={this.props.config.queryCond.size}/>\r\n          </Col>);\r\n          })}\r\n        </Row>);\r\n      })}\r\n      {!this.props.config.queryCond.hideButtons&&<Row>\r\n        <Col sm={12}>\r\n            <Button type=\"primary\" className=\"search-button\" onClick={this.onQueryCondQuery} size={this.props.config.queryCond.size}><Icon type=\"search\" />搜索</Button>\r\n            <Button type=\"ghost\" className=\"search-button\" onClick={()=>{\r\n              this.setState({formValues:{}},()=>{\r\n                this.onQueryCondQuery(undefined,true);\r\n              });\r\n              \r\n            }} size={this.props.config.queryCond.size}><Icon type=\"close-square\" />清除</Button>\r\n            {this.getExtButtons()}\r\n        </Col>\r\n      </Row>}\r\n    </Form>);\r\n  }\r\n}\r\nQueryCond = Form.create({\r\n})(QueryCond);\r\nexport default QueryCond;\r\n","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nexport let bodyDomains=['会员','学员','教练','比赛','器材'];\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('billModal', (rec,options)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,billTime:moment()};\r\n        if(rec){\r\n          formValues=rec;\r\n          formValues.billTime=moment(rec.billTime);\r\n          if(rec.roomId)formValues.roomId=rec.roomId+'';\r\n        }\r\n        this.setState({visible:true,formValues,rec,options});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec}=this.state;\r\n      util.ajaxJson(urlPrefix+'BillOperation?opt='+(rec?'fixBill':'addBill'), {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`${rec?'调':'记'}账成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryBillTable`, undefined, true);\r\n    this.setState({visible:false,rec:undefined});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec,options} = this.state;\r\n  \treturn (<Modal title={`手工${rec?'调':'记'}账`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            {rec?'调':'记'}账\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"主体域\" required>\r\n              <Select disabled={!options||!options.manual} {...util.getField.bind(this)('domain',{rules:[{required:true,message:'必填'}]})}>\r\n                {bodyDomains.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"进出账\" required>\r\n              <Select {...util.getField.bind(this)('io',{rules:[{required:true,message:'必填'}]})}>\r\n                {['收入','支出'].map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"分类\" required>\r\n              <Select {...util.getField.bind(this)('cate',{rules:[{required:true,message:'必填'}]})}>\r\n                {tenantConfig.billCates.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"子分类\">\r\n                <Input {...util.getField.call(this,'subCate',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"金额(元)\" required>\r\n              <InputNumber {...util.getField.bind(this)('amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={2}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"记账事由\" required>\r\n                <Input {...util.getField.call(this,'reason',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"备注\">\r\n                <Input {...util.getField.call(this,'relInfo',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开始时间\">\r\n                <DatePicker {...util.getField.call(this,'billTime')} showTime/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React from 'react';\r\nexport default function(props){\r\n\treturn <svg className=\"icon\" aria-hidden=\"true\">\r\n\t    <use href={'#'+props.type}></use>\r\n\t</svg>;\r\n}","export const routeTabs={\r\n    'jxc/item/itemAdd':{\r\n        title:'新增商品'\r\n    },\r\n    'jxc/item/itemEdit':{\r\n        title:'修改商品'\r\n    },\r\n    'sys/config/cate/cateMgr':{\r\n        title:'类目'\r\n    }\r\n};","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Carousel} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter,minAjax} from '../../../../common/common';\r\nimport {prefix,productPrefix,isProductUrl, urlPrefix} from '../../../../interfaces/interfaces';\r\nimport {allMetaData} from '../../../../components/select';\r\n\r\nexport default class TestModal extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('goto-login', ({config,body})=>{\r\n      let verifyId=util.guid();\r\n      let firstLogin=config.url&&config.url.indexOf('SysUserFramework?opt=getUserInfo')>-1;\r\n      let account = window.sessionStorage.getItem('account');\r\n      let pwd = window.sessionStorage.getItem('pwd');\r\n  \t\tthis.setState({visible:true,registerTag:undefined,formValues:{account,pwd,verifyCode:window.isProd()?'':'okgo'},url:config.url,config,firstLogin,verifyId});\r\n\r\n      // if(body){\r\n      //   let url=JSON.parse(body).url;\r\n      //   let urlPrefix = url.substring(0,url.indexOf('reffer='));\r\n      //   let targetUrl;\r\n      //   if(isProductUrl(config.url)){\r\n      //     targetUrl=productPrefix+'fbi/api/v1/ssoagentlogin/jumplogin?reffer='+encodeURIComponent('http:'+productPrefix.substring(0,productPrefix.length-1)+'?target='+encodeURIComponent(window.location.href));\r\n      //   }else{\r\n      //     targetUrl=urlPrefix+'reffer='+encodeURIComponent(prefix+'fbi/api/v1/index?target='+encodeURIComponent(window.location.href));\r\n      //   }\r\n      //   window.location.href=targetUrl;\r\n      // }\r\n  \t});\r\n    emitter.on('refresh-verify-code',()=>{\r\n      if(this.state.visible){\r\n        this.setState({verifyId:util.guid()});\r\n      }\r\n    });\r\n  \tthis.state={\r\n      formValues:{}\r\n  \t};\r\n  }\r\n\r\n  handleLogin=()=>{\r\n    let {registerTag} = this.state;\r\n    let validFields;\r\n    if(registerTag){\r\n      validFields = ['name','phone','pass','pwd1','groupIds'];\r\n    }else{\r\n      validFields = ['phone','pass','verifyCode'];\r\n    }\r\n    util.validateFields.call(this,values=>{\r\n      let {verifyId}=this.state;\r\n      let {phone,name,pass,tenantId,verifyCode} = values;\r\n      if(registerTag){\r\n        // util.ajaxJson(this.getPrefix()+'flow/user/register',{account,name,pass,groupIds:JSON.stringify(groupIds)},res=>{\r\n        //   if(res.success && !res.errMsg){\r\n        //     message.success('注册成功!');\r\n        //     window.sessionStorage.setItem('name',name);\r\n        //     window.sessionStorage.setItem('groupIds',JSON.stringify(groupIds));\r\n        //     window.location.reload();\r\n        //   }else{\r\n        //     message.error(res.errMsg);\r\n        //   }\r\n        // });\r\n      }else{\r\n        util.ajaxJson(this.getPrefix()+'flow/biz/login',{phone,pass,tenantId,verifyId,verifyCode,noErrAlert:true},result=>{\r\n          if(result.success && result.data && !result.errMsg){\r\n            if(result.data.length>1){\r\n              let {formValues}=this.state;\r\n              formValues.tenantId=result.data[0].tenantId;\r\n              this.setState({tenants:result.data,formValues});\r\n            }else{\r\n              this.loginGo(result);\r\n            }\r\n          }else{\r\n            message.error(result.errMsg||'登陆失败');\r\n            if(result.errMsg=='验证码错误'){\r\n              this.setState({verifyId:util.guid()});\r\n            }\r\n          }\r\n        });\r\n      }\r\n      \r\n    },validFields);\r\n  }\r\n\r\n  loginGo=(result)=>{\r\n    let res=result.data[0];\r\n    window.sessionStorage.setItem('name',res.name);\r\n    window.sessionStorage.setItem('userId',res.id);\r\n    window.sessionStorage.setItem('phone',res.phone);\r\n    emitter.emit('init');\r\n    minAjax(this.state.config);\r\n    this.setState({visible:false,tenants:[]});\r\n  }\r\n\r\n  getPrefix=()=>{\r\n    let {url} = this.state;\r\n    if(!url || !productPrefix){\r\n      return prefix;\r\n    }\r\n    if(url.startsWith(productPrefix)){\r\n      return productPrefix;\r\n    }\r\n    return prefix;\r\n  }\r\n\r\n  toRegister=()=>{\r\n    this.setState({registerTag:true});\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 6 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    let {formValues,registerTag,firstLogin,verifyId} = this.state;\r\n  \treturn (<div>\r\n      {firstLogin&&<div className=\"first-login-c\">\r\n      <div className=\"logo-text\">球馆数字化先锋——球掌柜，掌控全局，运筹帷幄！</div>\r\n        <Carousel autoplay>\r\n          <div className=\"carousel-item carousel-item-1\"> \r\n          </div>\r\n          <div className=\"carousel-item carousel-item-2\">\r\n            <h3>2</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-3\">\r\n            <h3>3</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-4\">\r\n            <h3>4</h3>\r\n          </div>\r\n        </Carousel>\r\n      </div>}\r\n      <Modal mask={!firstLogin} wrapClassName={\"login-modal\"+(firstLogin?' first-login-modal':'')} title={registerTag?'注册':'欢迎来到球掌柜，请先登陆'} style={{top:'200px'}} visible={this.state.visible} width={400} onCancel={this.handleCancel} maskClosable={false}\r\n          footer={[\r\n            <Button key=\"login\" type=\"primary\" onClick={this.handleLogin}>{registerTag?'注册':'登录'}</Button>,\r\n            <Button key=\"close\" onClick={this.handleCancel}>关闭</Button>\r\n          ]}>  \r\n          <Form id=\"log-container-form\" className=\"login-container\">\r\n            {registerTag&&<Form.Item {...formItemLayout} label=\"姓名\">\r\n              <Input {...util.getField.bind(this)('name',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})}/>\r\n            </Form.Item>}\r\n            <Form.Item {...formItemLayout} label=\"账号(手机号)\" required>\r\n              <Input {...util.getField.bind(this)('phone',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'},{validator:v=>{\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item {...formItemLayout} label=\"密码\" required>\r\n              <Input type=\"password\" {...util.getField.bind(this)('pass',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})} onPressEnter={this.handleLogin}/>\r\n            </Form.Item>\r\n            {registerTag&&<div>\r\n              <Form.Item {...formItemLayout} label=\"密码确认\">\r\n                <Input {...util.getField.bind(this)('pwd1',{rules:[{validator:v=>{\r\n                  return !!v;\r\n                },message:'必填'},{validator:v=>{\r\n                  let {formValues} = this.state;\r\n                  return formValues.pwd === v;\r\n                },message:'前后密码不一致'}]})}/>\r\n              </Form.Item>\r\n            </div>}\r\n            {!registerTag&&<Form.Item {...formItemLayout} label=\"验证码\" className=\"verify-code\" required>\r\n              <Input {...util.getField.call(this,'verifyCode',{rules:[{required:true,message:'必填'}]})} onPressEnter={this.handleLogin}/><img onClick={()=>this.setState({verifyId:util.guid()})} src={prefix+'image/verifyCode?tk='+verifyId} alt=\"\"></img>\r\n            </Form.Item>}\r\n            <div className=\"register-area\">\r\n              {false&&<a onClick={this.toRegister}>注册</a>}\r\n              {registerTag&&<a onClick={()=>{\r\n                this.setState({registerTag:undefined});\r\n              }}>返回</a>}\r\n            </div>\r\n\r\n\r\n            {this.state.tenants&&this.state.tenants.length>1&&<Form.Item label=\"请选择企业信息\">\r\n              <Select {...util.getField.call(this,'tenantId')} getPopupContainer={()=>document.querySelector('.login-modal')}>\r\n                {this.state.tenants.map(it=><Select.Option key={it.tenantId} value={it.tenantId}>{it.tenantName}</Select.Option>)}\r\n              </Select>\r\n            </Form.Item>}\r\n          </Form>\r\n      </Modal></div>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button} from 'antd';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {domain} from '../../../../interfaces/interfaces';\r\nimport './index.less';\r\nexport default class BizComp extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('call-out-ccc',(callee,that)=>{\r\n            callee=callee+'';\r\n            if(!(/^1[3456789]\\d{9}$/.test(callee))){\r\n                return message.warning('手机号格式有误，必须为1开头的11位数字');\r\n            }\r\n            if(!window.workbench){\r\n                return message.warning('电话坐席未初始化！');\r\n            }\r\n            let status=window.workbench.getStatus();\r\n            if(status!='ready')return message.warning('电话坐席未初始化成功！');\r\n            window.workbench.call(callee);\r\n            if(that&&that.props&&that.props.onCall)that.props.onCall(callee);\r\n        });\r\n        this.state={\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        setTimeout(this.initHotline,200);\r\n        \r\n    }\r\n\r\n    initHotline=()=>{\r\n        window.workbench = new window.WorkbenchSdk({\r\n            dom: 'workbench',\r\n            instanceId: '62e83165-8999-4462-81b9-7adb13521ab6',\r\n            ajaxOrigin:'//'+domain,\r\n            ajaxPath: '/iflow-proxy/api/v1/crm',\r\n            ajaxMethod: 'post',\r\n            ajaxOtherParams:{isFromCCC:1},\r\n            withCredentials:true,\r\n            exportErrorOfApi:true,\r\n            \r\n            moreActionList:['onlyCall'],\r\n            header: true,\r\n            onInit: function () {\r\n                // window.workbench.register();\r\n            },\r\n            onRegister:function(config){\r\n                // document.querySelector('.next-icon-suoxiao1').click();\r\n            },\r\n            onErrorNotify: function (error) {\r\n              console.warn(error)\r\n            },\r\n            onCallComing: function (aa, bb, cc, dd) {\r\n              console.log(aa, bb, cc, dd);\r\n            },\r\n            onCallDialing: function (aa, bb, cc, dd) {\r\n              let iconEl=document.querySelector('#workbench .next-icon-guaduan');\r\n              if(iconEl&&iconEl.previousElementSibling){\r\n                iconEl.previousElementSibling.style.visibility='hidden';\r\n              }\r\n              let tabContentEl=document.querySelector('.next-tabs-content h1');\r\n              if(tabContentEl){\r\n                tabContentEl.style.visibility='hidden';\r\n              }\r\n            },\r\n            onStatusChange: function (code, lastCode, context){\r\n              console.log(code, lastCode, context);\r\n            },\r\n            onCallRelease: function (connid, caller, privateData) {\r\n                console.log(\"这里是通话结束时触发的回调函数\", connid, caller, privateData)\r\n            }\r\n        });\r\n        document.querySelector('.next-icon-suoxiao1').click();\r\n    }\r\n\r\n    render() {\r\n  \t    return (<div className=\"hotline-widget\">\r\n            <div id=\"workbench\"></div>\r\n          </div>);\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport { Menu, Icon, Switch } from 'antd';\r\nimport IIcon from '../../../components/icon';\r\nimport {role,isAdmin,menus} from './IndexPage';\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nexport default class BizComponent extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n        let loginMenus = menus.filter(it=>!it.parentCode).sort((a,b)=>a.num-b.num).map(it=>{\r\n\t\t\tlet menuObj={title:it.name,icon:JSON.parse(it.ext).icon,key:it.code};\r\n\t\t\tlet subMenus=menus.filter(subIt=>subIt.parentCode==it.code).sort((a,b)=>a.num-b.num).map(it=>({title:it.name,icon:JSON.parse(it.ext).icon,key:it.code}));\r\n\t\t\tmenuObj.children=subMenus;\r\n\t\t\tsubMenus.forEach(subMenu=>{\r\n\t\t\t\tlet subChildren=menus.filter(it=>it.parentCode==subMenu.key).sort((a,b)=>a.num-b.num).map(it=>({title:it.name,icon:JSON.parse(it.ext).icon,key:it.code}));\r\n\t\t\t\tif(subChildren.length>0)subMenu.children=subChildren;\r\n\t\t\t});\r\n\t\t\treturn menuObj;\r\n\t\t});\r\n\t\tlet current='train/student';\r\n\t\tif(!window.isProd()){\r\n\t\t\tlet lastActiveMenuKey=localStorage.getItem('_curActiveMenuKey');\r\n\t\t\tif(lastActiveMenuKey){\r\n\t\t\t\tcurrent=lastActiveMenuKey;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet {hash}=window.location;\r\n\t\tif(hash&&hash.length>1){// 如果是非菜单，则默认不选任何菜单\r\n            let hashKey=hash.substring(1);\r\n            let qIdx=hashKey.indexOf('?');\r\n            if(qIdx>-1){\r\n                hashKey=hashKey.substring(0,qIdx);\r\n            }\r\n            if(hashKey!=current){\r\n\t\t\t\tcurrent=undefined;\r\n\t\t\t}\r\n\t\t}\r\n    \tthis.state={\r\n    \t\tloginMenus,\r\n      \t\topenKeys:menus.map(it=>it.code),\r\n      \t\tcurrent\r\n    \t};\r\n\t}\r\n\tcomponentDidMount(){\r\n        let {current} = this.state;\r\n\t\tif(current){\r\n\t\t\tthis.props.onClick(current,undefined, this.getTitleByKey(current));\r\n\t\t}\r\n\t}\r\n    getTitleByKey=key=>{\r\n        let {loginMenus} = this.state;\r\n        let title,icon;\r\n\t\tfor(let lm of loginMenus){\r\n\t\t\tif(lm.key==key){\r\n\t\t\t\ttitle = lm.title;\r\n\t\t\t\ticon = lm.icon;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tfor(let lc of lm.children){\r\n\t\t\t\tif(lc.key == key){\r\n\t\t\t\t\ttitle = lc.title;\r\n\t\t\t\t\ticon = lc.icon;\r\n\t\t\t\t\tbreak;\r\n                }\r\n\t\t\t\tif(lc.children){\r\n\t\t\t\t\tfor(let lcc of lc.children){\r\n\t\t\t\t\t\tif(lcc.key == key){\r\n\t\t\t\t\t\t\ttitle = lcc.title;\r\n\t\t\t\t\t\t\ticon = lcc.icon;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(title)\r\n\t\t\treturn <span className=\"tab-title\"><IIcon type={icon}/>{title}</span>;\r\n    }\r\n    changeCurrentMenu=(current)=>{\r\n        this.setState({\r\n          current\r\n        });\r\n    }\r\n\thandleClick=(e)=>{\r\n\t\twindow._menuClickProtect=true;//打保护防止重复render\r\n        window.location.hash=e.key;\r\n\t\tsetTimeout(()=>delete window._menuClickProtect,10);\r\n\t    this.changeCurrentMenu(e.key);\r\n\t\tthis.props.onClick(e.key,undefined,this.getTitleByKey(e.key));\r\n\t\tif(!window.isProd()){\r\n\t\t\tlocalStorage.setItem('_curActiveMenuKey', e.key);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t  \tconst loop = data => data.map(item => {\r\n\t      if (item.children && item.children.length) {\r\n\t        return (<SubMenu key={item.key} title={(()=>{\r\n\t          return <div><IIcon type={item.icon}/>{item.title}</div>;\r\n\t        })()}>{loop(item.children)}</SubMenu>);\r\n\t      }\r\n\t      return <Menu.Item key={item.key}><IIcon type={item.icon} /><span>{item.title}</span></Menu.Item>;\r\n\t\t});\r\n\t\treturn <div className={\"fc-menu-container\"}>\r\n\t\t\t<div className=\"logo-c\"><IIcon type=\"icon-pingpong\"/><span className=\"logo-text\">球掌柜</span></div>\r\n\t\t\t<Menu id=\"fc-menu-container\" onClick={this.handleClick}\r\n\t\t\t\topenKeys={this.state.openKeys}\r\n\t\t\t\tonOpenChange={openKeys=>{\r\n\t\t\t\tthis.setState({openKeys});\r\n\t\t\t\t}}\r\n\t\t\t\tselectedKeys={[this.state.current]}\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\r\n\t\t\t\tinlineIndent={10}\r\n\t\t\t>\r\n\t\t\t\t{loop(this.state.loginMenus)}\r\n\t\t\t</Menu>\r\n\t\t  </div>\r\n\t    ;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport {message} from 'antd';\r\nimport {domain} from '../interfaces/interfaces';\r\nimport {Modal} from 'antd';\r\nimport {util,emitter} from './common';\r\nimport {tenantId,name,phone} from '../entry/index/routes/IndexPage';\r\nexport let ws = null;\r\n\r\nfunction handleMsg(event){\r\n    if(event.data){\r\n        if(event.data=='q'||event.data=='p'){\r\n            emitter.emit('refresh-verify-code');\r\n            return;\r\n        }\r\n        let dataObj=JSON.parse(event.data);\r\n        if(dataObj.type=='refreshConfirm'){\r\n            Modal.confirm({\r\n                title:'页面刷新提醒确认？',\r\n                content:<div>检测到应用有更新，更新时间【{util.formatDate(dataObj.time)}】，请及时刷新页面！\r\n                        <div>提示：刷新前未保存数据，刷新后将丢失</div></div>,\r\n                okText:\"刷新\",\r\n                cancelText:\"取消\",\r\n                onOk:()=>{\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nlet heartbeatInterval;\r\n\r\nfunction createWebSocket(url) {\r\n    try {\r\n        if ('WebSocket' in window) {\r\n            ws = new window.WebSocket(url);\r\n        } else if ('MozWebSocket' in window) {\r\n            ws = new window.MozWebSocket(url);\r\n        } else {\r\n            message.error(\"当前浏览器不支持websocket协议,建议使用现代浏览器\");\r\n        }\r\n        initEventHandle(url);\r\n        if(heartbeatInterval){\r\n            clearInterval(heartbeatInterval);\r\n            heartbeatInterval=undefined;\r\n        }\r\n        heartbeatInterval=setInterval(()=>{\r\n            if(window._stopWebsocketHeartBeat){\r\n                if(heartbeatInterval){\r\n                    clearInterval(heartbeatInterval);\r\n                    heartbeatInterval=undefined;\r\n                }\r\n            }\r\n            ws.send('p');\r\n        }, 55000);\r\n    } catch (e) {\r\n        reconnect(url);\r\n    }\r\n}\r\nfunction initEventHandle(url) {\r\n    ws.onclose = function (err) {\r\n        console.log('onClose', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onerror = function (err) {\r\n        console.log('onErr', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onopen = function () {\r\n    };\r\n    ws.onmessage = function (event) {    //如果获取到消息，心跳检测重置\r\n        handleMsg(event);\r\n    };\r\n}\r\nfunction reconnect(url) {\r\n    if (reconnect.lockReconnect) return;\r\n    reconnect.lockReconnect = true;\r\n    setTimeout(function () {     //没连接上会一直重连，设置延迟避免请求过多\r\n        createWebSocket(url);\r\n        reconnect.lockReconnect = false;\r\n    }, 2000);\r\n}       \r\n\r\nemitter.on('init-websocket',()=>{\r\n    let code=encodeURIComponent(util.mixStr(JSON.stringify({tenantId,name,phone})));\r\n    let url=`ws${window.location.href.indexOf('https')==0?'s':''}://${domain}/connectWs/${code}`;\r\n    createWebSocket(url);\r\n    \r\n});\r\n","import React, { Component } from 'react';\r\nimport {Button, Drawer, Modal, Popconfirm,Form,Input} from 'antd';\r\nimport { emitter, util } from '../../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('open-rich-editor-drawer',({key,title,width=1000,content='',rec,fields})=>{\r\n            let {formValues}=this.state;\r\n            if(fields){\r\n                fields.forEach(it=>{\r\n                    if(it.defaultValue){\r\n                        formValues[it.key]=it.defaultValue;\r\n                    }\r\n                });\r\n            }\r\n            this.setState({visible:true,key,width,title,rec,fields,formValues,isModified:false},()=>{\r\n                if(!window.ue){\r\n                    setTimeout(()=>{\r\n                        window.ue=window.UE.getEditor('uedit-container');\r\n                        window.ue.ready(()=>{\r\n                            window.ue.setContent(content);\r\n                            this.setState({isModified:false});\r\n                            window.ue.addListener(\"contentChange\",()=>{\r\n                                this.setState({isModified:true});\r\n                            });\r\n                            window.ue.addListener(\"keydown\", (cmd, evt)=>{\r\n                                if(evt.ctrlKey&&evt.keyCode==83){\r\n                                    evt.preventDefault ? evt.preventDefault() : (evt.returnValue = false);\r\n                                    this.onSave(true);\r\n                                    this.setState({isModified:false});\r\n                                }\r\n                            });\r\n                        });\r\n                    },200);\r\n                    \r\n                }else{\r\n                    window.ue.setContent(content);\r\n                    this.setState({isModified:false});\r\n                }\r\n            });\r\n            \r\n        });\r\n        this.state={\r\n            visible:false,\r\n            isModified:false,\r\n            formValues:{}\r\n        };\r\n    }\r\n    onSave=(dontClose)=>{\r\n        emitter.emit('rich-editor-save-'+this.state.key,{content:window.ue.getContent(),rec:this.state.rec,fieldValues:this.state.formValues});\r\n        if(!dontClose)this.onClose();\r\n        this.setState({isModified:false});\r\n    }\r\n    onClose=()=>{\r\n        this.setState({visible:false});\r\n    }\r\n    onCloseConfirm=()=>{\r\n        if(this.state.isModified){\r\n            Modal.confirm({\r\n                title:\"关闭确认\",\r\n                content:\"确定要未保存就退出吗？\",\r\n                onOk:this.onClose\r\n            });\r\n        }else{\r\n            this.onClose();\r\n        } \r\n    }\r\n    render() {\r\n        let {title,width,visible,fields,isModified}=this.state;\r\n        return <>\r\n        <Drawer title={title} visible={visible} maskClosable={false} width={width} className=\"ueditor-drawer\" placement=\"right\" onClose={this.onCloseConfirm}>\r\n            {fields&&fields.map(field=><Form.Item key={field.label} label={field.label}><Input {...util.getField.call(this,field.key,field.options)}/></Form.Item>)}\r\n            <script id=\"uedit-container\" name=\"content\" type=\"text/plain\" style={{height:'calc(100vh - 300px)'}}></script>\r\n            <Popconfirm disabled={!isModified} title=\"确定提交？\" onConfirm={this.onSave}><Button disabled={!isModified} type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n        </Drawer>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport {emitter,util} from '../../../common/common';\r\nimport {urlPrefix,domain,productDomain,isProductUrl} from '../../../interfaces/interfaces';\r\nimport Icon from '../../../components/icon';\r\nimport {message,Popover,Tooltip,Input,Button,Tabs, Popconfirm} from 'antd';\r\nimport {routeTabs} from './routeTabs';\r\nimport LoginModal from './modals/loginModal';\r\nimport Hotline from './modals/hotline';\r\nimport Menu from './Menu';\r\nimport RichEditorDrawer from './modals/richEditorDrawer';\r\nimport {websocket} from '../../../common/ws';\r\nimport './index.less';\r\n// window.onbeforeunload=function(e){     \r\n//     e = window.event||e;  \r\n//     e.returnValue=(\"确定离开当前页面吗？\");\r\n//     return e.returnValue;\r\n// }\r\n\r\nexport let forbiColumns=[];\r\nexport let filterColumns=(cols)=>{\r\n    let filterCols= cols.filter(it=>{\r\n        return forbiColumns.indexOf(it.key)==-1;\r\n    });\r\n    return filterCols;\r\n}\r\nexport let tenant={},tenantConfig={},rooms,role,allRoles,allStaffs,menus,urls,coaches;\r\nexport let tenantId=1,name,phone;\r\nexport let accounts;\r\nexport let isAdmin;\r\n\r\nconst TabPane = Tabs.TabPane;\r\nexport default class IndexPage extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n\r\n        // 模拟route\r\n        window.addEventListener('hashchange',()=>{\r\n            if(window._menuClickProtect){\r\n                delete window._menuClickProtect;\r\n                return;\r\n            }\r\n            this.handleHash();\r\n        });// end 模拟route\r\n\r\n        emitter.on('show-login-user',user=>{\r\n            this.setState({userName:user.name});\r\n        });\r\n        emitter.on('init-user-info',user=>{\r\n            this.initUserInfo();\r\n        });\r\n        emitter.on('main-clickmenu', ({key,props})=>{\r\n            this.indexMenu.changeCurrentMenu(key);\r\n            this.onMenuClick(key,props,this.indexMenu.getTitleByKey(key));\r\n        });\r\n        emitter.on('main-closetab', ({key})=>{\r\n            this.onTabEdit(key,'remove');\r\n        });\r\n        emitter.on('antdmessage-success',(args)=>{\r\n            message.success(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-warn',(args)=>{\r\n            message.warn(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-error',(args)=>{\r\n            message.error(args[0],args[1]);\r\n        });\r\n        this.initUserInfo();\r\n        this.state={\r\n            panes:[],\r\n            init:false,\r\n            userName:'游客'\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        \r\n    }\r\n\r\n    handleHash=()=>{\r\n        let {hash}=window.location;\r\n        if(hash&&hash.length>1){\r\n            let hashKey=hash.substring(1);\r\n            let qIdx=hashKey.indexOf('?');\r\n            let props=undefined;\r\n            if(qIdx>-1){\r\n                props={};\r\n                let queryStr=hashKey.substring(qIdx+1);\r\n                let queryPairs=queryStr.split('&');\r\n                for(let queryPair of queryPairs){\r\n                    let entryPair=queryPair.split('=');\r\n                    props[entryPair[0]]=entryPair[1];\r\n                }\r\n                hashKey=hashKey.substring(0,qIdx);\r\n            }\r\n            let title=this.indexMenu.getTitleByKey(hashKey);\r\n\r\n            if(title){// 菜单\r\n                this.indexMenu.changeCurrentMenu(hashKey);\r\n            }else if(routeTabs[hashKey]){// 自定义的tab\r\n                title=routeTabs[hashKey].title;\r\n                this.indexMenu.changeCurrentMenu();\r\n            }\r\n\r\n            this.onMenuClick(hashKey,props,title);\r\n        }\r\n\r\n    }\r\n\r\n    initUserInfo=()=>{\r\n        util.ajaxJson(urlPrefix+'SysUserFramework?opt=getUserInfo',{},result=>{\r\n            if(result.data){\r\n                tenant=result.data.tenant;\r\n                name=result.data.name;\r\n                phone=result.data.phone;\r\n                let tconfig=JSON.parse(tenant.config);\r\n                if(!tconfig)tconfig={};// 租户默认配置\r\n                if(!tconfig.majorCoachRate)tconfig.majorCoachRate=55;\r\n                if(!tconfig.coachRate)tconfig.coachRate=50;\r\n                tenantConfig=tconfig;\r\n                rooms=result.data.rooms||[];\r\n                role=result.data.role;\r\n                allRoles=result.data.allRoles;\r\n                allStaffs=result.data.allStaffs;\r\n                menus=result.data.menus;\r\n                urls=result.data.urls;\r\n                coaches=result.data.coaches;\r\n                tenantId=result.data.tenantId;\r\n                isAdmin=role.indexOf(',-1,')>-1;\r\n                emitter.emit('show-login-user',{name:result.data.name});\r\n                emitter.emit('init-websocket');\r\n                this.setState({init:true},()=>{// 初始化检索条件\r\n                    setTimeout(()=>{\r\n                        emitter.emit('do-indicates-search',{});\r\n                    },500);\r\n                    setTimeout(this.handleHash,10);\r\n                });\r\n            }else{\r\n                message.error('请确认服务是否可用！');\r\n            }\r\n        });\r\n    }\r\n\r\n    onMenuClick=(key, props, title)=>{\r\n        let comp = require(`../../../biz/${key}`);\r\n        if(comp&&comp.default){\r\n            let {panes,activeKey} = this.state;\r\n            activeKey = key;\r\n            let fps = panes.filter(p=>p.key == key);\r\n            if(fps.length==0){\r\n                panes.push({key,title,content:comp.default,props});\r\n                this.setState({activeKey,panes},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }else{\r\n                // fps[0].content = undefined;\r\n                // this.setState({activeKey,panes},()=>{\r\n                //     fps[0].content = comp.default;\r\n                //     this.setState({panes},()=>{\r\n                //         emitter.emit(`menu-clicked-${key}`);\r\n                //     });\r\n                // });\r\n                fps[0].content = comp.default;\r\n                this.setState({activeKey},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (activeKey) => {\r\n        this.setState({ activeKey },()=>{\r\n            window._menuClickProtect=true;//打保护防止重复render\r\n            window.location.hash=activeKey;\r\n            setTimeout(()=>delete window._menuClickProtect,10);\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n        });\r\n    }\r\n\r\n    onTabEdit = (targetKey, action) => {\r\n        if(action == 'remove'){\r\n            let {panes,activeKey} = this.state;\r\n            panes = panes.filter(p=>p.key!=targetKey);\r\n            if(panes.length > 0){\r\n                if (activeKey == targetKey) {// 删除的是当前tab\r\n                    activeKey = panes[0].key;\r\n                }\r\n            }\r\n            window._menuClickProtect=true;//打保护防止重复render\r\n            window.location.hash=activeKey;\r\n            setTimeout(()=>delete window._menuClickProtect,10);\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n            this.setState({panes,activeKey});\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let {panes,activeKey,init} = this.state;\r\n        if(!init)return <LoginModal />;\r\n        return (\r\n            <div className=\"fc\">\r\n                <div className=\"fc-main\">\r\n                  <Menu onClick={this.onMenuClick} ref={el=>this.indexMenu=el}/>\r\n                  <div className=\"fc-container\">\r\n                    <div className=\"fc-header\"></div>\r\n                    <Tabs hideAdd\r\n                      onChange={this.onTabChange}\r\n                      activeKey={activeKey}\r\n                      type={'editable-card'}\r\n                      onEdit={this.onTabEdit}\r\n                    >\r\n                      {\r\n                        panes.map(pane => {\r\n                            let Comp = pane.content;\r\n                            return <TabPane tab={pane.title} key={pane.key}>{Comp && <Comp {...pane.props}/>}</TabPane>;\r\n                        })\r\n                      }\r\n                    </Tabs>\r\n                    <div className=\"login-sec\">欢迎，{this.state.userName} &nbsp;&nbsp; {tenant.name} <Popconfirm placement=\"leftTop\" title=\"确认退出？\" onConfirm={async ()=>{\r\n                        await util.ajaxJsonAsync(urlPrefix+'loginout');\r\n                        window.location.reload();\r\n                    }}><a className=\"logout-a\">退出</a></Popconfirm></div>\r\n                  </div>\r\n                </div>\r\n                <LoginModal />\r\n                <RichEditorDrawer />\r\n\t\t    </div>\r\n\t    );\r\n    }\r\n  \r\n}\r\n\r\n","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, DatePicker, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport BillModal,{bodyDomains} from './billModal';\r\nimport EditableField from '../../../components/pops/editableField';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-bill/queryBill`,()=>{\r\n      emitter.emit('queryBillTable');\r\n    });\r\n    this.config = {\r\n      title:'账单管理',\r\n      key:'Bill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'io'},{key:'domain'},{key:'cate'}],[{key:'subCate'},{key:'relInfo'},{key:'time',label:'时间范围',type:'custom',getComponent:(props,context)=>{\r\n          return <DatePick onChange={rangeValue=>{\r\n            props.onChange(rangeValue);\r\n          }}/>;\r\n        }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          if(queryParam.time&&queryParam.time.length>0){\r\n            queryParam.startTime=queryParam.time[0];\r\n            queryParam.endTime=queryParam.time[1];\r\n          }\r\n          return queryParam;\r\n        },\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('billModal',undefined,{manual:true})}><Icon type=\"plus\" />记账</Button>];\r\n          let {ioMap}=this.state;\r\n          if(ioMap){\r\n            let i=ioMap['收入'],o=ioMap['支出'];\r\n            if(i)extBtns.push(<span key=\"shouru\" className=\"bill-sum-tips i-color\">收入：{i.sumAmount}元，共{i.count}笔</span>);\r\n            if(o)extBtns.push(<span key=\"zhichu\" className=\"bill-sum-tips o-color\">支出：{o.sumAmount}元，共{o.count}笔</span>);\r\n          }\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'billTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'记账时间'\r\n        },{\r\n          key:'io',\r\n          width:'6%',\r\n          enums:['收入','支出'],\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'出入账'\r\n        },{\r\n          key:'amount',\r\n          width:'8%',\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'金额(元)'\r\n        },{\r\n          key:'domain',\r\n          width:'6%',\r\n          enums:bodyDomains,\r\n          label:'域'\r\n        },{\r\n          key:'cate',\r\n          width:'10%',\r\n          enums:tenantConfig.billCates,\r\n          label:'分类'\r\n        },{\r\n          key:'subCate',\r\n          width:'10%',\r\n          label:'子分类'\r\n        },{\r\n          key:'targetId',\r\n          width:'10%',\r\n          label:'消费主体'\r\n        },{\r\n          key:'reason',\r\n          width:'10%',\r\n          label:'事项'\r\n        },{\r\n          key:'relInfo',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            return <EditableField value={v} onBlur={(v)=>{\r\n              util.ajaxJson(urlPrefix+'BillOperation?opt=updateRelInfo',{id:r.id,relInfo:v},res=>{\r\n                if(res.success){\r\n                  message.success('修改备注成功');\r\n                  r.relInfo=v;\r\n                }\r\n              });\r\n            }}/>\r\n          },\r\n          label:'备注'\r\n        },{\r\n          key:'status',\r\n          width:'4%',\r\n          enums:[{key:1,text:'生效'},{key:0,text:'作废'}],\r\n          label:'状态'\r\n        },{\r\n          key:'mode',\r\n          width:'4%',\r\n          label:'模式'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'操作人'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('billModal',rec);\r\n        }}>调账</a><Popconfirm title=\"确定要删除账单吗？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'BillOperation?opt=removeBill',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit('queryBillTable', undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        showTotal:true,\r\n        resultHandler:(result,queryParam)=>{\r\n          this.setState({ioMap:result.data.ioMap});\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BillOperation?opt=queryBill'}\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <BillModal/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {\r\n  message,\r\n  Input,\r\n  Modal,\r\n  Table,\r\n  Button,\r\n  Tooltip,\r\n  Popover,\r\n  Icon,\r\n  Select\r\n} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util, emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix, urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles, isAdmin, allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport Area, {getDisplayText} from '../../common/indicates/area';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-game/ballMate`, () => {\r\n      emitter.emit('queryBallMateTable');\r\n    });\r\n    this.config = {\r\n      title: '球友管理',\r\n      key: 'BallMate',\r\n      dialog: {\r\n        width: 1060\r\n      },\r\n      queryCond: {\r\n        conditions: [\r\n          [\r\n            {\r\n              key: 'name'\r\n            }\r\n          ]\r\n        ],\r\n        beforeQuery: queryParam => {\r\n          queryParam = queryParam || {};\r\n          this.queryParam = queryParam;\r\n          return queryParam;\r\n        },\r\n        size: 'small'\r\n      },\r\n      fields: [\r\n        {\r\n          key: 'id',\r\n          rowKey: true,\r\n          notInForm: true,\r\n          notInTable: true,\r\n          label: 'id'\r\n        }, {\r\n          key: 'name',\r\n          width: '10%',\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: '必填'\r\n            }\r\n          ],\r\n          label: '名称'\r\n        }, {\r\n          key: 'phone',\r\n          width: '6%',\r\n          props: {\r\n            maxLength: 11\r\n          },\r\n          rules: [\r\n            {\r\n              required: false,\r\n              message: '选填'\r\n            },\r\n            // {   validator: v => {     return v && /^1[0-9]{10}$/.test(v);   },   message:\r\n            // '必须为1开头的11位手机号' }\r\n          ],\r\n          label: '手机号'\r\n        }, {\r\n          key: 'address',\r\n          width: '6%',\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: 'false'\r\n            }\r\n          ],\r\n          // type:'custom', getComponent:(props,context)=>{   return <Area useName\r\n          // context={context} {...props}></Area>; },\r\n          label: '区域'\r\n        }, {\r\n          key: 'score',\r\n          width: '5%',\r\n          label: '积分'\r\n        }, {\r\n          key: 'maxScore',\r\n          width: '5%',\r\n          label: '最高积分'\r\n        }, {\r\n          key: 'his',\r\n          width: '30%',\r\n          type:'textarea',\r\n          label: '历史成就'\r\n        }, {\r\n          key: 'gmtModified',\r\n          notInForm: true,\r\n          width: '10%',\r\n          render: (v, r) => util.formatDate(v),\r\n          label: '修改时间'\r\n        }, {\r\n          key: 'gmtCreate',\r\n          notInForm: true,\r\n          width: '10%',\r\n          render: (v, r) => util.formatDate(v),\r\n          label: '创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{   return (<span><a onClick={()=>{ }}>设计</a></span>);\r\n      // },\r\n      form: {\r\n        col: 1,\r\n        beforeAdd: formData => {\r\n          return {};\r\n        },\r\n        beforeModify: formData => {\r\n          return formData;\r\n        },\r\n        beforeSubmit: formData => {\r\n          // if (formData.address) {   formData.address = getDisplayText(formData.prov,\r\n          // formData.city, formData.county); }\r\n          return formData;\r\n        }\r\n      },\r\n      table: {\r\n        bordered: true,\r\n        size: 'small',\r\n        resultHandler: (result, queryParam) => {\r\n          result.list = result.data.data;\r\n          result\r\n            .list\r\n            .forEach(it => {});\r\n          result.totalItem = result.data.totalItem;\r\n        }\r\n      },\r\n      api: {\r\n        queryInterface: {\r\n          func: urlPrefix + 'GameOperation?opt=queryBallMate'\r\n        },\r\n        updateInterface: isAdmin\r\n          ? {\r\n            func: urlPrefix + 'GameOperation?opt=updateBallMate'\r\n          }\r\n          : undefined,\r\n        insertInterface: isAdmin\r\n          ? {\r\n            func: urlPrefix + 'GameOperation?opt=insertBallMate'\r\n          }\r\n          : undefined,\r\n        deleteInterface: isAdmin\r\n          ? {\r\n            func: urlPrefix + 'GameOperation?opt=deleteBallMate',\r\n            params: {\r\n              id: 'id'\r\n            }\r\n          }\r\n          : undefined\r\n      }\r\n    };\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {message,Button,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util, emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix, urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles, isAdmin, allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.config = {\r\n      title: '商品管理',\r\n      key: 'ItemMgr',\r\n      dialog: {\r\n        width: 1060\r\n      },\r\n      queryCond: {\r\n        conditions: [\r\n          [\r\n            {\r\n              key: 'name'\r\n            }\r\n          ]\r\n        ],\r\n        beforeQuery: queryParam => {\r\n          queryParam = queryParam || {};\r\n          this.queryParam = queryParam;\r\n          return queryParam;\r\n        },\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>window.location.hash='jxc/item/itemAdd'}><Icon type=\"plus\" />新建商品</Button>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        size: 'small'\r\n      },\r\n      fields: [\r\n        {\r\n          key: 'id',\r\n          rowKey: true,\r\n          notInForm: true,\r\n          notInTable: true,\r\n          label: 'id'\r\n        }, {\r\n          key: 'name',\r\n          width: '15%',\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: '必填'\r\n            }\r\n          ],\r\n          label: '名称'\r\n        }, {\r\n          key: 'phone',\r\n          width: '10%',\r\n          props: {\r\n            maxLength: 11\r\n          },\r\n          rules: [\r\n            {\r\n              required: false,\r\n              message: '选填'\r\n            },\r\n            // {   validator: v => {     return v && /^1[0-9]{10}$/.test(v);   },   message:\r\n            // '必须为1开头的11位手机号' }\r\n          ],\r\n          label: '手机号'\r\n        }, {\r\n          key: 'address',\r\n          width: '20%',\r\n          rules: [\r\n            {\r\n              required: true,\r\n              message: 'false'\r\n            }\r\n          ],\r\n          // type:'custom', getComponent:(props,context)=>{   return <Area useName\r\n          // context={context} {...props}></Area>; },\r\n          label: '区域'\r\n        }, {\r\n          key: 'score',\r\n          width: '10%',\r\n          label: '积分'\r\n        }, {\r\n          key: 'maxScore',\r\n          width: '10%',\r\n          label: '最高积分'\r\n        }, {\r\n          key: 'gmtModified',\r\n          notInForm: true,\r\n          width: '10%',\r\n          render: (v, r) => util.formatDate(v),\r\n          label: '修改时间'\r\n        }, {\r\n          key: 'gmtCreate',\r\n          notInForm: true,\r\n          width: '10%',\r\n          render: (v, r) => util.formatDate(v),\r\n          label: '创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{   return (<span><a onClick={()=>{ }}>设计</a></span>);\r\n      // },\r\n      form: {\r\n        col: 1,\r\n        beforeAdd: formData => {\r\n          return {};\r\n        },\r\n        beforeModify: formData => {\r\n          return formData;\r\n        },\r\n        beforeSubmit: formData => {\r\n          // if (formData.address) {   formData.address = getDisplayText(formData.prov,\r\n          // formData.city, formData.county); }\r\n          return formData;\r\n        }\r\n      },\r\n      table: {\r\n        bordered: true,\r\n        size: 'small',\r\n        resultHandler: (result, queryParam) => {\r\n          result.list = result.data.data;\r\n          result\r\n            .list\r\n            .forEach(it => {});\r\n          result.totalItem = result.data.totalItem;\r\n        }\r\n      },\r\n      api: {\r\n        queryInterface: {func: urlPrefix + 'ItemManager?opt=queryItem'}\r\n      }\r\n    };\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'球馆管理',\r\n      key:'ballRoom',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'地址'\r\n        },{\r\n          key:'boss',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'法人'\r\n        },{\r\n          key:'staffs',\r\n          width:'30%',\r\n          enums:allStaffs.map(it=>({key:it.id+'',text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'球馆员工'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:rec=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BallRoomOperation?opt=queryBallRoom'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=updateBallRoom'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=insertBallRoom'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=deleteBallRoom',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,urls,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport AddMemberModal from './addMemberModal';\r\nimport ModifyMemberModal from './modifyMemberModal';\r\nimport MemberConsumeModal from './memberConsumeModal';\r\nimport RechargeMemberModal from './rechargeMemberModal';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nimport MemberRechargeBillListDrawer from './memberRechargeBillListDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'会员管理',\r\n      key:'Member',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'operator'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addMemberModal')}><Icon type=\"plus\" />新建会员</Button>,urls.map(it=>it.code).indexOf('downloadMember')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/MemberOperation?opt=downloadMember'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadMember')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/MemberOperation?opt=uploadMember'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryMemberTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'no',\r\n          label:'序号'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          render:(v,r)=>{\r\n            if(r.avatar){\r\n              return <Tooltip overlayClassName=\"avatar-tooltip\" title={<div className=\"avatar-image-c\" style={{backgroundImage:`url(${imagePrefix()+r.avatar})`}} />}><a>{v}</a></Tooltip>\r\n            }\r\n            return v;\r\n          },\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{\r\n            maxLength:11\r\n          },\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          render:(v,r)=><a onClick={()=>emitter.emit('show-member-recharge-bill',r)}>{v}</a>,\r\n          label:'充值金额'\r\n        },{\r\n          key:'billType',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}],\r\n          label:'卡计费类型'\r\n        },{\r\n          key:'remainTimes',\r\n          width:'6%',\r\n          label:'剩余次数'\r\n        },{\r\n          key:'memberType',\r\n          width:'6%',\r\n          label:'会员类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'applyTime',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'生效时间'\r\n        },{\r\n          key:'expireTime',\r\n          notInForm:true,\r\n          width:'8%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          label:'失效时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.billType=='按次'){\r\n          if(+rec.remainTimes<=0)\r\n            useEmpty=true;\r\n        }else{\r\n          if(rec.expireTime&&rec.expireTime<new Date().getTime()){\r\n            useEmpty=true;\r\n          }\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('memberConsumeModal',rec);\r\n        }}>消费</a><a onClick={()=>{\r\n          emitter.emit('memberRechargeModal',rec);\r\n        }}>充值</a><a onClick={()=>{\r\n          emitter.emit('modifyMemberModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除会员？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMember',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除会员成功');\r\n              emitter.emit(`queryMemberTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id);\r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"member-rec-table\" columns={[\r\n          {key:'gmtCreate',dataIndex:'gmtCreate',title:'消费时间',render:v=>util.formatDate(v)},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'次数'},\r\n          {key:'consumeType',dataIndex:'consumeType',title:'消费类型'},\r\n          {key:'roomId',dataIndex:'roomId',title:'球馆',render:v=>{\r\n            let room=rooms.filter(it=>it.id==v)[0];\r\n            if(room)return room.name;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMemberBill',{memberId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMember'},\r\n        // updateInterface:{func:urlPrefix+'MemberOperation?opt=updateMember'},\r\n        // deleteInterface:{func:urlPrefix+'MemberOperation?opt=deleteMember',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-memeber-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=queryMemberBill',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddMemberModal />\r\n       <ModifyMemberModal />\r\n       <MemberConsumeModal />\r\n       <RechargeMemberModal />\r\n       <MemberRechargeBillListDrawer />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-operate/memberBill`,()=>{\r\n      emitter.emit('queryMemberBillTable');\r\n    });\r\n    this.config = {\r\n      title:'会员流水',\r\n      key:'MemberBill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'memberName'},{key:'phone'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'memberName',\r\n          width:'10%',\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          label:'手机号'\r\n        },{\r\n          key:'operator',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'consumeType',\r\n          width:'10%',\r\n          label:'消费类型'\r\n        },{\r\n          key:'consumeTimes',\r\n          width:'10%',\r\n          label:'消费次数'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'roomId',\r\n          width:'10%',\r\n          enums:rooms.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'球馆'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMemberBill'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select, Popconfirm, InputNumber} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/config`,()=>{\r\n      this.initTenantConfig();\r\n    });\r\n    this.initTenantConfig()\r\n    this.state={\r\n        config:{},\r\n        formValues:{}\r\n    };\r\n  }\r\n  initTenantConfig=()=>{\r\n    util.ajaxJson(urlPrefix+'SysUserFramework?opt=getTenantConfig',{},res=>{\r\n        let config=res.data||{};\r\n        if(!config.billCates)config.billCates=['会员开户','学员开户','学员充值'];\r\n        if(!config.courseTypes)config.courseTypes=['乒乓'];\r\n        if(!config.majorCoachRate)config.majorCoachRate=55;\r\n        if(!config.coachRate)config.coachRate=50;\r\n        let formValues={...config};\r\n        this.setState({config,formValues});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {config}=this.state;\r\n    return (\r\n      <div className=\"sys-config-c\">\r\n       <Tabs defaultActiveKey=\"1\">\r\n            <Tabs.TabPane tab=\"属性配置\" key=\"1\">\r\n                <Form.Item label=\"课程类型\" required>\r\n                    <Select mode=\"tags\" placeholder=\"请输入需要新增的课程类型供选择\" {...util.getField.call(this,'courseTypes')}>\r\n                        {config.courseTypes&&config.courseTypes.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"账务分类\" required>\r\n                    <Select mode=\"tags\" placeholder=\"请输入需要新增的账务分类供选择\" {...util.getField.call(this,'billCates')}>\r\n                        {config.billCates&&config.billCates.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"教练分账比例\" required>\r\n                  <div>主管教练：<InputNumber {...util.getField.call(this,'majorCoachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                  <div>普通教练：<InputNumber {...util.getField.call(this,'coachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                </Form.Item>\r\n            </Tabs.TabPane>\r\n        </Tabs>\r\n        <Popconfirm title=\"请您确认配置的准确性，保存后系统将直接生效，确定无误？\" onConfirm={()=>{\r\n          let {config,formValues}=this.state;\r\n          config = {...config,...formValues};\r\n            util.ajaxJson(urlPrefix+'SysUserFramework?opt=saveTenantConfig',{config},res=>{\r\n                if(res.success){\r\n                    message.success('保存系统配置成功！');\r\n                    emitter.emit('init-user-info');\r\n                }\r\n            });\r\n        }}><Button type=\"primary\">保存</Button></Popconfirm>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Select,Icon, Tabs} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport BizComp from '../../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../../interfaces/interfaces';\r\nimport {isAdmin,allStaffs} from '../../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    // emitter.on(`menu-clicked-sys/config/baseItem`,()=>{\r\n    //   emitter.emit('queryOptLogTable');\r\n    // });\r\n    let configs=[{\r\n      key:'StockMgr',\r\n      title:'仓库',\r\n      conditions:[[{key:'name'}]],\r\n      fields:[{\r\n        key:'owner',\r\n        label:'联系人',\r\n        render:(v,r)=>r.content.owner,\r\n        enums:allStaffs.map(it=>it.name)\r\n      },{\r\n        key:'address',\r\n        render:(v,r)=>r.content.address,\r\n        label:'地址'\r\n      }],\r\n      beforeSubmit:formData=>{\r\n        let {owner,address,content}=formData;\r\n        if(!content)content={};\r\n        if(owner){\r\n            content.owner=owner;\r\n            delete formData.owner;\r\n        }\r\n        if(address){\r\n          content.address=address;\r\n          delete formData.address;\r\n        }\r\n        formData.content=JSON.stringify(content);\r\n        return formData;\r\n      }\r\n    },{\r\n        key:'UnitMgr',\r\n        title:'单位',\r\n        conditions:[[{key:'name'}]],\r\n        fields:[]\r\n    },{\r\n        key:'ItemProp',\r\n        title:'商品属性',\r\n        conditions:[[{key:'name'}]],\r\n        fields:[{\r\n            key:'values',\r\n            multi:true,\r\n            type:'custom',\r\n            label:'属性值',\r\n            rules:[{required:true,message:'必填'}],\r\n            render:v=>{\r\n                if(!v)return v;\r\n                return v.join(',');\r\n            },\r\n            getComponent:(props,context)=>{\r\n                let values=[];\r\n                if(context.state.formValues&&context.state.formValues.values){\r\n                    values = context.state.formValues.values;\r\n                }\r\n                return <Select mode=\"tags\" placeholder=\"请输入需要新增的属性\" {...props}>\r\n                {values.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n            </Select>;\r\n            }\r\n        }],\r\n        beforeSubmit:formData=>{\r\n            let {values,content}=formData;\r\n            if(!content)content={};\r\n            if(values){\r\n                content.values=values;\r\n                delete formData.values;\r\n            }\r\n            formData.content=JSON.stringify(content);\r\n            return formData;\r\n        }\r\n    }];\r\n    this.configs = configs.map(cfg=>({\r\n        title:cfg.title,\r\n        key:cfg.key,\r\n        dialog:{width:1060},\r\n        queryCond:{\r\n          conditions:cfg.conditions,\r\n          beforeQuery:queryParam=>{\r\n            queryParam = queryParam || {};\r\n            queryParam.type=cfg.title;\r\n            this.queryParam=queryParam;\r\n            return queryParam;\r\n          },\r\n          size:'small'\r\n        },\r\n        fields:[\r\n          {\r\n            key:'id',\r\n            rowKey:true,\r\n            notInTable:true,\r\n            notInForm:true,\r\n            label:'id'\r\n          },{\r\n            key:'name',\r\n            width:'20%',\r\n            label:'名称',\r\n            rules:[{required:true,message:'必填'}]\r\n          },...cfg.fields,{\r\n            key:'num',\r\n            width:'5%',\r\n            notInForm:true,\r\n            label:'序值'\r\n          },{\r\n            key:'gmtModified',\r\n            width:'15%',\r\n            render:v=>util.formatDate(v),\r\n            notInForm:true,\r\n            label:'修改时间'\r\n          },{\r\n            key:'lastModifier',\r\n            width:'10%',\r\n            notInForm:true,\r\n            label:'最近修改人'\r\n          },{\r\n            key:'operator',\r\n            width:'10%',\r\n            notInForm:true,\r\n            label:'创建人'\r\n          }\r\n        ],\r\n        operationAddon:(record,idx)=>{\r\n          if(cfg.operationAddon)return cfg.operationAddon(record);\r\n          if(this.resultList){\r\n            let data=this.resultList;\r\n            let upEl=idx>0&&<a onClick={()=>{\r\n                let otherItem=data[idx-1];\r\n                util.ajaxJson(urlPrefix+'SysConfigManager?opt=moveBaseItem',{id1:record.id,num1:otherItem.num,id2:otherItem.id,num2:record.num},res=>{\r\n                  if(res.success)message.success('上移成功');\r\n                  emitter.emit(`query${cfg.key}Table`);\r\n                });\r\n              }}>上移</a>;\r\n              let downEl=idx<data.length-1&&<a onClick={()=>{\r\n                let otherItem=data[idx+1];\r\n                util.ajaxJson(urlPrefix+'SysConfigManager?opt=moveBaseItem',{id1:record.id,num1:otherItem.num,id2:otherItem.id,num2:record.num},res=>{\r\n                  if(res.success)message.success('下移成功');\r\n                  emitter.emit(`query${cfg.key}Table`);\r\n                });\r\n              }}>下移</a>;\r\n            return (<span>{upEl} {downEl}</span>);\r\n          }\r\n        },\r\n        form:{\r\n          col:1,\r\n          beforeAdd:formData=>{\r\n            return {status:'1'};\r\n          },\r\n          beforeModify:formData=>{\r\n            return {...formData,...formData.content};\r\n          },\r\n          beforeSubmit:formData=>{\r\n            formData.type=cfg.title;\r\n            formData.code=formData.name;\r\n            if(cfg.beforeSubmit){\r\n                return cfg.beforeSubmit(formData);\r\n            }\r\n            return formData;\r\n          }\r\n        },\r\n        table:{\r\n          bordered:true,\r\n          size:'small',\r\n          resultHandler:(result,queryParam)=>{\r\n            if(cfg.resultHandler){\r\n                return cfg.resultHandler(result,queryParam);\r\n            }\r\n            this.resultList=result.data;\r\n            if(result.data){\r\n                result.data.forEach(it=>{\r\n                    if(it.content){\r\n                        it.content=JSON.parse(it.content);\r\n                        it.values=it.content.values;\r\n                    }\r\n                });\r\n            }\r\n          }\r\n        },\r\n        api:{\r\n          queryInterface:{func:urlPrefix+'SysConfigManager?opt=baseItemList'},\r\n          updateInterface:isAdmin?{func:urlPrefix+'SysConfigManager?opt=updateBaseItem'}:undefined,\r\n          insertInterface:isAdmin?{func:urlPrefix+'SysConfigManager?opt=insertBaseItem'}:undefined,\r\n          deleteInterface:isAdmin?{func:urlPrefix+'SysConfigManager?opt=deleteBaseItem',params:{id:'id'}}:undefined\r\n        }\r\n      }));\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Tabs defaultActiveKey=\"0\">\r\n            {this.configs.map((it,idx)=><Tabs.TabPane tab={it.title+'管理'} key={idx+''}>\r\n            <BizComp config={it}/>\r\n            </Tabs.TabPane>)}\r\n        </Tabs>\r\n       \r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/optLog`,()=>{\r\n      emitter.emit('queryOptLogTable');\r\n    });\r\n    this.config = {\r\n      title:'操作日志',\r\n      key:'OptLog',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'},{key:'accountName'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'accountName',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          label:'操作类型'\r\n        },{\r\n          key:'content',\r\n          width:'40%',\r\n          render:(v,r)=>{\r\n            let reg = new RegExp(`\"customer_name\":\"(.+?)\"`,\"mg\");\r\n            let rs;\r\n            let resArr=[];\r\n            while((rs=reg.exec(v)) != null){\r\n              if(rs.length>0){\r\n                resArr.push(rs[1]);\r\n              }\r\n            }\r\n            if(resArr.length>0){\r\n              let resStr=resArr.join(', ');\r\n              if(r.type=='doTransfer'){\r\n                let obj=JSON.parse(v);\r\n                return `【转交数：${obj.customers.length}，接收人：${obj.owner_name}】 客户明细：${resStr}`;\r\n              }\r\n              return resStr;\r\n            }\r\n            return v;\r\n          },\r\n          label:'操作对象'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'ip',\r\n          width:'10%',\r\n          label:'IP'\r\n        },{\r\n          key:'ua',\r\n          width:'10%',\r\n          label:'客户端'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=queryOptLog'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,menus,urls,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'角色管理',\r\n      key:'sysRole',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'type',\r\n          width:'4%',\r\n          notInForm:true,\r\n          enums:[{key:'系统',text:'系统'},{key:'自定义',text:'自定义'}],\r\n          label:'类型'\r\n        },{\r\n          key:'menus',\r\n          width:'20%',\r\n          enums:()=>menus.map(it=>({key:it.code,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色包含菜单'\r\n        },{\r\n          key:'urls',\r\n          width:'20%',\r\n          enums:()=>urls.map(it=>({key:it.code,text:it.name})),\r\n          multi:true,\r\n          label:'角色包含功能'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {type:'自定义'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.content=JSON.stringify({menus:formData.menus,urls:formData.urls});\r\n          return formData;\r\n        },\r\n        afterSubmit:res=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        canModify:r=>r.type=='自定义',\r\n        canDelete:r=>r.type!='系统',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.content){\r\n              let contentObj=JSON.parse(it.content);\r\n              if(contentObj){\r\n                it.menus=contentObj.menus;\r\n                it.urls=contentObj.urls;\r\n              }\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysRole'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysRole'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysRole'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysRole',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <SelectTable columns={[{key:'id',title:'ID',width:'30%'},{key:'name',title:'名称',width:'70%'}]} urlSuffix=\"MemberOperation?opt=queryMember\" searchKey=\"name\"/> */}\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select, Form} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport ChangePass from './changePass';\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'人员组织',\r\n      key:'sysUser',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'phone'},{key:'role',type:'custom',getComponent:(props)=>(<Select {...props} mode={undefined}>{allRoles.map(it=><Select.Option key={it.id+''} value={it.id+''}>{it.name}</Select.Option>)}</Select>)}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'姓名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'role',\r\n          width:'20%',\r\n          enums:allRoles.map(it=>({key:it.id,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          enums:[{key:'1',text:'生效'},{key:'0',text:'失效'}],\r\n          label:'状态'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>emitter.emit('changePassModal', rec)}>改密码</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.role&&formData.role.length>0){\r\n            if(Array.isArray(formData.role)){\r\n              formData.role=','+formData.role.join(',')+',';\r\n            }\r\n          }else{\r\n            formData.role=undefined;\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.role){\r\n              it.role=it.role.split(',').filter(it=>!!it);\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysUser'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysUser'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysUser'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysUser',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ChangePass/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../common/common';\r\nimport BizComp from '../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-task`,()=>{\r\n      emitter.emit('queryTaskTable');\r\n    });\r\n    this.config = {\r\n      title:'任务待办',\r\n      key:'Task',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'执行人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          enums:[['跟进','跟进']],\r\n          label:'任务类型'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务开始时间'\r\n        },{\r\n          key:'expireTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务过期时间'\r\n        },{\r\n          key:'todoInfo',\r\n          width:'30%',\r\n          render:(v,r)=>{\r\n            return <pre>{v}</pre>;\r\n          },\r\n          label:'任务内容'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            if(r.start_time<new Date().getTime())return <span style={{color:'red'}}>已超期</span>;\r\n            if(v===0)return '待处理';\r\n            if(v===1)return '处理中';\r\n            if(v===2)return '已完成';\r\n            if(v===3)return '已放弃';\r\n            return v;\r\n          },\r\n          label:'状态'\r\n        },{\r\n          key:'finish_time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'完成时间'\r\n        }\r\n      ],\r\n      operationAddon:r=>{\r\n        return (<span>{r.status===0&&<a onClick={()=>{\r\n          if(r.type=='跟进'){\r\n            emitter.emit('main-clickmenu',{key:'customer'});\r\n            util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id},result=>{\r\n              emitter.emit('do-indicates-search',{company_name:r.customer_name});\r\n            });\r\n          }\r\n        }}>立即处理</a>}{(r.status===0||r.status===1)&&<Popconfirm title=\"是否标记完结？\" okText=\"是\" cancelText=\"否\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id,status:2,finish_time:new Date().getTime()},result=>{\r\n            message.success('已完结');\r\n            emitter.emit('queryCrmTaskTable',undefined,true);\r\n          });\r\n        }}><a>标记完结</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        width:'100%',\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=listMyTask'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,InputNumber,Popover,Icon,Select,Popconfirm, Switch, DatePicker, Form} from 'antd';\r\nimport './index.less';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport ClassStudentListDrawer from './classStudentListDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('rich-editor-save-'+'classDesc',({content,rec,fieldValues})=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=saveClassLog',{classId:rec.id,logId:rec.logId,content,title:fieldValues.title},res=>{\r\n        emitter.emit(`query${this.config.key}Table`,undefined,true);\r\n        if(res.success)message.success('保存成功');\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'班级管理',\r\n      key:'Class',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'班级名称'\r\n        },{\r\n          key:'introduction',\r\n          width:'10%',\r\n          label:'班级描述'\r\n        },{\r\n          key:'coachId',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:coaches.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'班主任'\r\n        },{\r\n          key:'price',\r\n          width:'5%',\r\n          type:'custom',\r\n          notInTable:true,\r\n          getComponent:props=><InputNumber {...props}/>,\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'报名费(单价)'\r\n        },{\r\n          key:'logs',\r\n          width:'20%',\r\n          render:(v,r)=>{\r\n            let showRichEditor=(content='',logId,defaultValue=''+util.formatDate(Date.now(),'yyyy-MM-dd')+'-纪要')=>{\r\n              emitter.emit('open-rich-editor-drawer',{key:'classDesc',content,title:'班级日志编辑',rec:{...r,logId},fields:[{key:'title',label:'班级日志',options:{rules:[{required:true,message:'必填'}]},defaultValue}]})\r\n            }\r\n            return <div className=\"class-log-c\"><a onClick={()=>{\r\n              showRichEditor();\r\n            }}>添加日志</a>{r.classLogs&&r.classLogs.length>0&&r.classLogs.map(log=><a key={log.id+''} onClick={()=>{\r\n              util.ajaxJson(urlPrefix+'TrainOperation?opt=getClassLog',{id:log.id},res=>{\r\n                if(res.success)showRichEditor(res.data.content,log.id,log.title);\r\n              });\r\n            }}>{log.title}</a>)}</div>;\r\n          },\r\n          notInForm:true,\r\n          label:'班级日志'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            return <a onClick={()=>emitter.emit('show-class-student-drawer',r)}>{v?v:0}</a>;\r\n          },\r\n          label:'学员数'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'开始时间'\r\n        },{\r\n          key:'endTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'},{validator:(v,values)=>{\r\n            if(v&&values.startTime&&values.startTime.valueOf()>v.valueOf()){\r\n              return false;\r\n            }\r\n            return true;\r\n          },message:'截止时间不能在开始时间之前'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'结束时间'\r\n        },{\r\n          key:'project',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          notInForm:true,\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-class-student-drawer',record);\r\n        }}>学员管理</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {project:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.startTime=moment(formData.startTime);\r\n          formData.endTime=moment(formData.endTime);\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          let newFormData={...formData};\r\n          delete newFormData.classLogs;\r\n          return newFormData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'name',dataIndex:'name',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'amount',dataIndex:'amount',title:'缴费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          ]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryClass'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateClass'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertClass'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteClass',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0},\r\n      formValues:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:expandedRowKeys[0],currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ClassStudentListDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Popconfirm, Switch} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport SettlementDrawer from './settlementDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-train/coach`,()=>{\r\n      emitter.emit('queryCoachTable');\r\n    });\r\n    this.config = {\r\n      title:'教练管理',\r\n      key:'Coach',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'onlyTrain',label:'仅有训练记录',type:'custom',options:{mode:'checkbox'},getComponent:props=><Switch {...props} onChange={(v)=>{\r\n        if(props.onChange)props.onChange(v);\r\n        emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n        this.refreshExpandRow(false);\r\n      }}></Switch>},\r\n        {key:'time',label:'时间范围',type:'custom',shouldDisplay:(context)=>context.state.formValues.onlyTrain,getComponent:(props,context)=>{\r\n        return <DatePick onChange={rangeValue=>{\r\n          props.onChange(rangeValue);\r\n          emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n          this.refreshExpandRow(false);\r\n        }}/>;\r\n      }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'introduction',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'简介'\r\n        },{\r\n          key:'score',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          label:'积分'\r\n        },{\r\n          key:'unitPrice',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'课时单价'\r\n        },{\r\n          key:'type',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:'1',text:'在职'},{key:'0',text:'离职'}],\r\n          label:'类型'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-coach-settlement-drawer',record);\r\n        }}>结算</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1',type:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'studentName',dataIndex:'studentName',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'billed',dataIndex:'billed',title:'是否结算',render:v=>v==1?'已结算':'未结算'},\r\n          {key:'billedTime',dataIndex:'billedTime',title:'结算时间',render:v=>util.formatDate(v)},\r\n          {key:'billedOperator',dataIndex:'billedOperator',title:'结算人'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow(true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryCoach'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateCoach'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertCoach'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteCoach',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:expandedRowKeys[0],onlyTrain,coach:true,time,currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <SettlementDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm, InputNumber} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport AddStudentModal from './addStudentModal';\r\nimport ModifyStudentModal from './modifyStudentModal';\r\nimport StudentConsumeModal from './studentConsumeModal';\r\nimport CourseListDrawer from './courseListDrawer';\r\nimport RechargeStudentModal from './rechargeStudentModal';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('refresh-student-table',()=>{\r\n      this.setState({expandedRowKeys:[]},()=>{\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'学员管理',\r\n      key:'Student',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'coachId',type:'custom',label:'教练',getComponent:props=><Select {...props} allowClear>{coaches.map(it=><Select.Option value={it.id} key={it.id}>{it.name}</Select.Option>)}</Select>}],[{key:'amoutEnd',type:'custom',label:'余额上限',getComponent:props=><InputNumber {...props}/>}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addStudentModal')}><Icon type=\"plus\" />学员新增</Button>,\r\n          urls.map(it=>it.code).indexOf('downloadStudent')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/TrainOperation?opt=downloadStudent'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadStudent')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/TrainOperation?opt=uploadStudent'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryStudentTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'no',\r\n          label:'序号'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          render:(v,r)=>{\r\n            if(r.avatar){\r\n              return <Tooltip overlayClassName=\"avatar-tooltip\" title={<div className=\"avatar-image-c\" style={{backgroundImage:`url(${imagePrefix()+r.avatar})`}} />}><a>{v}</a></Tooltip>\r\n            }\r\n            return v;\r\n          },\r\n          label:'学员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          render:v=><span className={v<0?'RED BOLD':''}>{v}</span>,\r\n          label:'账户余额(元)'\r\n        },{\r\n          key:'courses',\r\n          width:'20%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            if(r.courses){\r\n            return r.courses.map((it,idx)=><Tooltip key={idx+'c'} title={<span>训练项目：{it.type}<br/>缴费金额(元)：{it.amount}</span>}><a className={\"course-item\"+(it.remainTimes==0?' empty':'')} onClick={()=>emitter.emit('show-course-list-drawer',r,it.id)}>{coaches.filter(c=>it.coachId==c.id)[0].name}({it.remainTimes}/{it.times})</a></Tooltip>);\r\n            }\r\n          },\r\n          label:'私教课程'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          label:'已训练记录数'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          // useEmpty=true;\r\n        }\r\n        if(rec.courses){\r\n          let remainCourses=rec.courses.filter(it=>it.remainTimes!==undefined);\r\n          if(remainCourses.length>0&&remainCourses.map(it=>+it.remainTimes).reduce((a,b)=>a+b)==0){\r\n             useEmpty=true;\r\n          }\r\n        }else{\r\n          useEmpty=true;\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('studentRecordModal',rec);\r\n        }}>登记训练</a>{rec.courses&&rec.courses.length>0&&<a onClick={()=>{\r\n          emitter.emit('rechargeStudentModal',rec);\r\n        }}>课程充值</a>}<a onClick={()=>{\r\n          emitter.emit('modifyStudentModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除学员？\" onConfirm={async ()=>{\r\n          let doDelete=(ids)=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudent',{id:rec.id,ids},res=>{\r\n              if(res.success){\r\n                message.success('删除学员成功');\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }\r\n          let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuOpen'+rec.id+'-'});\r\n          if(!billRes.success)return;\r\n          if(billRes.data.totalItem>0){\r\n            Modal.confirm({\r\n              title:'同步删除账单确认？',\r\n              content:`系统监测到您已有${billRes.data.totalItem}笔学员开课充值账单录入，是否同步删除？`,\r\n              onOk:()=>doDelete(billRes.data.data.map(it=>it.id))\r\n            });\r\n          }else{\r\n            doDelete(billRes.data.data.map(it=>it.id));\r\n          }\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0,allTimes=0,courseMap={};\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              let stuRec=recDs.data[i];\r\n              if(!courseMap[stuRec.courseId])allTimes+=stuRec.times;// 对课程求总次数\r\n              courseMap[stuRec.courseId]=true;\r\n              if(idx<=i){\r\n                consumeTimes+=stuRec.consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=allTimes-consumeTimes;\r\n            return `${snapTimes}/${allTimes}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'已累计消费(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=recDs.data[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${consumeAmount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={false} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n          result.list.forEach(it=>{\r\n          });\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryStudent'},\r\n        // updateInterface:{func:urlPrefix+'TrainOperation?opt=updateStudent'},\r\n        // deleteInterface:{func:urlPrefix+'TrainOperation?opt=deleteStudent',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-student-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{studentId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddStudentModal />\r\n       <ModifyStudentModal />\r\n       <StudentConsumeModal />\r\n       <CourseListDrawer />\r\n       <RechargeStudentModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t    this.state={formValues:{}};\r\n\t}\r\n\trender(){\r\n\t\tlet {storageItemKey,value,onLoad,onSave,top,left,right,bottom,text,zIndex,position} = this.props;\r\n\t\tstorageItemKey = storageItemKey.replace('.','-');\r\n\t\tlet paramArr = [];\r\n\t    let loadParams = localStorage.getItem(storageItemKey);\r\n\t    if(loadParams){\r\n\t    \tparamArr = JSON.parse(loadParams);\r\n\t    }\r\n\t    let paramArrRevers = [];\r\n\t    for (let i = 0; i < paramArr.length;i++) {\r\n\t    \tparamArrRevers[i] = paramArr[paramArr.length - i - 1];\r\n\t    }\r\n\t    let content = <ul className={`save-btn-pop save-btn-pop-${storageItemKey}`}>\r\n\t  \t\t<li>名称:<Input {...util.getField.bind(this)('saveParamName')}/><Button type=\"primary\" size=\"small\" onClick={()=>{\r\n\t    \t\t\tparamArr.push({name:this.state.formValues.saveParamName,value,t:new Date().getTime()});\r\n\t    \t\t\tif(paramArr.length > 10){\r\n\t    \t\t\t\tparamArr.splice(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet paramsStr=JSON.stringify(paramArr);\r\n\t    \t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\tmessage.success(`保存${text?text:'参数'}成功!`);\r\n\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t    \t\t\tthis.setState({...this.state});\r\n\t            }}>保存</Button></li>\r\n\t  \t\t<div>\r\n\t  \t\t{paramArrRevers.map((p,idx)=>{\r\n\t  \t\t\treturn <div className=\"save-item\" key={idx}><a className=\"save-name-label\" title={p.name} onClick={()=>{\r\n\t  \t\t\t\tonLoad(p.value);\r\n\t  \t\t\t}}>{p.name}</a> <span title={p.value}>{util.formatDate(p.t,'MM-dd hh:mm:ss')}</span><Popconfirm title={<div>确定要删除[{p.name}]吗?</div>} onConfirm={()=>{\r\n\t\t\t\t\t    paramArr.splice(paramArr.length-1-idx,1);\r\n\t\t\t\t\t    let paramsStr=JSON.stringify(paramArr);\r\n\t\t\t\t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t  \t\t\t\t    this.setState({...this.state});\r\n\t  \t\t\t}} okText=\"确定\" cancelText=\"取消\"><a>删除</a></Popconfirm></div>;\r\n\t  \t\t})}\r\n\t  \t\t</div>\r\n\t  \t</ul>;\r\n\t    return <Popover title={`保存&加载${text?text:'参数'}`} content={content} trigger=\"click\"><a style={{top,left,right,bottom,position:position?position:'absolute',zIndex}}>保存{text!==undefined?text:'配置参数'}</a></Popover>;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport './index.less';\r\nimport Area,{getDisplayText} from './area';\r\nimport { pca, pcaa } from 'area-data';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport SaveParams from '../../../components/pops/saveParams';\r\n\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('do-indicates-search',formValues=>{\r\n            this.setState({formValues},()=>{\r\n                this.doSearch(null,true);\r\n            });\r\n        });\r\n        this.state = {\r\n            formValues:{\r\n                // company_name:'丝芳'\r\n            },\r\n            disableSearch:false\r\n        };\r\n        \r\n    }\r\n\r\n    getIndicates=()=>{// 上层组件调用获取组件的数据\r\n        let {formValues}=this.state;\r\n        let {indicates}=this.props;\r\n        let indicatesMap={};\r\n        for(let k in formValues){\r\n            let indicate=indicates.filter(it=>it.key==k)[0];\r\n            let idx;\r\n            if((idx=k.indexOf('__'))>-1){\r\n                let newK=k.substring(0,idx);\r\n                indicate=indicates.filter(it=>it.key==newK)[0];\r\n                if(!indicate)continue;\r\n                indicatesMap[newK]=[formValues[newK+'__start']||null,formValues[newK+'__end']||null];\r\n                indicatesMap[newK+'--'+indicate.type]=true;\r\n            }else if(Array.isArray(formValues[k])){\r\n                if(!indicate)continue;\r\n                indicatesMap[k]=formValues[k].map(it=>{\r\n                    if(it&&it.valueOf)return it.valueOf();\r\n                    return it;\r\n                });\r\n                indicatesMap[k+'--'+indicate.type]=true;\r\n            }else{\r\n                if(formValues[k]===''||formValues[k]===null||formValues[k]===undefined)continue;\r\n                if(['prov','city','county'].indexOf(k)>-1){\r\n                    let text;\r\n                    if(k=='prov'){\r\n                        text=pca['86'][formValues[k]];\r\n                    }else if(k=='city'){\r\n                        text=pcaa[formValues.prov][formValues[k]];\r\n                    }else{\r\n                        text=pcaa[formValues.city][formValues[k]];\r\n                    }\r\n                    indicatesMap[k]=text;\r\n                }else{\r\n                    if(!indicate)continue;\r\n                    indicatesMap[k]=formValues[k];\r\n                    indicatesMap[k+'--'+indicate.type]=true;\r\n                }   \r\n            }\r\n        }\r\n        return indicatesMap;\r\n    }\r\n\r\n    onChange=e=>{\r\n        this.setState({disableSearch:false});\r\n        this.props.onChange(e);\r\n    }\r\n    doSearch=(e,reserveBtn)=>{\r\n        this.props.onSearch({queryCond:this.getIndicates()});\r\n        this.setState({disableSearch:!reserveBtn});\r\n    }\r\n\r\n    showSearchConds=()=>{\r\n        let {indicates}=this.props;\r\n        let {formValues}=this.state;\r\n        return <ul>{indicates.filter(it=>(!Array.isArray(formValues[it.key])&&formValues[it.key])||formValues[it.key+'__start']||formValues[it.key+'__end']||(Array.isArray(formValues[it.key])&&formValues[it.key].length>0)).map((indicate,idx)=><li key={'s-i-'+idx}>\r\n            <Tag color=\"geekblue\" closable onClose={(e)=>{\r\n                let {formValues}=this.state;\r\n                if(indicate.type=='Area'){\r\n                    formValues['prov']=undefined;\r\n                    formValues['city']=undefined;\r\n                    formValues['county']=undefined;\r\n                }else if(formValues[indicate.key]){\r\n                    formValues[indicate.key]=undefined;\r\n                }else{\r\n                    formValues[indicate.key+'__start']=undefined;\r\n                    formValues[indicate.key+'__end']=undefined;\r\n                }\r\n                this.setState({formValues,disableSearch:false});\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }}>{this.getTagContent(indicate,formValues)}</Tag>\r\n        </li>)}<SaveParams right={80} text=\"搜索条件\" storageItemKey=\"customer-search\" value={formValues} onLoad={values=>{\r\n            this.setState({formValues:values,disableSearch:false});\r\n        }} onSave={this.props.onSaveCond}/><Popconfirm title=\"确定要清除？\" okText=\"确定\" cancelText=\"取消\" onConfirm={()=>{\r\n            this.setState({formValues:{},disableSearch:false});\r\n        }}><a className=\"clear-search-cond\">清除搜索条件</a></Popconfirm></ul>;\r\n    }\r\n    getTagContent=(indicate,formValues)=>{\r\n        let {placeholder,type,key,enums,showTime}=indicate;\r\n        let formValue=formValues[key];\r\n        if(type=='Input'){\r\n            return <span>{placeholder}：{formValue}</span>;\r\n        }else if(type=='Select'){\r\n            if(indicate.multi){\r\n                return <span>{placeholder}：{formValue.map(it=>enums.filter(e=>e.key==it)[0].text).join(',')}</span>;\r\n            }\r\n            return <span>{placeholder}：{(enums.filter(it=>it.key==formValue)[0]||{}).text}</span>;\r\n        }else if(type=='RangePicker'){\r\n            return <span>{placeholder}：{util.formatDate(formValue[0].valueOf(),showTime?undefined:'yyyy-MM-dd')} ~ {util.formatDate(formValue[1].valueOf(),showTime?undefined:'yyyy-MM-dd')}</span>;\r\n        }else if(type=='Range'){\r\n            return <span>{placeholder}：{formValues[key+'__start']} ~ {formValues[key+'__end']}</span>;\r\n        }else if(type=='Area'){\r\n            return <span>{placeholder}：{getDisplayText(formValues.prov,formValues.city,formValues.county)}</span>;\r\n        }\r\n        \r\n    }\r\n\r\n    onCollapse=(keys)=>{\r\n        if(this.props.onCollapse){\r\n            this.props.onCollapse(!keys || keys.length==0);\r\n        }\r\n    }\r\n   \r\n    render() {\r\n        let {indicates}=this.props;\r\n        let {formValues,disableSearch}=this.state;\r\n        return <div className=\"indicates-c\" ref={el=>{\r\n                    this.indicatesUi = el;\r\n                }}>\r\n                <Collapse onChange={this.onCollapse} defaultActiveKey={['1']}>\r\n                    <Collapse.Panel header=\"搜索条件\" key=\"1\">\r\n                    <Form.Item label=\"搜索指标\" className=\"search-label\">\r\n                        <ul>\r\n                            {indicates.map((indicate,idx)=><li key={'indi-it'+idx} className={indicate.type}>\r\n                                {indicate.type=='Input'&&<Input onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key,{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Input>}\r\n                                {indicate.type=='Select'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><Select {...util.getField.call(this,indicate.key,{onChange:e=>{\r\n                                    if(indicate.onChange)indicate.onChange(e,this);\r\n                                    this.onChange(e);\r\n                                }})} mode={indicate.multi?'multiple':undefined} placeholder={indicate.placeholder} allowClear size=\"small\" {...indicate.props}>\r\n                {indicate.enums.map((enumItem,idx)=><Select.Option key={'enum'+idx} value={enumItem.key}>{enumItem.text}</Select.Option>)}\r\n                                </Select></Tooltip>}\r\n                                {indicate.type=='RangePicker'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><DatePicker.RangePicker {...util.getField.call(this,indicate.key,{onChange:this.onChange,mode:'RangePickerDate'})} showTime={indicate.showTime} placeholder={[indicate.placeholder,indicate.placeholder]} size=\"small\">\r\n                                </DatePicker.RangePicker></Tooltip>}\r\n                                {indicate.type=='Range'&&<div className=\"range-c\"><Tooltip title={indicate.placeholder+'起始值'} mouseEnterDelay={0.8}><InputNumber onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key+'__start',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip><i>~</i><Tooltip title={indicate.placeholder+'截止值'} mouseEnterDelay={0.8}><InputNumber {...util.getField.call(this,indicate.key+'__end',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip></div>}\r\n                                {indicate.type=='Area'&&<Area context={this} onChange={this.onChange} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Area>}\r\n                            </li>)}\r\n                        </ul>\r\n                    </Form.Item>\r\n                    <Button type=\"primary\" size=\"small\" className=\"search-btn\" onClick={this.doSearch} disabled={disableSearch}>搜索</Button>\r\n                    <Form.Item label=\"当前搜索条件\" className=\"search-label\">{this.showSearchConds()}</Form.Item>\r\n                    </Collapse.Panel>\r\n                </Collapse>\r\n            </div>;\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Form.Item className=\"\" label=\"培训类型\" required={required}>\r\n              <Select {...util.getField.bind(form)('type',{rules:[{required,message:'必填'}]})}>\r\n                  {[{key:'乒乓',text:'乒乓'},{key:'羽毛球',text:'羽毛球'}].map(it=>{\r\n                    return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"培训子类\" required={required}>\r\n              <Select {...util.getField.bind(form)('subType',{rules:[{required,message:'必填'}]})}>\r\n                  {['基础','多球','实战'].map(it=>{\r\n                    return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Form,Select,Tag} from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {Consumer} from './index';\r\nimport EditableField from '../../components/pops/editableField';\r\nexport default class BizComp extends Component {\r\n\r\n\tonChange=()=>{\r\n\t\tlet {formValues} = this.parentContainer.state;\r\n\t\tthis.props.onChange(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn <Consumer>\r\n\t\t\t{parentContainer=>{\r\n\t\t\t\tthis.parentContainer = parentContainer;\r\n\t\t\t\tlet {formValues} = parentContainer.state;// 本身就是个立体对象，很直观，但需要指定前缀：从根对象formValues开始(不含根对象)的ognl表达式，推荐方式\r\n\t\t\t\treturn <div className=\"contact-c\">\r\n\t\t\t\t\t  {formValues.contacts&&formValues.contacts.map((contact,idx)=>{\r\n\t\t\t\t\t  \treturn <Tag key={'contact'+idx} className=\"contact-item\" closable onClose={(e)=>{\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle:'确定删除',\r\n\t\t\t\t\t\t\t\tcontent:'确定删除该联系人？',\r\n\t\t\t\t\t\t\t\tonOk:()=>{\r\n\t\t\t\t\t\t\t\t\tformValues.contacts.splice(idx,1);\r\n\t\t\t\t\t\t\t\t\tparentContainer.setState({formValues});\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系人姓名\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactName',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系方式\">\r\n\t\t\t\t\t\t  \t\t<Select size=\"small\" {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactType',contact,{rules:[{validator:(v)=>{\r\n\t\t\t\t\t\t  \t\t\treturn !!v;\r\n\t\t\t\t\t\t  \t\t},message:\"必填\"}],onChange:this.onChange})}>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"电话\">电话</Select.Option>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"钉钉\">钉钉</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"微信\">微信</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"旺旺\">旺旺</Select.Option>\r\n\t\t\t\t\t\t  \t\t</Select>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系号码\">\r\n\t\t\t\t\t\t\t\t<EditableField onBlur={(v)=>{\r\n\t\t\t\t\t\t\t\t\tcontact.mobile_no=v;\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}} onCall={this.props.onCall} value={contact.mobile_no} contactType={contact.contactType}/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系人身份\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactLevel',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t</Tag>;\r\n\t\t\t\t\t  })}\r\n\t\t\t\t\t  <a onClick={()=>{\r\n\t\t\t\t\t  \tlet {contacts} = formValues;\r\n\t\t\t\t\t  \tif(!contacts){\r\n\t\t\t\t\t  \t\tcontacts=[];\r\n\t\t\t\t\t  \t\tformValues.contacts = contacts;\r\n\t\t\t\t\t  \t}\r\n\t\t\t\t\t  \tcontacts.push({});\r\n\t\t\t\t\t  \tparentContainer.setState({formValues});\r\n\t\t\t\t\t  }}>添加联系人</a>\r\n\t\t\t\t</div>;\r\n\t\t\t}}\r\n\t\t</Consumer>;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {projects} from './index';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('gameModal', (rec,opt)=>{\r\n        let formValues={project:'乒乓',ballMates:[{},{},{}]};\r\n        if(opt=='modify'){\r\n          formValues=rec;\r\n          formValues.time=[moment(rec.startTime),moment(rec.endTime)];\r\n          rec.ballMates.forEach(it=>it.id=it.id+'');\r\n        }\r\n        this.setState({visible:true,formValues,opt});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=(e,finish)=>{\r\n    let {opt}=this.state;\r\n    util.validateFields.call(this,async values=>{\r\n      let {ballMates}=values;\r\n      let rec={...values};\r\n      rec.startTime=util.formatDate(rec.time[0]);\r\n      rec.endTime=util.formatDate(rec.time[1]);\r\n      delete rec.ballMates;\r\n      delete rec.time;\r\n      ballMates=ballMates.filter(it=>it.id);\r\n      if(ballMates.length<1){\r\n        return message.warning('至少有一个球友');\r\n      }\r\n      let res=await util.ajaxJsonAsync(urlPrefix+'GameOperation?opt='+(opt=='add'?'createGame':'updateGame'),{rec,ballMates,finish});\r\n      if(res.success){\r\n        message.success((finish?'完结':'保存')+'成功');\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryGameTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onMateRowClick=(add,i)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    if(add){\r\n      ballMates.splice(i+1,0,{});\r\n    }else{\r\n      if(ballMates.length==1)return message.warn('至少保留一行');\r\n      ballMates.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onBallMateChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    ballMates[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelectedMates=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    let selectedMates=[];\r\n    for(let i=0;i<ballMates.length;i++){\r\n      if(i!=idx&&ballMates[i].id){\r\n        selectedMates.push(ballMates[i].id+'');\r\n      }\r\n    }\r\n    return selectedMates;\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,opt} = this.state;\r\n  \treturn (<Drawer title={`${opt=='add'?'新建':'修改'}比赛`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onClose={this.handleCancel} placement=\"right\" maskClosable={false} getContainer={false}>\r\n          <Form className=\"add-member-modal\">\r\n            <Row>\r\n              <Form.Item className=\"memberName-f\" label=\"比赛名称\" required>\r\n                  <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛时间\" required>\r\n                  <DatePicker.RangePicker showTime={{defaultValue:[moment().hour(10).startOf('hour'),moment().hour(16).startOf('hour')]}} disabledDate={current=>current && current < moment().endOf('day')} {...util.getField.call(this,'time',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Row>\r\n              <Form.Item className=\"\" label=\"比赛项目\">\r\n                  <Select {...util.getField.call(this,'project',{})}>\r\n                    {projects.map(it=><Select.Option key={it}>{it}</Select.Option>)}\r\n                  </Select>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛规则\">\r\n                  <Input {...util.getField.call(this,'rule',{rules:[]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"比赛描述\" required>\r\n                <Input {...util.getField.call(this,'gameDesc',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Row>\r\n              <Form.Item className=\"amount-f\" label=\"投入成本\" required>\r\n                <MoneyField form={this} name=\"cost\" hideLabel/>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"备注\">\r\n                  <Input {...util.getField.call(this,'remark',{})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"参赛选手\">\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`ballMates[${idx}]`,'id',formValues.ballMates[idx])} onSelected={(v,r)=>this.onBallMateChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入球友名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          {key:'score',title:'当前积分',width:'80px'}]} excludeValues={this.getSelectedMates(idx)} urlSuffix=\"GameOperation?opt=queryBallMate\" searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'getScore',dataIndex:'getScore',title:'获得积分',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"本次比赛的积分\" precision={0} {...util.getSubField.call(this,`ballMates[${idx}]`,'getScore',r)}/></span>}]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.ballMates}/>\r\n            </Form.Item>\r\n          </Form>\r\n          <Button key=\"1\" type=\"primary\" onClick={this.handleOk}>\r\n            保存\r\n          </Button>\r\n          {opt=='modify'&&<Popconfirm title=\"完结后积分将更新到球友身上，且无法再做修改，确认无误？\" onConfirm={(e)=>this.handleOk(e,true)}><Button type=\"primary\">\r\n            完结比赛\r\n          </Button></Popconfirm>}\r\n          <Button key=\"2\" type=\"ghost\" onClick={this.handleCancel}>\r\n            取消\r\n          </Button>\r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addMemberModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,applyTime:moment(),isVip:true,consumeNow:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(values.isVip&&!values.phone)return message.info('正式会员手机号必填');\r\n      values.memberType=!values.isVip?'临时会员':'正式会员';\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=insertMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`开户成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员开户`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} disabled={this.state.loading}>\r\n            开户\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} /> <Switch checkedChildren=\"正式\" unCheckedChildren=\"临时\" {...util.getField.call(this,'isVip',{mode:'checkbox',onChange:checked=>{\r\n                  if(!checked){\r\n                    if(!formValues.name){\r\n                      formValues.name='临时会员-'+util.formatDate(new Date().getTime());\r\n                      formValues.billType='按次';\r\n                      formValues.remainTimes=1;\r\n                    }\r\n                  }else{\r\n                    if(formValues.name&&formValues.name.indexOf('临时会员')==0){\r\n                      formValues.name='';\r\n                    }\r\n                  }\r\n                  if(this.isFormFiledsValid===false)util.validateFields.call(this,()=>{});\r\n                  this.setState({formValues});\r\n                }})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} required={formValues.isVip}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} /><Checkbox {...util.getField.call(this,'consumeNow',{mode:'checkbox',onChange:checked=>{\r\n                }})}>立即消费</Checkbox>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload onLoading={loading=>this.setState({loading})} message=\"会员\" quality={0.07} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import {EventEmitter} from 'events';\r\nimport md5 from 'md5';\r\nimport base64url from 'base64url';\r\nimport './reset.less';\r\nlet emitter = new EventEmitter();\r\nemitter.setMaxListeners(500);\r\nlet emitterOn = emitter.on;\r\nemitter.on = function(type, listner){\r\n    emitter.removeAllListeners(type);\r\n    let args = [type, listner];\r\n    emitterOn.apply(emitter, args);\r\n};\r\nemitter.ons = function(type, listner){\r\nlet args = [type, listner];\r\nemitterOn.apply(emitter, args);\r\n}\r\n\r\nlet message={\r\n    success:function(){emitter.emit('antdmessage-success',arguments)},\r\n    warn:function(){emitter.emit('antdmessage-warn',arguments)},\r\n    error:function(){emitter.emit('antdmessage-error',arguments)}\r\n};\r\n\r\nlet _parentUtil = (current, cond, mode='class') => {\r\n    if(current){\r\n        let parent = current.parentNode;\r\n        while(parent){\r\n            if(parent == document.body){\r\n                return;\r\n            }\r\n            if(mode==='class'){\r\n                if(parent.classList.contains(cond)){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }else if(mode==='style'){\r\n                if(!cond || typeof cond != 'object'){\r\n                    return;\r\n                }\r\n                let matched = false;\r\n                let styles = window.getComputedStyle(parent);\r\n                for(let k in cond){\r\n                    if(styles[k] === cond[k]){\r\n                        matched = true;\r\n                    }\r\n                }\r\n                if(matched){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nlet _showFieldError = (target, isValid, msg) => {\r\n    if(target){// input框\r\n\t\tif(target.classList.contains('am-list-item') || target.classList.contains('am-picker-popup') || target.classList.contains('am-stepper')){// antd-mobile\r\n\t\t\tlet classList=target.classList;\r\n\t\t\tif(!isValid){\r\n\t\t\t\tif(!classList.contains('has-error')){\r\n\t\t\t\t\tclassList.add('has-error');\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet formExplain=target.querySelector('.ant-form-explain');\r\n\t\t\t\t\tif(!formExplain){\r\n\t\t\t\t\t\tlet errorMsgEl = document.createElement('div');\r\n\t\t\t\t\t\terrorMsgEl.innerText = msg;\r\n\t\t\t\t\t\terrorMsgEl.classList.add('ant-form-explain');\r\n\t\t\t\t\t\terrorMsgEl.classList.add('custom-form-invalid-explain');\r\n\t\t\t\t\t\ttarget.appendChild(errorMsgEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget.childNodes[target.childNodes.length-1].innerText = msg;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tclassList.remove('has-error');\r\n\t\t\t\tlet explain = target.querySelector('.ant-form-explain');\r\n\t\t\t\texplain && explain.remove();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n        let currentFormItemControl = _parentUtil(target, 'ant-form-item-control');\r\n        let formItem = _parentUtil(target, 'ant-form-item');\r\n        let classList = currentFormItemControl.classList;\r\n        if(!isValid){// 校验未通过  \r\n            if(!classList.contains('has-error')){// 不含错误样式\r\n                classList.add('has-error');\r\n                !formItem.classList.contains('ant-form-item-with-help') && formItem.classList.add('ant-form-item-with-help');\r\n\t\t\t\tif(currentFormItemControl.querySelector('.ant-form-explain')){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n                let errorMsgEl = document.createElement('div');\r\n                if (target.tagName == 'INPUT') {\r\n                    target.onfocus=function(){\r\n                        errorMsgEl.style.display='block';\r\n                    };\r\n                    target.onblur=function(){\r\n                        errorMsgEl.style.display='none';\r\n                    };\r\n                }\r\n                \r\n                errorMsgEl.innerText = msg;\r\n                errorMsgEl.classList.add('ant-form-explain');\r\n                errorMsgEl.classList.add('custom-form-invalid-explain');\r\n                currentFormItemControl.appendChild(errorMsgEl);\r\n            }else{\r\n                currentFormItemControl.childNodes[currentFormItemControl.childNodes.length-1].innerText = msg;\r\n            }\r\n        }else{\r\n            classList.remove('has-error');\r\n            let explain = currentFormItemControl.querySelector('.ant-form-explain');\r\n            explain && explain.remove();\r\n            formItem.classList.contains('ant-form-item-with-help') && formItem.classList.remove('ant-form-item-with-help');\r\n        }\r\n    }\r\n}\r\n\r\nlet _getFormElementByFieldName = function(fieldName,ognlPrefix){\r\n    let pContainer = '';\r\n    if(this['__formClassName_']){\r\n        pContainer = '.' + this['__formClassName_'] + ' ';\r\n    }\r\n    let eles = document.querySelectorAll(pContainer+'.'+getUniqClassName(fieldName,this['__validField_'+fieldName]&&this['__validField_'+fieldName].idPrefix,ognlPrefix));\r\n    if(!eles){\r\n        return undefined;\r\n    }\r\n    if(eles&&eles.length==1){\r\n        return eles[0];\r\n    }\r\n    let newEles=[];\r\n    if(eles.length>1){\r\n        let zIndex = 0;\r\n        for (let i = 0; i <eles.length; i++) {\r\n            // 多个处理\r\n            let parentNode = _parentUtil(eles[i],{display:'none'},'style');\r\n            if(parentNode){// 找到了父节点有隐藏的，则不要\r\n                continue;\r\n            }\r\n            newEles.push(eles[i]);\r\n        }\r\n        if(newEles.length==1)return newEles[0];\r\n        if(newEles.length>1){\r\n            for (let i = 0; i <newEles.length; i++) {\r\n                // 多个处理\r\n                let parentNode = _parentUtil(newEles[i],'ant-modal-body','class');\r\n                if(parentNode){// 找到了父节点在modal中，则优先\r\n                    return newEles[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet _triggerFieldValidation = function(rules, fieldName, ognlPrefix, context, cb){// cb只能回调一次\r\n    let target = _getFormElementByFieldName.call(this,fieldName,ognlPrefix);\r\n    let isValid = true;\r\n    if(!target){// dom元素已不存在，则不校验\r\n        return isValid;\r\n    }\r\n    let msg;\r\n    let formValues = this.state.formValues||{};\r\n    if(!context){\r\n        context = formValues;\r\n    }\r\n    let asyncCount = rules.length;// 用于保证只回调一次\r\n    for (let i = 0; i < rules.length; i++) {// rules都走一遍，尝试发现校验不过的rule\r\n        let rule = rules[i];\r\n        if(isValid){\r\n            if(rule.required === true){\r\n                let contextVal=context[fieldName];\r\n                if(!contextVal || (Array.isArray(contextVal)&&contextVal.length==0)){\r\n                    isValid = false;\r\n                    if(rule.message){\r\n                        msg = rule.message;\r\n                    }\r\n                }\r\n                if(!msg){\r\n                    msg = '必填';\r\n                }\r\n                asyncCount--;// required场景校验完毕\r\n            }else if(rule.validator){\r\n                if(rule.validator.length >= 3){// ant-form风格validator，支持异步回调的校验\r\n                    let onlyOnce = 1;\r\n                    rule.validator.call(this,rule,context[fieldName],function(err){// 有可能就是同步执行的，当然也可能异步\r\n                        onlyOnce--;\r\n                        if(onlyOnce==0){\r\n                            asyncCount--;// 异步场景校验完毕\r\n                            if(err){\r\n                                isValid = false;\r\n                                if(err instanceof Error){\r\n                                    err = err.message;\r\n                                }\r\n                                msg = err;\r\n                            }\r\n                            _showFieldError(target,isValid,msg);\r\n                            this.isFormFiledsValid=isValid;\r\n                            if(asyncCount==0){// 全校验完了\r\n                                asyncCount--;// 防止后面重复调\r\n                                if(!isValid){\r\n                                    cb&&cb(false, fieldName);\r\n                                }else{\r\n                                    cb&&cb(true, fieldName);\r\n                                }\r\n                            }\r\n                        }\r\n                    },context);\r\n                }else{// 自定义同步风格\r\n                    if(!rule.validator.call(this, context[fieldName], context)){\r\n                        isValid = false;\r\n                        if(rule.message){\r\n                            msg = rule.message;\r\n                        }\r\n                    }\r\n                    asyncCount--;// 同步场景校验完毕\r\n                }\r\n            }else{\r\n                asyncCount--;// 无场景校验完毕\r\n            }\r\n        }else{\r\n            asyncCount--;// 已经无效后续rule当成校验完毕(其实未校验)\r\n        }\r\n    }\r\n    if(asyncCount==0){// 全走完\r\n        asyncCount--;// 避免重复回调\r\n        _showFieldError(target,isValid,msg);\r\n        this.isFormFiledsValid=isValid;\r\n        if(!isValid){\r\n            cb&&cb(false, fieldName);\r\n        }else{\r\n            cb&&cb(true, fieldName);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getUniqClassName(fieldName,idPrefix,ognlPrefix){\r\n    if(ognlPrefix){\r\n        fieldName = ognlPrefix + fieldName;\r\n    }\r\n    let className = (idPrefix ? idPrefix : 'form-custom-id-') + fieldName;\r\n    className = className.replace(/[\\]\\[\\.]/g, '-');\r\n    return className;\r\n}\r\n\r\nlet util = {\r\n     getField : function(fieldName,options) {// fieldName支持嵌套模式a[0].b.c，将复杂表单对象拍成扁平的，提交时需要立体对象可调用util.form2js，查询后需要还原为扁平对象渲染调用util.js2form，嵌套的子组件采用context传递父对象进行bind\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + fieldName] = {fieldName,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              formValues={};\r\n            }\r\n\r\n            formValues[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName);\r\n                }\r\n                if(options.noChineseSymbol){\r\n                    let fv = formValues[fieldName];\r\n                    if(fv&&(fv.indexOf('（')>-1 || fv.indexOf('）')>-1 || fv.indexOf('“')>-1 || fv.indexOf('”')>-1|| fv.indexOf('，')>-1|| fv.indexOf('：')>-1 || fv.indexOf('；')>-1 || fv.indexOf('！')>-1)){\r\n                        message.warn('亲的输入中含有中文符号! 常见的有:“”（）；，！：');\r\n                        fv = fv.replace(/[（）“”，：；！]/g, '');\r\n                        formValues[fieldName] = fv;\r\n                    }\r\n                }\r\n                if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                    if(Array.isArray(formValues[fieldName]))\r\n                    formValues[fieldName]=formValues[fieldName][0];\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            })\r\n          },\r\n          value:this.state.formValues?this.state.formValues[fieldName]:undefined,\r\n          className\r\n        };\r\n        if(options){\r\n            if(options.mode=='checkbox'){\r\n                fieldProp.checked = this.state.formValues?this.state.formValues[fieldName]:undefined;\r\n                delete fieldProp.value;\r\n            }else if(options.mode=='RangePickerDate'){// 选日期范围，做规整\r\n                if(fieldProp.value&&fieldProp.value.length==2){\r\n                    fieldProp.value[0]=fieldProp.value[0].startOf('day');\r\n                    fieldProp.value[1]=fieldProp.value[1].endOf('day');\r\n                }\r\n            }else if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                if(!Array.isArray(fieldProp.value))\r\n                    fieldProp.value=[fieldProp.value];\r\n            }\r\n        }\r\n        return fieldProp;\r\n    },\r\n    getSubField:function(ognlPrefix,fieldName,context,options){// 复杂表单使用，存在嵌套多层字段；由于唯一标识需要，需要通过ognlPrefix来区分，ognlPrefix本身是个ognl，为截止到当前字段的前缀:如a.b[1]，其ognl的含义就是指向context，fieldName字段名c，context当前字段的载体父对象如formValues.a.b[1]，如果位于根对象上，请传formValues或不传\r\n        ognlPrefix = ognlPrefix||'';\r\n        if(ognlPrefix.startsWith('formValues.')){\r\n            ognlPrefix = ognlPrefix.substring('formValues.'.length);\r\n        }\r\n        if(!context){\r\n            context = this.state.formValues||{};\r\n        }\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + ognlPrefix+fieldName] = {fieldName,ognlPrefix,context,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix, ognlPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              context=formValues={};\r\n            }\r\n            context[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName, ognlPrefix, context);\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            });// 触发render以使得context的修改生效，其实就是为下面的value服务\r\n          },\r\n          value:context[fieldName],\r\n          className\r\n        };\r\n        if(options&&options.mode=='checkbox'){\r\n            fieldProp.checked = context[fieldName];\r\n            delete fieldProp.value;\r\n        }\r\n        return fieldProp;\r\n    },\r\n    clearValidateFields:function(){\r\n        for(let k in this){\r\n            if(k.startsWith('__validField_')){\r\n                delete this[k];\r\n            }\r\n        }\r\n    },\r\n    getEventTargetValue:function(e){\r\n        if(!e)return e;\r\n        if (typeof e == 'string' || typeof e == 'number' || typeof e == 'boolean') {\r\n            return e;\r\n        } else {\r\n            if(typeof e == 'object' && e.hasOwnProperty('length')){\r\n                return e;\r\n            }\r\n            if(e&&e.target){\r\n                let fieldVal = e.target.value;\r\n                if(e.target.hasOwnProperty('checked') && e.target.type!='radio'){\r\n                    fieldVal = e.target.checked;\r\n                }\r\n                return fieldVal;\r\n            }\r\n            if(e.valueOf&&typeof e.valueOf == 'function'){\r\n                return e;\r\n            }\r\n        }\r\n    },\r\n    validateFields:function(callback,validFields){// 表单提交时，自动触发所有校验，通过后方可回调\r\n        if(!validFields){// 只校验的字段\r\n            validFields=[];\r\n        }\r\n        validFields = validFields.map(vf=>'__validField_'+vf);\r\n        let isFormValid = true;\r\n        let validateKeys = [];// 需要校验的字段\r\n        for(let vkey in this){\r\n            if(vkey.startsWith('__validField_')){\r\n                if(validFields.length > 0 && validFields.indexOf(vkey) === -1){\r\n                    continue;\r\n                }\r\n                let target = _getFormElementByFieldName.call(this,this[vkey].fieldName,this[vkey].ognlPrefix);\r\n                if(!target){\r\n                    continue;\r\n                }\r\n                validateKeys.push(vkey);\r\n            }\r\n        }\r\n        let validCount = validateKeys.length;\r\n        for(let i=0;i<validateKeys.length;i++){\r\n            let vkey = validateKeys[i];\r\n            _triggerFieldValidation.call(this, this[vkey].rules,this[vkey].fieldName, this[vkey].ognlPrefix, this[vkey].context, (valid,fieldName)=>{// 确保一次trigger只回调一次\r\n                if(valid){\r\n                    validCount--;\r\n                    if(validCount===0){\r\n                        validCount--;\r\n                        callback(util._convertFormValues(this.state.formValues));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if(validCount===0){\r\n            validCount--;\r\n            callback(util._convertFormValues(this.state.formValues));\r\n        }\r\n    },\r\n    _convertFormValues:function(formValues){// 日期moment的通用转换，省的后端老转\r\n        if(!formValues)return formValues;\r\n        let newFormValues={};\r\n        for(let k in formValues){\r\n            let formValue=formValues[k];\r\n            if(formValue&&formValue._isAMomentObject){\r\n                newFormValues[k]=util.formatDate(formValue);\r\n            }else{\r\n                newFormValues[k]=formValue;\r\n            }\r\n        }\r\n        return newFormValues;\r\n    },\r\n    showFieldError:_showFieldError,\r\n\r\n\r\n    getComponent:function(component,ops){\r\n        ops && component.props && (component.props.value=ops.value);\r\n        return component;\r\n    },\r\n    form2js:function(nameValues, skipEmpty){\r\n        let result = {},\r\n            arrays = {},\r\n            delimiter = '.',\r\n            j, k, l,\r\n            value,\r\n            nameParts,\r\n            currResult,\r\n            arrNameFull,\r\n            arrName,\r\n            arrIdx,\r\n            namePart,\r\n            _nameParts;\r\n        let sortedNameValues={},keys=[];\r\n        for(let k in nameValues){\r\n            keys.push(k);\r\n        }\r\n        keys.sort();\r\n        for(let k of keys){\r\n            sortedNameValues[k]=nameValues[k];\r\n        }\r\n        nameValues=sortedNameValues;\r\n        for (let name in nameValues)\r\n        {\r\n            value = nameValues[name];\r\n\r\n            if (skipEmpty && (value === '' || value === null)) continue;\r\n            _nameParts = name.split(delimiter);\r\n            nameParts = [];\r\n            currResult = result;\r\n            arrNameFull = '';\r\n\r\n            for(j = 0; j < _nameParts.length; j++)\r\n            {\r\n                namePart = _nameParts[j].split('][');\r\n                if (namePart.length > 1)\r\n                {\r\n                    for(k = 0; k < namePart.length; k++)\r\n                    {\r\n                        if (k === 0)\r\n                        {\r\n                            namePart[k] = namePart[k] + ']';\r\n                        }\r\n                        else if (k === namePart.length - 1)\r\n                        {\r\n                            namePart[k] = '[' + namePart[k];\r\n                        }\r\n                        else\r\n                        {\r\n                            namePart[k] = '[' + namePart[k] + ']';\r\n                        }\r\n\r\n                        arrIdx = namePart[k].match(/([a-z_]+)?\\[([a-z_][a-z0-9_]+?)\\]/i);\r\n                        if (arrIdx)\r\n                        {\r\n                            for(l = 1; l < arrIdx.length; l++)\r\n                            {\r\n                                if (arrIdx[l]) nameParts.push(arrIdx[l]);\r\n                            }\r\n                        }\r\n                        else{\r\n                            nameParts.push(namePart[k]);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    nameParts = nameParts.concat(namePart);\r\n            }\r\n\r\n            for (j = 0; j < nameParts.length; j++)\r\n            {\r\n                namePart = nameParts[j];\r\n\r\n                if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrNameFull += arrName;\r\n\r\n                    if (!currResult[arrName]) currResult[arrName] = [];\r\n                    currResult[arrName].push(value);\r\n                }\r\n                else if (namePart.indexOf('[') > -1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrIdx = namePart.replace(/(^([a-z_]+)?\\[)|(\\]$)/gi, '');\r\n\r\n                    /* Unique array name */\r\n                    arrNameFull += '_' + arrName + '_' + arrIdx;\r\n\r\n                    /*\r\n                     * Because arrIdx in field name can be not zero-based and step can be\r\n                     * other than 1, we can't use them in target array directly.\r\n                     * Instead we're making a hash where key is arrIdx and value is a reference to\r\n                     * added array element\r\n                     */\r\n\r\n                    if (!arrays[arrNameFull]) arrays[arrNameFull] = {};\r\n                    if (arrName !== '' && !currResult[arrName]) currResult[arrName] = [];\r\n\r\n                    if (j === nameParts.length - 1)\r\n                    {\r\n                        if (arrName === '')\r\n                        {\r\n                            currResult.push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];\r\n                        }\r\n                        else\r\n                        {\r\n                            currResult[arrName].push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (!arrays[arrNameFull][arrIdx])\r\n                        {\r\n                            if ((/^[0-9a-z_]+\\[?/i).test(nameParts[j+1])) currResult[arrName].push({});\r\n                            else currResult[arrName].push([]);\r\n\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n\r\n                    currResult = arrays[arrNameFull][arrIdx];\r\n                }\r\n                else\r\n                {\r\n                    arrNameFull += namePart;\r\n\r\n                    if (j < nameParts.length - 1) /* Not the last part of name - means object */\r\n                    {\r\n                        if (!currResult[namePart]) currResult[namePart] = {};\r\n                        currResult = currResult[namePart];\r\n                    }\r\n                    else\r\n                    {\r\n                        currResult[namePart] = value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    js2form:function(obj){\r\n        let results = util._js2formResults(obj);\r\n        if(results){\r\n            let formObj={};\r\n            for (let i = 0;i<results.length;i++) {\r\n                formObj[results[i].name] = results[i].value;\r\n            }\r\n            return formObj;\r\n        }else{\r\n            return undefined;\r\n        }\r\n    },\r\n\r\n    _js2formResults:function(obj, lvl) {\r\n        let result = [], i, name;\r\n        if (arguments.length === 1) lvl = 0;\r\n\r\n        if (obj == null)\r\n        {\r\n            result = [{ name: \"\", value: null }];\r\n        }\r\n        else if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || obj instanceof Date)\r\n        {\r\n            result = [\r\n                { name: \"\", value : obj }\r\n            ];\r\n        }\r\n        else if (obj instanceof Array)\r\n        {\r\n            for (i = 0; i < obj.length; i++)\r\n            {\r\n                name = \"[\" + i + \"]\";\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (i in obj)\r\n            {\r\n                name = i;\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    _getSubValues:function(subObj, name, lvl)\r\n    {\r\n        let itemName;\r\n        let result = [], tempResult = util._js2formResults(subObj, lvl + 1), i, tempItem;\r\n\r\n        for (i = 0; i < tempResult.length; i++)\r\n        {\r\n            itemName = name;\r\n            if (/^\\[\\d+?\\]/.test(tempResult[i].name))\r\n            {\r\n                itemName += tempResult[i].name;\r\n            }\r\n            else if (/^[a-zA-Z_][a-zA-Z_0-9]*/.test(tempResult[i].name))\r\n            {\r\n                itemName += '.' + tempResult[i].name;\r\n            }\r\n\r\n            tempItem = { name: itemName, value: tempResult[i].value };\r\n            result.push(tempItem);\r\n        }\r\n\r\n        return result;\r\n    },\r\n\tgetUrlParams:function() {\r\n\t\tlet url = window.location.search; // 获取url中\"?\"符后的字串\r\n\t\tlet theRequest={}, idx;\r\n\t\tif ((idx=url.indexOf(\"?\")) != -1) {\r\n\t\t\tlet str = url.substring(idx+1);\r\n\t\t\tlet strs = str.split(\"&\");\r\n\t\t\tfor(let i = 0; i < strs.length; i++) {\r\n\t\t\t\tlet pair=strs[i].split(\"=\");\r\n\t\t\t\ttheRequest[pair[0]]=decodeURIComponent(pair[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn theRequest;\r\n\t},\r\n    ajax:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('system error' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('error' + ':\\n' + (result.message?result.message:''), 3);\r\n                }\r\n                if(!result){\r\n                    message.error('interface error');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     post:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('系统错误' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            type:'POST',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('业务错误' + ':\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'')));\r\n                }\r\n                if(!result){\r\n                    message.error('系统接口错误');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJson:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('network error' + '\\n' + response);\r\n     },options={})=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        minAjax({\r\n            ...options,\r\n            url:url,\r\n            data:dataStr,\r\n            async:true,\r\n            type:'POST',\r\n            contentType:'text/plain;charset=UTF-8',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false && data.noErrAlert!==true){\r\n                   message.error('服务接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                }\r\n                successCallback(result,xhr);\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJsonAsync:(url, data)=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        let promise=new Promise((successCallback,errorCallback)=>{\r\n            minAjax({\r\n                url:url,\r\n                data:dataStr,\r\n                async:true,\r\n                type:'POST',\r\n                contentType:'text/plain;charset=UTF-8',\r\n                xhrFields:{\r\n                  withCredentials:true\r\n                },\r\n                success:(result,xhr)=>{\r\n                    if(result && result.success === false && data.noErrAlert!==true){\r\n                       message.error('接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.failMessage?result.failMessage:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                    }\r\n                    successCallback(result,xhr);\r\n                },\r\n                error:errorCallback?errorCallback:(response)=>{\r\n                    message.error('network error' + '\\n' + response);\r\n                }\r\n            });\r\n        });\r\n        \r\n        return promise;\r\n     },\r\n     isEmpty:obj => {\r\n         if (obj == undefined || obj == null || (typeof obj == 'string' && '' == obj.trim())) {\r\n             return true;\r\n         }\r\n         return false;\r\n     },\r\n     getStringValue:obj => {\r\n        if(obj === undefined || obj === null){\r\n            return '';\r\n        }\r\n        if(typeof obj == 'object'){\r\n            return JSON.stringify(obj);\r\n        }\r\n        return obj + '';\r\n     },\r\n     convertStr2Num:(queryCond, name)=>{\r\n        if(queryCond[name] !== undefined){\r\n          if(queryCond[name] === '0' || queryCond[name] === 0 || queryCond[name] === ''){\r\n            delete queryCond[name];\r\n          }else{\r\n            queryCond[name] = +queryCond[name];\r\n          } \r\n        }\r\n     },\r\n     mask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.createElement('span');\r\n            maskElement.id='myCustomAntdMask';\r\n            domElement.appendChild(maskElement);\r\n            domElement.classList.add(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     unmask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.getElementById('myCustomAntdMask');\r\n            if(maskElement){\r\n                maskElement.remove();\r\n            }\r\n            domElement.classList.remove(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     formatDate : (date, style) => {\r\n        if (!date && 0 !== date) {\r\n            return;\r\n        }\r\n        if (!style) {\r\n            style = 'yyyy-MM-dd hh:mm:ss';\r\n        }\r\n        if(date._isAMomentObject){\r\n            date = date.valueOf();\r\n        }\r\n        let shortYear=false;\r\n        if(style.startsWith('yy-')||style.startsWith('yy年')){\r\n            style='yy'+style;\r\n            shortYear=true;\r\n        }\r\n        if (typeof date == 'string' || typeof date == 'number') {\r\n            date = new Date(date);\r\n        }else if(typeof date == 'object' && typeof date.getFullYear == 'function'){\r\n\r\n        }else{\r\n            return '格式错误';\r\n        }\r\n        let y = date.getFullYear();    \r\n        let M = \"0\" + (date.getMonth() + 1);    \r\n        M = M.substring(M.length - 2);   \r\n        let d = \"0\" + date.getDate();   \r\n        d = d.substring(d.length - 2);    \r\n        let h = \"0\" + date.getHours();    \r\n        h = h.substring(h.length - 2);    \r\n        let m = \"0\" + date.getMinutes();    \r\n        m = m.substring(m.length - 2);   \r\n        let s = \"0\" + date.getSeconds();    \r\n        s = s.substring(s.length - 2);   \r\n        let result=style.replace('yyyy', y).replace('MM', M).replace('dd', d).replace('hh', h).replace('mm', m).replace('ss', s);\r\n        if(shortYear){\r\n            result=result.substring(2);\r\n        }\r\n        return result;\r\n     },\r\n     guid: ()=> {\r\n        return 'xxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n    getFileBase64: function(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    },\r\n    round: function(number){\r\n        if(isNaN(number))return number;\r\n        return Math.round(number * 100) / 100;\r\n    },\r\n     getShortDate:function(timestamp, short){\r\n        let now=new Date().getTime();\r\n        if(Math.abs(now-timestamp) < 86400000){\r\n            let fd=util.formatDate(timestamp, 'hh:mm:ss');\r\n            if(short){\r\n                return fd.substring(3);\r\n            }\r\n            return fd;\r\n        }else{\r\n            let fd=util.formatDate(timestamp, 'yyyy-MM-dd');\r\n            if(short){\r\n                return fd.substring(2);\r\n            }\r\n            return fd;\r\n        }\r\n     },\r\n     setAllNum2Str:function(data){\r\n        if(data){\r\n            for(let k in data){\r\n                if(typeof data[k] === 'number'){\r\n                    data[k] = data[k] + '';\r\n                }\r\n            }\r\n        }\r\n     },\r\n     tuomin:function(data,count=1){\r\n        if(data){\r\n            data=data+'';\r\n            if(this.isChinese(data)&&data.length > 1&&data.length<5){\r\n                return data[0] + '*'.repeat(data.length-1);\r\n            }\r\n            if(data.length==3){\r\n                return data[0]+'*'+data[2];\r\n            }\r\n            if(data.length<=count+1){\r\n                return data[0]+'*';\r\n            }\r\n            let dotStr='.'.repeat(count);\r\n            if(new RegExp(`^${dotStr}(.*)${dotStr}`,'g').test(data)){\r\n                return data.replace(RegExp.$1, '*'.repeat(RegExp.$1.length));\r\n            }\r\n        }else{\r\n            return data;\r\n        }\r\n     },\r\n     isChinese:function(s){\r\n        let patrn= /[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi;\r\n        return patrn.exec(s);\r\n     },\r\n     convertToChinaNum:function(num) {\r\n        let arr1 = new Array('零', '一', '二', '三', '四', '五', '六', '七', '八', '九');\r\n        let arr2 = new Array('', '十', '百', '千', '万', '十', '百', '千', '亿', '十', '百', '千','万', '十', '百', '千','亿');//可继续追加更高位转换值\r\n        if(!num || isNaN(num)){\r\n            return \"零\";\r\n        }\r\n        if((num+'').indexOf('.')==num.length-1)return '';\r\n        let english = num.toString().split(\"\")\r\n        let result = \"\";\r\n        for (let i = 0; i < english.length; i++) {\r\n            let des_i = english.length - 1 - i;//倒序排列设值\r\n            result = arr2[i] + result;\r\n            let arr1_index = english[des_i];\r\n            result = arr1[arr1_index] + result;\r\n        }\r\n        //将【零千、零百】换成【零】 【十零】换成【十】\r\n        result = result.replace(/零(千|百|十)/g, '零').replace(/十零/g, '十');\r\n        //合并中间多个零为一个零\r\n        result = result.replace(/零+/g, '零');\r\n        //将【零亿】换成【亿】【零万】换成【万】\r\n        result = result.replace(/零亿/g, '亿').replace(/零万/g, '万');\r\n        //将【亿万】换成【亿】\r\n        result = result.replace(/亿万/g, '亿');\r\n        //移除末尾的零\r\n        result = result.replace(/零+$/, '')\r\n        //将【零一十】换成【零十】\r\n        //result = result.replace(/零一十/g, '零十');//貌似正规读法是零一十\r\n        //将【一十】换成【十】\r\n        result = result.replace(/^一十/g, '十');\r\n        return result;\r\n     },\r\n     encode:function(str){\r\n        return window.btoa(unescape(encodeURIComponent(str)));\r\n     },\r\n     decode:function(str){\r\n        return decodeURIComponent(escape(window.atob(str)));\r\n     },\r\n     getJSONString:function(obj){// js风格的伪json，转为真json\r\n        if(!obj){\r\n            return obj;\r\n        }\r\n        if (typeof obj == 'string'){\r\n            try{\r\n                JSON.parse(obj);\r\n                return obj;\r\n            }catch(e){\r\n                return JSON.stringify(eval(`(${obj})`));\r\n            }\r\n        }\r\n     },\r\n     getJSON:function(str){\r\n        let paramObj;\r\n        if(!str){\r\n            return paramObj;\r\n        }\r\n        str = window.removeCommentFromJSON(str);\r\n        try{\r\n            paramObj=JSON.parse(str);\r\n        }catch(e){\r\n            try{\r\n              paramObj=eval(`(${str})`);\r\n            }catch(e1){\r\n            }\r\n        }\r\n        return paramObj;\r\n     },\r\n     getCookie:function(key){\r\n        let result = key ? undefined : {};\r\n        let cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\r\n        for (let i = 0, l = cookies.length; i < l; i++) {\r\n            let parts = cookies[i].split('=');\r\n            let name = parts.shift();\r\n            let cookie = parts.join('=');\r\n\r\n            if (key && key === name) {\r\n                // If second argument (value) is a function it's a converter...\r\n                result = cookie;\r\n                break;\r\n            }\r\n            // Prevent storing a cookie that we couldn't decode.\r\n            if (!key && cookie !== undefined) {\r\n                result[name] = cookie;\r\n            }\r\n        }\r\n        return result;\r\n     },\r\n     pushAt:function(arr,idx,obj){\r\n        if(arr&&idx>=0&&arr.length>=idx){\r\n            let newArr=[];\r\n            for(let i=0;i<arr.length;i++){\r\n                if(i==idx){\r\n                    newArr.push(obj);\r\n                }\r\n                newArr.push(arr[i]);\r\n            }\r\n            if(idx==arr.length){\r\n                newArr.push(obj);\r\n            }\r\n            return newArr;\r\n        }\r\n        return arr;\r\n     },\r\n\r\n     throttle:function( delay, no_trailing, callback, debounce_mode ) {\r\n        // After wrapper has stopped being called, this timeout ensures that\r\n        // `callback` is executed at the proper times in `throttle` and `end`\r\n        // debounce modes.\r\n        let timeout_id,\r\n          \r\n          // Keep track of the last time `callback` was executed.\r\n          last_exec = 0;\r\n        \r\n        // `no_trailing` defaults to falsy.\r\n        if ( typeof no_trailing !== 'boolean' ) {\r\n          debounce_mode = callback;\r\n          callback = no_trailing;\r\n          no_trailing = undefined;\r\n        }\r\n        \r\n        // The `wrapper` function encapsulates all of the throttling / debouncing\r\n        // functionality and when executed will limit the rate at which `callback`\r\n        // is executed.\r\n        function wrapper() {\r\n          let that = this,\r\n            elapsed = +new Date() - last_exec,\r\n            args = arguments;\r\n          \r\n          // Execute `callback` and update the `last_exec` timestamp.\r\n          function exec() {\r\n            last_exec = +new Date();\r\n            callback.apply( that, args );\r\n          }\r\n          \r\n          // If `debounce_mode` is true (at_begin) this is used to clear the flag\r\n          // to allow future `callback` executions.\r\n          function clear() {\r\n            timeout_id = undefined;\r\n          }\r\n          \r\n          if ( debounce_mode && !timeout_id ) {\r\n            // Since `wrapper` is being called for the first time and\r\n            // `debounce_mode` is true (at_begin), execute `callback`.\r\n            exec();\r\n          }\r\n          \r\n          // Clear any existing timeout.\r\n          timeout_id && clearTimeout( timeout_id );\r\n          \r\n          if ( debounce_mode === undefined && elapsed > delay ) {\r\n            // In throttle mode, if `delay` time has been exceeded, execute\r\n            // `callback`.\r\n            exec();\r\n            \r\n          } else if ( no_trailing !== true ) {\r\n            // In trailing throttle mode, since `delay` time has not been\r\n            // exceeded, schedule `callback` to execute `delay` ms after most\r\n            // recent execution.\r\n            // \r\n            // If `debounce_mode` is true (at_begin), schedule `clear` to execute\r\n            // after `delay` ms.\r\n            // \r\n            // If `debounce_mode` is false (at end), schedule `callback` to\r\n            // execute after `delay` ms.\r\n            timeout_id = setTimeout( debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay );\r\n          }\r\n        }\r\n        \r\n        // Return the wrapper function.\r\n        return wrapper;\r\n      },\r\n      debounce:function( delay, at_begin, callback ) {\r\n        return callback === undefined\r\n          ? util.throttle( delay, at_begin, false )\r\n          : util.throttle( delay, callback, at_begin !== false );\r\n      },\r\n\r\n      mixUids:[\"MTkxNzB4kZ1mMtYWZiNCx04450ZDcwLTg2OD5ktN75zQ2MGEwZjhh7YWU0\",\r\n                \"ZDg4ODVkZjQtNzRmZS00NTdjLWIyMmMtMTU2MjBmZT4m4fgxNzY4\",\r\n                \"NmVmNDVmZ434TUtZGJmYS00MjYxLTk1NGEtOTc4OTY3MjMyYTA4\",\r\n                \"ODA4NTdkwZD44AtOWJmYi00YTQzLWJjNDYtMTRmODNMzE5MWI3\",\r\n                \"MTAyYmRiZ5jAtOTQ0Ni00ZGJkLWI3MmUtNm5YzODRkYmM5NzNk\",\r\n                \"MfWI4Y2MzY5mUtYmYyNi00OWE3LTkyY1zEtMDYo53NzB3kYT77A0NjY0\"],\r\n      mixStr:function(str){\r\n        if(!str)return str;\r\n        let reverseBase64=base64url.encode(str.split(\"\").reverse().join(\"\"));\r\n        let rChars=reverseBase64.split(\"\");\r\n        for(let uid of util.mixUids){\r\n            let rIdx=Math.trunc(Math.random()*(rChars.length-1));\r\n            rChars.splice(rIdx,0,uid);\r\n        }\r\n        return `7$1y$${rChars.join(\"\")}2$6x$`;\r\n      },\r\n      unMixStr:function(str){\r\n        if(!str)return str;\r\n        if(str.startsWith('7$1y$')&&str.endsWith('2$6x$')){\r\n            for(let uid of util.mixUids){\r\n                str = str.replace(uid, \"\");\r\n            }\r\n            return base64url.decode(str.substring(5, str.length - 5)).split('').reverse().join('');\r\n        }\r\n        return str;\r\n      }\r\n };\r\n\r\n function initXMLhttp() {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        //code for IE7,firefox chrome and above\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else if(window.ActiveXObject){\r\n        //code for Internet Explorer\r\n        xmlhttp = new window.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return xmlhttp;\r\n}\r\n\r\nfunction sign(str=''){\r\n    return md5(str);\r\n}\r\n\r\nexport function minAjax(config) {\r\n    if (!config.url) {\r\n        return;\r\n    }\r\n    if (!config.type) {\r\n        config.type = 'GET';\r\n    }\r\n    if (!config.debugLog) {\r\n        config.debugLog = false;\r\n    }\r\n\r\n    let xmlhttp = initXMLhttp();\r\n    if ( config.xhrFields ) {\r\n        for (let i in config.xhrFields ) {\r\n            xmlhttp[ i ] = config.xhrFields[ i ];\r\n        }\r\n    }\r\n    if (!config.contentType) {\r\n        config.contentType = \"application/x-www-form-urlencoded\";\r\n    }\r\n    if (!config.dataType) {\r\n        config.dataType = 'json';\r\n    }\r\n    \r\n    xmlhttp.onreadystatechange = () => {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            if (config.success) {\r\n                let response = xmlhttp.responseText;\r\n                if(response&&config.dataType == 'json'){\r\n                    response = JSON.parse(response);\r\n                    // response._account=decodeURIComponent(xmlhttp.getResponseHeader('_account'));\r\n                }\r\n                config.success(response,xmlhttp);\r\n            }\r\n        }\r\n        if(xmlhttp.status == 333){\r\n            emitter.emit('goto-login',{config,body:xmlhttp.responseText});\r\n            return;\r\n        }\r\n        if(xmlhttp.status == 403){// 自定义代码块\r\n            return message.error(\"无权限!\");\r\n        }\r\n        if(xmlhttp.status == 431){\r\n            return message.error(\"服务查询失败!\");\r\n        }\r\n        if(xmlhttp.status == 432){\r\n            return message.error(\"服务不存在!\");\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status > 200) {\r\n            let errorInfo = xmlhttp.responseText;\r\n            let rspContentType = xmlhttp.getResponseHeader('Content-Type');\r\n            if(rspContentType&&rspContentType.indexOf('json') > -1){\r\n                let rsp = JSON.parse(xmlhttp.responseText);\r\n                if(rsp.errors&&rsp.errors){\r\n                    errorInfo = JSON.stringify(rsp.errors);\r\n                }\r\n            }\r\n            message.info(errorInfo, 3);\r\n\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n\r\n            return;\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 0) {\r\n            message.error(`网络错误，请确认服务器地址 '${config.url}' 可用!`);\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n        }\r\n    };\r\n    let sendString = [],\r\n        sendData = config.data;\r\n    if( typeof sendData === \"string\" ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            let tmpArr = String.prototype.split.call(sendData,'&');\r\n            for(let i = 0, j = tmpArr.length; i < j; i++){\r\n                let datum = tmpArr[i].split('=');\r\n                sendString.push(datum[0] + \"=\" + encodeURIComponent(datum[1]));\r\n            }\r\n        } else {\r\n            sendString.push(sendData);\r\n        }\r\n    }else if( typeof sendData === 'object' && !( sendData instanceof String || (FormData && sendData instanceof FormData) ) ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            for (let k in sendData) {\r\n                let datum = sendData[k];\r\n                if(datum && typeof datum === 'string'){\r\n                    datum = datum.trim();\r\n                }\r\n                if(datum || 0===datum){\r\n                    if( Object.prototype.toString.call(datum) == \"[object Array]\" ){\r\n                        for(let i = 0, j = datum.length; i < j; i++) {\r\n                                sendString.push(k + \"=\" + encodeURIComponent(datum[i]));\r\n                        }\r\n                    }else{\r\n                        sendString.push(k + \"=\" + encodeURIComponent(datum));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sendString = sendString.join('&');\r\n    let async = true;\r\n    if ('async' in config) {\r\n        async = config.async;\r\n    }\r\n    if(!window.isProd()&&config.url.indexOf('logFlowLogs=true')==-1){\r\n        if(config.url.indexOf('?') > -1){\r\n            config.url=config.url+'&logFlowLogs=true';\r\n        }else{\r\n            config.url=config.url+'?logFlowLogs=true';\r\n        }\r\n    }\r\n    if (config.type == \"GET\") {\r\n        if(config.url.indexOf('?') > -1){\r\n            xmlhttp.open(\"GET\", config.url + sendString, async);\r\n        }else{\r\n            xmlhttp.open(\"GET\", config.url + \"?\" + sendString, async);\r\n        }\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp);\r\n        }\r\n        xmlhttp.send();\r\n    }\r\n    if (config.type == \"POST\") {\r\n        xmlhttp.open(\"POST\", config.url, async);\r\n        xmlhttp.setRequestHeader(\"Content-type\", config.contentType);\r\n        let t=new Date().getTime();\r\n        xmlhttp.setRequestHeader(\"Accept-Language\", sign(sendString+t)+t);\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp,sendString);\r\n        }\r\n        xmlhttp.send(sendString);\r\n    }\r\n}\r\n\r\nexport {util, emitter}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyMemberModal', (rec)=>{\r\n        let formValues={...rec};\r\n        formValues.applyTime=moment(rec.applyTime);\r\n        formValues.roomId=rec.roomId+'';\r\n        delete formValues.recordCount;\r\n        delete formValues.amount;\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(!values.phone)return message.info('正式会员手机号必填');\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=updateMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员修改`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的消费记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n            修改\r\n         </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select disabled {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"会员\" {...util.getField.call(this,'avatar')} onLoading={loading=>this.setState({loading})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('memberConsumeModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,gmtCreate:moment()};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=memberConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          emitter.emit('refresh-memeber-expand');\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`会员消费`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\">\r\n                {rec.name}\r\n                {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"会员类型\">\r\n                {rec.memberType}\r\n            </Form.Item>\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"剩余次数\" required>\r\n              {rec.remainTimes}\r\n            </Form.Item>}\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"消费次数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return (+v<=rec.remainTimes);\r\n              },message:'次数不足'}]})} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"消费时间\" required>\r\n                <DatePicker showTime {...util.getField.call(this,'gmtCreate')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('memberRechargeModal', (rec)=>{\r\n        let formValues={billType:rec.billType,gmtCreate:moment()};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      if(rec.billType!=values.billType){\r\n        Modal.confirm({\r\n            title:\"消费类型变更确认\",\r\n            content:`消费类型已从【${rec.billType}】变成了【${values.billType}】，${rec.billType=='按次'?`原先的剩余次数【${rec.remainTimes}】将会被清零！`:'计费周期将重新开始计算'}请确认无误！`,\r\n            onOk:()=>this.doRecharge(rec,values)\r\n        });\r\n      }else{\r\n        this.doRecharge(rec,values);\r\n      }\r\n    });\r\n  }\r\n  doRecharge=(rec,values)=>{\r\n    util.ajaxJson(urlPrefix+'MemberOperation?opt=memberRecharge', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`充值成功!`);\r\n          this.handleCancel();\r\n        }\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  getDelayTime=rec=>{\r\n    let expMoment=moment(rec.expireTime);\r\n    if(rec.billType=='包月'){\r\n      expMoment.add(1,'month');\r\n    }else if(rec.billType=='包半年'){\r\n      expMoment.add(6,'month');\r\n    }else if(rec.billType=='包年'){\r\n      expMoment.add(12,'month');\r\n    }\r\n    return expMoment.valueOf();\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`会员充值续费`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            充值\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\">\r\n                {rec.name}\r\n                {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"billType-f\" label=\"充值类型\" required>\r\n              <Select {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType!='按次'&&<><Form.Item className=\"\" label=\"原先到期时间\">{util.formatDate(rec.expireTime,'yyyy-MM-dd')}</Form.Item>\r\n              <Form.Item className=\"\" label=\"充值后到期时间\">{util.formatDate(this.getDelayTime(rec),'yyyy-MM-dd')}</Form.Item>\r\n            </>}\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"充值次数\" required>\r\n            <InputNumber {...util.getField.call(this,'rechargeTimes',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"剩余次数\" required>\r\n              {rec.remainTimes} {!isNaN(formValues.rechargeTimes)&&formValues.rechargeTimes>0&&<span>+ {formValues.rechargeTimes} = {rec.remainTimes+formValues.rechargeTimes}</span>}\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"充值时间\" required>\r\n                <DatePicker showTime {...util.getField.call(this,'gmtCreate')} />\r\n            </Form.Item>\r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-member-recharge-bill', (rec)=>{\r\n        util.ajaxJson(urlPrefix+'BillOperation?opt=queryBill',{billIdPrefixs:['memOpen','memRecharge'].map(it=>it+rec.id)},res=>{\r\n            if(res.success){\r\n                let billList=res.data.data;\r\n                this.setState({visible:true,rec,billList});\r\n            }\r\n        });\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,billList} = this.state;\r\n  \treturn (<Drawer title={`会员【${rec.name}】- 充值记录`} className=\"student-course-drawer\" visible={visible} width={800} placement=\"right\" onClose={this.onClose} destroyOnClose >\r\n          <Collapse defaultActiveKey={['1','2','3']}>\r\n            <Collapse.Panel header=\"充值记录\" key=\"3\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={billList} size=\"small\" columns={[\r\n          {key:'billTime',dataIndex:'billTime',title:'充值时间',render:v=>util.formatDate(v)},\r\n          {key:'amount',dataIndex:'amount',title:'充值金额(元)'},\r\n          {key:'reason',dataIndex:'reason',title:'说明'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          ]}/>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n\r\n          <Button onClick={this.onClose}>关闭</Button>   \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select,Tree, Popconfirm, InputNumber} from 'antd';\r\nimport '../index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../../interfaces/interfaces';\r\nimport CateSelect from './cateSelect';\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('show-category-crud-modal',({opt,type,rec})=>{\r\n        let {formValues}=this.state;\r\n        if(opt=='insert'){\r\n            formValues={};\r\n            if(rec&&rec.pid)formValues.pid=rec.pid;\r\n        }else{\r\n            formValues=rec;\r\n        }\r\n        this.setState({opt,type,visible:true,formValues},()=>{\r\n            if(this.cateSelectEl)this.cateSelectEl.initTreeData();\r\n        });\r\n    });\r\n    this.state={\r\n        formValues:{\r\n\r\n        }\r\n    };\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+`SysConfigManager?opt=${this.state.opt}Category`, {rec:{...values,type:this.state.type}}, res=>{\r\n        if(res.success){\r\n          message.success(`${this.state.opt=='insert'?'新增':'修改'}类目成功!`);\r\n          emitter.emit('refresh-cate-data-mgr');\r\n          this.cateSelectEl.initTreeData();\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {formValues,opt,type}=this.state;\r\n    return (\r\n        <Modal title={`${opt=='insert'?'新增':'修改'}类目`} visible={this.state.visible} width={400} onCancel={this.handleCancel} maskClosable={false}\r\n        footer={[\r\n          <Button key=\"login\" type=\"primary\" onClick={this.handleOk}>保存</Button>,\r\n          <Button key=\"close\" onClick={this.handleCancel}>关闭</Button>\r\n        ]}>\r\n            <Form.Item className=\"\" label=\"类名名称\" required>\r\n                <Input {...util.getField.call(this,'cateName',{rules:[{required:true,message:'必填'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"上级分类\" required>\r\n                <CateSelect withEmpty {...util.getField.call(this,'pid',{rules:[{required:true,message:'必填'}]})} type={type} ref={el=>this.cateSelectEl=el}/>\r\n            </Form.Item>\r\n        </Modal>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select,Tree, Popconfirm, TreeSelect} from 'antd';\r\nimport '../index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../../interfaces/interfaces';\r\nimport {convertWithChildren,cateTypes} from './index';\r\nexport default class BizComponent extends Component {\r\n  static defaultProps = {\r\n    withEmpty:false\r\n  }\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.initTreeData();\r\n    this.state={\r\n        treeData:[]\r\n    };\r\n  }\r\n\r\n  initTreeData=()=>{\r\n    let {type,withEmpty}=this.props;\r\n    util.ajaxJson(urlPrefix+'SysConfigManager?opt=categoryList',{type:type?type:cateTypes[0]},res=>{\r\n      let arryData=res.data;\r\n      if(withEmpty){\r\n        arryData.push({id:-1,cateName:'无'});\r\n      }\r\n      let treeData=convertWithChildren(arryData);\r\n      this.setState({treeData});\r\n    });\r\n  }\r\n\r\n  loop = data => {\r\n    if(!data)return data;\r\n    return data.map(item => {\r\n      if (item.children && item.children.length > 0) {\r\n        return <Tree.TreeNode title={item.cateName} key={item.id} value={item.id}>{this.loop(item.children)}</Tree.TreeNode>;\r\n      }\r\n      return <Tree.TreeNode title={item.cateName} key={item.id} value={item.id} isLeaf={item.isLeaf}/>;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {fieldKey}=this.props;\r\n    let {treeData}=this.state;\r\n    let nodes = this.loop(treeData);\r\n    return (\r\n      <TreeSelect\r\n        showSearch\r\n        style={{ width: '100%' }}\r\n        \r\n        dropdownStyle={{ maxHeight: 400, overflow: 'auto' }}\r\n        placeholder=\"请选择\"\r\n        allowClear\r\n        treeDefaultExpandAll\r\n        {...this.props}\r\n      >\r\n        {nodes}\r\n      </TreeSelect>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('changePassModal', ()=>{\r\n        let formValues={};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'SysUserFramework?opt=changePwd', {...values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`系统用户修改密码`} className=\"modal-form\" visible={visible} width={600} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            修改\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"change-pass-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"密码\" required>\r\n                <Input {...util.getField.call(this,'pass',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport '../../game/game/index.less';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-class-student-drawer', (rec)=>{\r\n      this.doLoadData(rec);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      formValues:{\r\n        records:[]\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec)=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:rec.id},res=>{\r\n      if(res.success){\r\n          let records=res.data.data;\r\n          records&&records.forEach(it=>it.id=it.id+'');\r\n          if(!records||records.length==0)records=[{amount:rec.price},{amount:rec.price},{amount:rec.price}];\r\n          let {formValues}=this.state;\r\n          formValues.records=records;\r\n          this.setState({visible:true,rec,formValues});\r\n      }\r\n   });\r\n  }\r\n\r\n  onSave=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {records}=formValues;\r\n    records=records.filter(it=>it.id);\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=saveClassStudents',{classId:rec.id,records},res=>{\r\n      if(res.success){\r\n        message.success(`成功保存了${res.data}个学生到班级中`);\r\n        emitter.emit('queryClassTable',undefined,true);\r\n        this.onClose();\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n  onCloseConfirm=()=>{\r\n      Modal.confirm({\r\n          title:\"关闭确认\",\r\n          content:\"确定要未保存就退出吗？\",\r\n          onOk:this.onClose\r\n      });\r\n  }\r\n\r\n  onRowClick=(add,i)=>{\r\n    let {formValues,rec}=this.state;\r\n    let {records}=formValues;\r\n    if(add){\r\n      records.splice(i+1,0,{amount:rec.price});\r\n    }else{\r\n      if(records.length==1)return message.warn('至少保留一行');\r\n      records.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onRowChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    if(records.filter(it=>it.id==v).length>0){\r\n      message.warn(`该选择【${r.name}】未生效，因为已经在列表中，出现了重复`);\r\n      return false;\r\n    }\r\n    records[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelected=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    let selecteds=[];\r\n    for(let i=0;i<records.length;i++){\r\n      if(i!=idx&&records[i].id){\r\n        selecteds.push(records[i].id+'');\r\n      }\r\n    }\r\n    return selecteds;\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,formValues} = this.state;\r\n    let coach=coaches.filter(it=>it.id==rec.coachId)[0];\r\n    let validCount=formValues.records.filter(it=>it.id).length;\r\n  \treturn (<Drawer title={`班级【${rec.name}】学员管理`} visible={visible} width={800} className=\"class-students-drawer\" placement=\"left\" onClose={this.onCloseConfirm} destroyOnClose maskClosable={false}>\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"班级信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"班级名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"班主任\">{coach&&coach.name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"开始时间\">{util.formatDate(rec.startTime,'yyyy-MM-dd')}</Form.Item>\r\n                      <Form.Item label=\"结束时间\">{util.formatDate(rec.endTime,'yyyy-MM-dd')}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"报名费(元)\">{rec.price}</Form.Item>\r\n                      <Form.Item label=\"总计(元)\">{formValues.records.filter(it=>it.amount&&it.id).map(it=>it.amount).reduce((a,b)=>a+b,0)}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`班级学员列表 （${validCount}个）`} key=\"2\" showArrow={false}>\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'学员姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`records[${idx}]`,'id',formValues.records[idx])} onSelected={(v,r)=>this.onRowChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入学生名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          ]} excludeValues={this.getSelected(idx)} urlSuffix=\"TrainOperation?opt=queryStudent\" initRecords={formValues.records.filter(it=>it.id&&it.name)} searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'amount',dataIndex:'amount',title:'缴费金额(元)',width:'20%',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"报名费\" precision={0} {...util.getSubField.call(this,`records[${idx}]`,'amount',r)}/></span>}\r\n                    ]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.records} pagination={false}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Popconfirm title={`确定提交这${validCount}个学生？`} onConfirm={this.onSave}><Button type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n          </div>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport ReactToPrint from 'react-to-print';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-coach-settlement-drawer', (rec)=>{\r\n      let {formValues}=this.state;\r\n      formValues.timeVal='30';\r\n      this.setState({formValues});\r\n      let rangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n      this.doLoadData(rec,rangeValue);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      studentRecords:[],\r\n      studentNames:[],\r\n      formValues:{\r\n        timeVal:'30'\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec,rangeValue)=>{\r\n    this.rangeValue=rangeValue;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:rec.id,startTime:rangeValue[0],endTime:rangeValue[1]},res=>{\r\n      if(res.success){\r\n          let studentRecords=res.data.data,studentNames=[];\r\n          studentRecords.sort((a,b)=>{\r\n            if(a.studentId-b.studentId == 0){\r\n              return a.id-b.id;\r\n            }\r\n            return a.studentId-b.studentId;\r\n          });\r\n          studentRecords.forEach(it=>{\r\n            if(studentNames.indexOf(it.studentName)==-1)studentNames.push(it.studentName);\r\n          });\r\n          this.setState({visible:true,rec,studentRecords,studentNames});\r\n      }\r\n   });\r\n  }\r\n\r\n  doSettlement=()=>{\r\n    let {studentRecords,rec} = this.state;\r\n    let hide=message.loading('结算中...');\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=doSettlement',{coachId:rec.id,recIds:studentRecords.map(it=>it.id),total:this.getTotal(),roomId:studentRecords[0].roomId},res=>{\r\n      hide();\r\n      if(res.success){\r\n        message.success('结算成功');\r\n        this.doLoadData(rec,this.rangeValue);\r\n      }\r\n    });\r\n  }\r\n\r\n  getTotal=(totalFlag)=>{\r\n    let {studentRecords} = this.state;\r\n    let total=Math.round(studentRecords.filter(it=>totalFlag?true:it.billed!=1).map(this.getSettleAmount).reduce((a,b)=>a+b,0));\r\n    return total;\r\n  }\r\n\r\n  getSettleAmount=r=>{\r\n    let rate=tenantConfig.coachRate;\r\n    if(r.mainCoachId==r.coachId){\r\n      rate=tenantConfig.majorCoachRate;\r\n    }\r\n    return r.consumeAmount*rate/100;\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,studentRecords,formValues,studentNames} = this.state;\r\n    let total=this.getTotal(true),toSettleAmount=this.getTotal(false);\r\n  \treturn (<Drawer title={`教练【${rec.name}】结算`} visible={visible} width={800} className=\"settlement-course-drawer\" placement=\"left\" onClose={this.onClose} destroyOnClose >\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"结算信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"教练名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"结算金额\">{total}元{toSettleAmount>0&&<span> ({toSettleAmount}元未结算)</span>}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"时间\"><DatePick modeType=\"select\" validValues={['30','-30','100']} value={formValues.timeVal} onChange={(rangeValue,timeVal)=>{\r\n                        let {formValues}=this.state;\r\n                        formValues.timeVal=timeVal;\r\n                        this.setState({formValues});\r\n                        if(!rangeValue)return;\r\n                        this.doLoadData(rec,rangeValue);\r\n                      }}/></Form.Item>\r\n                      <Form.Item label=\"经办人\">{name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"学员\" className=\"students\">{studentNames.join(', ')}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`训练记录 （${studentRecords.length}次）`} key=\"2\" showArrow={false}>\r\n                  <Table pagination={false} rowKey={r=>r.id} dataSource={studentRecords} size=\"small\" columns={[\r\n            {key:'studentName',dataIndex:'studentName',title:'学生名'},\r\n            {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n            {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n            {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n            {key:'rate',dataIndex:'rate',title:'分成',render:(v,r)=>r.mainCoachId==r.coachId?`${tenantConfig.majorCoachRate}%(主管)`:`${tenantConfig.coachRate}%`},\r\n            {key:'settleAmount',dataIndex:'settleAmount',title:'结算金额(元)',render:(v,r)=>{\r\n              return this.getSettleAmount(r);\r\n            }},\r\n            {key:'billed',dataIndex:'billed',title:'已结算',render:(v,r)=>v==1?'是':'否'},\r\n            {key:'operator',dataIndex:'operator',title:'经办人'},\r\n            ]}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Form.Item label=\"总计\" className=\"total-amount\">{total}元</Form.Item>\r\n          </div>\r\n          <ReactToPrint documentTitle={`教练【${rec.name}】结算单`}\r\n            trigger={() => {\r\n              return <Button type=\"primary\">打印</Button>;\r\n            }}\r\n            content={() => this.printEl}\r\n          />\r\n          <Button disabled={studentRecords.length==0 || toSettleAmount==0} type=\"primary\" onClick={()=>Modal.confirm({title:\"确认结算？\",content:`结算后，会生成一笔￥${toSettleAmount}的支出账单，且培训记录将不可删除，请确认已与教练【${rec.name}】完成了当面结算！`,onOk:this.doSettlement})}>结算</Button>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addStudentModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,type:'乒乓',gmtCreate:moment(),privateTrain:tenantConfig.privateTrain?tenantConfig.privateTrain:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      let existData=await util.ajaxJsonAsync(urlPrefix+'TrainOperation?opt=getStudent',{phone:values.phone});\r\n      if(existData.data&&existData.data[0]){// 已存在学员\r\n        Modal.confirm({\r\n          title:'学员是否合并提醒？',\r\n          content:`通过手机号发现该学员已存在，余额为${existData.data[0].amount}元，是否直接做合并并继续？`,\r\n          onOk:()=>{\r\n            this.doReportStudent(values);\r\n          }\r\n        });\r\n      }else{\r\n        this.doReportStudent(values);\r\n      }\r\n      \r\n    });\r\n  }\r\n  doReportStudent=(values)=>{\r\n    this.setState({loading:true});\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=reportStudent', {rec:values}, res=>{\r\n      if(res.success){\r\n        message.success(`开户成功!`);\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false,loading:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,loading} = this.state;\r\n    let {courseTypes}=tenantConfig;\r\n    if(!courseTypes)courseTypes=['乒乓'];\r\n  \treturn (<Modal title={`学员报名开课`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} loading={loading}>\r\n            报名\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程类型\" required>\r\n              <Select {...util.getField.bind(this)('type',{rules:[{required:true,message:'必填'}]})}>\r\n                {courseTypes.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"私教\" required>\r\n              <Switch {...util.getField.call(this,'privateTrain',{mode:'checkbox',onChange:v=>{\r\n                if(!v){\r\n                  let invalidFields=['coachId','times','amount'];\r\n                  let {formValues}=this.state;\r\n                  for(let invalidField of invalidFields){\r\n                    delete this['__validField_'+invalidField];\r\n                    delete formValues[invalidField];\r\n                  }\r\n                  this.setState({formValues});\r\n                }\r\n              }})}/>\r\n            </Form.Item>\r\n            {formValues.privateTrain&&<><Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"主管教练\" required>\r\n              <Coach form={this} required showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开课时间\" required>\r\n              <DatePicker {...util.getField.call(this,'gmtCreate')}/>\r\n            </Form.Item></>}\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popconfirm,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyStudentModal', (rec)=>{\r\n      let formValues={...rec};\r\n      formValues.roomId=rec.roomId+'';\r\n      delete formValues.amount;\r\n      delete formValues.courses;\r\n      delete formValues.recordCount;\r\n      delete formValues.remark;\r\n      this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=updateStudent', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`学员报名`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的培训记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n        修改\r\n     </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row, Col} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport Coach from '../../common/fields/coach';\r\nimport SportType from '../../common/fields/sportType';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('studentRecordModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,studyTime:moment(),type:'乒乓',subType:'多球'};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{courses:[]},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=studentConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`refresh-student-table`);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onCoachChange=(v)=>{\r\n    let coach=coaches.filter(it=>it.id==v)[0];\r\n    if(!coach)return;\r\n    let {formValues}=this.state;\r\n    let times=formValues.consumeTimes||1;\r\n    formValues.consumeAmount=times*coach.unitPrice;\r\n    this.setState({formValues});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let isMainCoach=false;\r\n    if(rec.courses){\r\n      isMainCoach=rec.courses.filter(it=>it.coachId==formValues.coachId&&formValues.courseId==it.id).length>0;\r\n      rec.courses.forEach(r=>{\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n    let coachRate=isMainCoach?tenantConfig.majorCoachRate:tenantConfig.coachRate;\r\n    let targetCourse=rec.courses.filter(it=>formValues.courseId==it.id+'')[0] || {};\r\n    let targetCoach=coaches.filter(it=>it.id==targetCourse.coachId)[0];\r\n  \treturn (<Modal title={`学员训练登记`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose getContainer={document.querySelector('.Student-container')} onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"student-consume-modal\">\r\n            <Row>\r\n              <Col span={8}>\r\n                <Form.Item className=\"memberName-f\" label=\"学员名\">\r\n                    {rec.name}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"手机号\">\r\n                    {rec.phone}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"余额\">\r\n                    {rec.amount}\r\n                    {+rec.amount<+formValues.consumeAmount&&<span className=\"red-tips\">消费后余额不足，将欠费{+formValues.consumeAmount-rec.amount}元！</span>}\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <SportType form={this} required/>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  let {formValues}=this.state;\r\n                  let {coachId}=rec.courses.filter(it=>it.id+''==v)[0];\r\n                  formValues.coachId=coachId+'';\r\n                  this.onCoachChange(formValues.coachId);\r\n                },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                            {key:'coachName',title:'教练',width:'80px'},\r\n                            {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                            {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                            {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                            {key:'remark',title:'课程备注',width:'100px'},\r\n                    ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label={(isMainCoach?'主管':'')+\"教练\"} required>\r\n              <Coach form={this} required onChange={this.onCoachChange} showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"consume-times-f\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                if(targetCourse.remainTimes!==undefined && +targetCourse.remainTimes < +v){\r\n                  return false;\r\n                }\r\n                return true;\r\n              },message:'课时数不足'}]})} min={0.5} precision={1} step={0.5}/>\r\n              {targetCourse&&targetCoach&&targetCoach.name&&targetCourse.remainTimes!==undefined&&<span className=\"course-tip\">{targetCoach.name}的课 &nbsp;&nbsp;剩余课时数：{targetCourse.remainTimes} 剩余金额：{targetCourse.remainAmount}元</span>}\r\n              \r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费金额(元)\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeAmount',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                // return +v<=rec.amount;\r\n                return true;\r\n              },message:'余额不足'}]})} min={1} precision={0}/>\r\n              {formValues.consumeAmount&&<span className=\"course-tip\">待分账金额（{isMainCoach?'主管':''}教练）：{util.round(+formValues.consumeAmount*(coachRate/100))}元({coachRate}%)<a onClick={()=>{\r\n                emitter.emit('main-clickmenu',{key:'sys/config'});\r\n                // this.setState({visible:});\r\n              }}>设置</a></span>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"训练时间\" required>\r\n              <DatePicker {...util.getField.call(this,'studyTime',{rules:[{required:true,message:'必填'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"room-f\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n              {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-course-list-drawer', (rec,courseId)=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n            if(res.success){\r\n                let courseInfo=res.data;\r\n                this.setState({visible:true,rec,courseInfo,courseId,modifyCourseTime:undefined});\r\n            }\r\n        });\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      rec:{},\r\n      courseInfo:{\r\n          course:{},\r\n          records:[]\r\n      }\r\n  \t};\r\n  }\r\n\r\n  deleteStudentRec=r=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:r.studentId,id:r.id},res=>{\r\n      if(res.success){\r\n        message.success('删除流水成功');\r\n        this.refreshCourseInfo();\r\n      }\r\n    });\r\n  }\r\n  deleteStudentRechargeBillRec=r=>{\r\n    Modal.confirm({\r\n      title:'删除充值记录确认',\r\n      content:'删除充值记录后，课程余额余次将同步扣减，且账单做同步删除，是否继续？',\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRechargeBillRec',{id:r.id},res=>{\r\n          if(res.success){\r\n            message.success('删除充值记录成功');\r\n            this.refreshCourseInfo();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  refreshCourseInfo=()=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n        if(res.success){\r\n            let courseInfo=res.data;\r\n            this.setState({courseInfo});\r\n        }\r\n    });\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n  }\r\n\r\n  deleteCourse=async ()=>{\r\n    let {courseId}=this.state;\r\n    let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuRecharge'+courseId+'-'});\r\n    if(!billRes.success)return;\r\n    if(billRes.data.totalItem>0){\r\n      Modal.confirm({\r\n        title:'同步删除账单确认？',\r\n        content:`系统监测到您已有${billRes.data.totalItem}笔学员课程充值账单录入，是否同步删除？`,\r\n        onOk:()=>this.doDeleteCourse(billRes.data.data.map(it=>it.id))\r\n      });\r\n    }else{\r\n      this.doDeleteCourse(billRes.data.data.map(it=>it.id));\r\n    }\r\n  }\r\n\r\n  doDeleteCourse=(ids)=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentCourse',{courseId,ids},res=>{\r\n      if(res.success){\r\n        message.success('删除课程成功');\r\n        this.setState({visible:false});\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  modifyCourseTimes=()=>{\r\n    let {courseInfo,modifyCourseTime} = this.state;\r\n    let {course}=courseInfo;\r\n    if(!modifyCourseTime||modifyCourseTime==course.times)return;\r\n    if(modifyCourseTime<(course.times-course.remainTimes))return message.warn('课时数不足，无法修改！');\r\n    let remainTimes=course.remainTimes+(modifyCourseTime-course.times);\r\n    Modal.confirm({\r\n      title:\"修改总课时数确认\",\r\n      content:`确定要将该课程的总课时数从${course.times}调整到${modifyCourseTime}吗？调整后，剩余课时数将从${course.remainTimes}变成${remainTimes}`,\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=updateCourse',{courseId:course.id,times:modifyCourseTime,remainTimes},res=>{\r\n          if(res.success)message.success('修改课时数成功');\r\n          this.refreshCourseInfo();\r\n        });\r\n      }\r\n    });\r\n  }\r\n  modifyCourseCoach=()=>{\r\n    let {courseInfo,mainCoachId} = this.state;\r\n    if(!mainCoachId)return message.warn('请选择教练！');\r\n    let {course}=courseInfo;\r\n    let coach=coaches.filter(it=>it.id==course.coachId)[0];\r\n    if(!coach || coach.id==mainCoachId)return;\r\n    Modal.confirm({\r\n      title:\"修改课程主教练确认\",\r\n      content:`确定要将该课程的主教练从${coach.name}调整到${coaches.filter(it=>it.id==mainCoachId)[0].name}吗？`,\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=updateCourse',{courseId:course.id,coachId:mainCoachId},res=>{\r\n          if(res.success)message.success('修改课时数成功');\r\n          this.refreshCourseInfo();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,courseInfo,modifyCourseTime} = this.state;\r\n    let {course,records,bills}=courseInfo;\r\n    let coach=coaches.filter(it=>it.id==course.coachId)[0];\r\n  \treturn (<Drawer title={`学员【${rec.name}】- 教练【${coach&&coach.name}】课程信息`} getContainer={()=>document.querySelector('.Student-container')} className=\"student-course-drawer\" visible={visible} width={800} placement=\"right\" onClose={this.onClose} destroyOnClose >\r\n          <Collapse defaultActiveKey={['1','2','3']}>\r\n            <Collapse.Panel header=\"课程详情\" key=\"1\">\r\n                <Row>\r\n                    <Form.Item label=\"学员名\">{rec.name}</Form.Item>\r\n                    <Form.Item label=\"主管教练\">{coach&&coach.name}&nbsp;<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer .ant-drawer-body')} title={<><h3>修改主管教练</h3><Form.Item label=\"主管教练\"><Select value={this.state.mainCoachId} onChange={v=>this.setState({mainCoachId:v})}>{coaches.map(it=><Select.Option key={it.id+'c'} value={it.id+''}>{it.name}</Select.Option>)}</Select></Form.Item></>} onConfirm={this.modifyCourseCoach}><a>修改</a></Popconfirm></Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"缴费金额(元)\">{course.remainAmount}/{course.amount}</Form.Item>\r\n                    <Form.Item label=\"课程次数\">{course.remainTimes}/{course.times}&nbsp;<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer .ant-drawer-body')} title={<><h3>修改课程总次数</h3><Form.Item label=\"课程次数\"><InputNumber value={modifyCourseTime?modifyCourseTime:course.times} onChange={e=>{\r\n                      this.setState({modifyCourseTime:e});\r\n                    }} min={0} max={1000} precision={0}/></Form.Item></>} onConfirm={this.modifyCourseTimes}><a>修改</a></Popconfirm></Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"课程备注\">{course.remark}</Form.Item>\r\n                    <Form.Item label=\"课程类型\">{course.type}</Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"开课时间\">{util.formatDate(course.gmtCreate)}</Form.Item>\r\n                    <Form.Item label=\"经办人\">{course.operator}</Form.Item>\r\n                </Row>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程培训记录\" key=\"2\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={records} size=\"small\" columns={[{key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'消费课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeTimes+=records[i].consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=course.times-consumeTimes;\r\n            return `${snapTimes}/${course.times}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'消费后余额(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=records[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${course.amount-consumeAmount}/${course.amount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程充值记录\" key=\"3\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={bills} size=\"small\" columns={[{key:'chargeTime',dataIndex:'chargeTime',title:'充值时间',render:v=>util.formatDate(v)},\r\n          {key:'times',dataIndex:'times',title:'充值课时数'},\r\n          {key:'amount',dataIndex:'amount',title:'充值金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRechargeBillRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n\r\n          <Button type=\"primary\" onClick={()=>emitter.emit('rechargeStudentModal',rec,courseInfo.course)}>课程充值</Button>\r\n          {records&&records.length>0&&<Tooltip getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"删除课程前需要先清空课程记录\" ><Button disabled type=\"danger\">删除课程</Button></Tooltip>}\r\n          {!records||records.length<=0&&<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除课程？\" onConfirm={this.deleteCourse}><Button type=\"danger\">删除课程</Button></Popconfirm>}\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('rechargeStudentModal', (rec,course)=>{\r\n      let courseId,remark,canSelectCourse=true;\r\n      if(course){// 指定课程的\r\n        courseId=course.id+'';\r\n        remark=course.remark;\r\n        canSelectCourse=false;\r\n      }\r\n      let formValues={roomId:rec.roomId+'',remark,courseId,gmtCreate:moment()};\r\n      this.setState({visible:true,formValues,rec,canSelectCourse});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      courseInfo:{\r\n        course:{}\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=rechargeCourse', {rec:values,courseId,studentId:rec.id}, res=>{\r\n        if(res.success){\r\n          message.success(`课程充值成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  handleCancel=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    if(!this.state.canSelectCourse)emitter.emit('show-course-list-drawer',rec,courseId);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let course={},{courseId}=formValues;\r\n    if(rec.courses){\r\n      rec.courses.forEach(r=>{\r\n        if(r.id==courseId)course=r;\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n  \treturn (<Modal title={`学员课程充值`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            充值\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"学员手机号\" required>\r\n                  {rec.phone}\r\n              </Form.Item>\r\n              <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                  {rec.name}\r\n              </Form.Item>\r\n            </Row>\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"课程余额(元)\" required>\r\n                  {course.remainAmount}/{course.amount}\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"课程剩余次数\" required>\r\n                  {course.remainTimes}/{course.times}\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable disabled={!this.state.canSelectCourse} {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                              {key:'coachName',title:'教练',width:'80px'},\r\n                              {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                              {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                              {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                              {key:'remark',title:'课程备注',width:'100px'},\r\n                      ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            \r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  DatePicker,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport CommonSelect from '../../select';\r\nimport {emitter,util} from '../../../common/common';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nexport default class Field extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let {field,context} = this.props;\r\n    let disabled = this.props.optType == 'modify' && field.editableInModify === false;\r\n    let props = Object.assign({},this.props);\r\n    delete props.field;\r\n    delete props.optType;\r\n    if(field.enums){\r\n      let {enums}=field;\r\n      if(typeof enums=='function')enums=enums();\r\n      let mode=field.multi?'multiple':undefined;\r\n      return (<Select multiple={field.multi} disabled={disabled} mode={mode} {...props}>{enums.map(e=>{\r\n        let key,value;\r\n        key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n        value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n        return <Option key={key} value={key+''}>{value}</Option>;\r\n      })}</Select>);\r\n    }else if(field.dictCode){\r\n      return (<CommonSelect {...field} {...props}/>);\r\n    }else if(field.type=='textarea'){\r\n      let TextArea = Input.TextArea;\r\n      if(!TextArea)TextArea=Input;\r\n      return (<TextArea type=\"textarea\" rows={field.rows?field.rows:4} disabled={disabled} {...props}/>);\r\n    }else if(field.type=='date'){\r\n      return (<DatePicker format=\"YYYY-MM-DD\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='datetime'){\r\n      return (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='custom'){\r\n      return field.getComponent(props,context);\r\n    }else if(field.type=='number'){\r\n      return (<InputNumber disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }else{\r\n      return (<Input disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,Icon } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tstatic defaultProps={\r\n        type:'Input'\r\n    }\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tlet {value}=this.props;\r\n\t    this.state={formValues:{value},status:'label'};\r\n\t}\r\n\tcomponentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.value=this.props.value;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n\t}\r\n\tonEditClick=()=>{\r\n\t\tlet {mask}=this.props;\r\n\t\tlet {formValues}=this.state;\r\n\t\tif(mask&&formValues.value){\r\n\t\t\tformValues.value=formValues.value.substring(0,2);\r\n\t\t}\r\n\t\tthis.setState({status:'edit',formValues});\r\n\t\tsetTimeout(()=>{\r\n\t\t\tif(this.el){\r\n\t\t\t\tthis.el.focus();\r\n\t\t\t}\r\n\t\t},20);\r\n\t}\r\n\r\n\tonBlur=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tthis.props.onBlur(formValues.value);\r\n\t\t// if(!this.props.silence){\r\n\t\t// \tmessage.success('保存成功！');\r\n\t\t// }\r\n\t\tthis.setState({status:'label'});\r\n\t}\r\n\tonCall=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tlet callee=formValues.value;\r\n\t\temitter.emit('call-out-ccc',callee,this);\r\n\t}\r\n\trender(){\r\n\t\tlet {value,type,enums,mask,contactType}=this.props;\r\n\t\tif(contactType=='电话'&&mask===undefined)mask=true;\r\n\t\tlet {status,formValues}=this.state;\r\n\t    return <span className=\"editable-field-c\">\r\n\t\t\t{status=='edit'&&<>\r\n\t\t\t\t{type=='Input'&&<Input ref={el=>{\r\n\t\t\t\t\tthis.el=el;\r\n\t\t\t\t}} {...util.getField.call(this,'value')} onBlur={this.onBlur} onPressEnter={this.onBlur}></Input>}\r\n\t\t\t\t{type=='Select'&&<Select {...util.getField.call(this,'value',{onChange:this.onBlur})}>\r\n\t\t\t\t\t{enums.map(it=><Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>)}\r\n\t\t\t\t</Select>}\r\n\t\t\t</>}\r\n\t\t\t{status=='label'&&<span>{mask?<Popconfirm title={\"确定发起外呼？\"} okText=\"好\" cancelText=\"取消\" onConfirm={this.onCall}><a>{util.tuomin(formValues.value,2)}</a></Popconfirm>:(contactType=='钉钉'?<a href={`dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=${formValues.value}`}>{formValues.value}</a>:(contactType=='旺旺'?<a href={`aliim:sendmsg?toid=cntaobao${formValues.value}`}>{formValues.value}</a>:formValues.value))}\r\n\t\t\t\t{mask&&<Popconfirm title={\"确定修改？敏感字段不会记住原来的值\"} onConfirm={this.onEditClick}><Icon type=\"highlight\"/></Popconfirm>}\r\n\t\t\t\t{!mask&&<Icon type=\"highlight\" onClick={this.onEditClick}/>}\r\n\t\t\t</span>}\r\n\t\t</span>;\r\n\t}\r\n}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\n\r\nexport const allMetaData = {\r\n  \r\n};\r\nexport const allDictData = {};\r\n\r\nexport default class CommonSelect extends Component {\r\n  static defaultProps = {\r\n      appCode : '',\r\n      allText : '请选择'\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let options = (allMetaData[this.props.dictCode] || []).filter(item=>{\r\n      if(this.props.excludeValues && this.props.excludeValues.length>0 && this.props.excludeValues.indexOf(item.key) > -1){\r\n        return false;\r\n      }\r\n      if(this.props.includeValues){\r\n        if(this.props.includeValues.length>0 && this.props.includeValues.indexOf(item.key) > -1){\r\n          return true;\r\n        }else{\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }).map(item=>{\r\n      let {desc} = item;\r\n      let {showKey,renderDesc,withTitle} = this.props;\r\n      if(showKey){\r\n        desc = desc + `[${item.key}]`;\r\n      }else if(renderDesc){\r\n        desc = renderDesc(item);\r\n      }\r\n      return (<Select.Option title={desc} key={item.key + ''} value={util.getStringValue(item.key)}>{desc}</Select.Option>)\r\n    });\r\n    let value = util.getStringValue(this.props.value);\r\n    if(this.props.mode === 'multiple'){\r\n      value = this.props.value;\r\n    }\r\n    return (\r\n        <Select {...Object.assign({},this.props,{value})}>  \r\n          {this.props.withAll ? [<Select.Option key=\"\" value=\"\">{this.props.allText}</Select.Option>].concat(options) : options}\r\n        </Select>);\r\n  }\r\n}","import React, {\r\n  Component\r\n} from 'react';\r\nimport {\r\n  Table,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nexport default class Grid extends Component {\r\n  static defaultProps = {\r\n      pagination : true,\r\n      currentPageName : 'currentPageNum',\r\n      pageSizeName : 'pageSize',\r\n      totalName : 'totalItem',\r\n      defaultPageSize:10,\r\n      queryCondHandler : queryParam=>queryParam\r\n  };\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(this.props.queryEmitter, (queryCond,retainPagintion)=>{\r\n      if (!queryCond) {\r\n        queryCond = this.state.queryCond;\r\n      }\r\n      !this.unmount&&this.setState({\r\n        queryCond,\r\n        pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:retainPagintion?this.state.pagination.current:1}:undefined\r\n      },()=>{\r\n        this.fetchDataAjax(queryCond);\r\n      });\r\n    });\r\n    this.columns = this.props.columns.map(c => {return {\r\n      title:c.title,\r\n      dataIndex:c.key,\r\n      key:c.key,\r\n      width:c.width,\r\n      fixed:c.fixed,\r\n      render:c.render,\r\n      sorter:c.sorter\r\n    }});\r\n    \r\n    this.state = {\r\n      queryCond:{},\r\n      tableData:[],\r\n      pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:1} : undefined,\r\n      loading:false\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    if(!this.props.lazyInit){// 支持懒加载\r\n      this.fetchDataAjax(this.props.initQueryCond);\r\n    }\r\n  }\r\n  handleTableChange=(pagination, filters, sorter)=>{\r\n    if(this.props.onChange){\r\n      this.props.onChange(pagination, filters, sorter);\r\n    }\r\n    this.setState({\r\n      pagination\r\n    },()=>{\r\n      this.fetchDataAjax(this.state.queryCond,pagination,filters,sorter);\r\n    });\r\n  }\r\n  onRowClick=(record, index)=>{\r\n    if(this.props.onRowClick){\r\n      this.props.onRowClick(record, index);\r\n    }\r\n  }\r\n  fetchDataAjax=(queryCond,pagination,filters, sorter)=>{\r\n    if(this.props.beforeQuery){\r\n      try{\r\n        queryCond = this.props.beforeQuery(queryCond);\r\n      }catch(e){\r\n        this.setState({loading:false});\r\n        return;\r\n      }\r\n    }\r\n    this.setState({ queryCond, loading: true });\r\n    let ajaxMethod = util.ajaxJson;\r\n    \r\n    let queryCondParam = Object.assign({},queryCond,this.props.pagination?{[this.props.currentPageName]:this.state.pagination.current,[this.props.pageSizeName]:this.state.pagination.pageSize}:undefined);\r\n    if(typeof this.props.ajax == 'string'){\r\n      let queryParam=this.props.queryCondHandler(queryCondParam,pagination,filters,sorter);\r\n      ajaxMethod(this.props.ajax, queryParam, (result)=>{\r\n        if(this.props.resultHandler){\r\n          this.props.resultHandler(result,queryParam);\r\n        }\r\n        let tableData = [];\r\n        if(Array.isArray(result)){\r\n          tableData = result;\r\n        }else{\r\n          for(let k in result){\r\n            if(Array.isArray(result[k]) && k != 'logs'){\r\n              tableData = result[k];\r\n            }\r\n          }\r\n        }\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=result[this.props.totalName];\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      },err=>{\r\n        !this.unmount&&this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n    }else if(typeof this.props.ajax == 'function'){// 解决请求前需要异步请求前提数据场景\r\n      this.props.ajax(this.props.queryCondHandler(queryCondParam,pagination,filters,sorter), (tableData,total)=>{\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=total;\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.unmount=true;\r\n  }\r\n  render() {\r\n    return (<><Table rowKey={this.props.rowKey?this.props.rowKey:record=>record.id} rowSelection={this.props.rowSelection} columns={this.columns} dataSource={this.state.tableData} pagination={this.props.pagination ? this.state.pagination : false} onChange={this.handleTableChange} onRow={this.onRowClick} loading={this.state.loading} size={this.props.size} scroll={this.props.scroll} bordered={this.props.bordered} title={this.props.title} rowClassName={this.props.rowClassName} expandedRowRender={this.props.expandedRowRender} expandIcon={this.props.expandIcon} expandRowByClick={this.props.expandRowByClick} expandedRowKeys={this.props.expandedRowKeys?this.props.expandedRowKeys():[]} />\r\n    {this.props.showTotal&&this.state.pagination&&<span className=\"table-total-tips\">共{this.state.pagination.total}条</span>}\r\n    </>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Popconfirm,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Grid from './grid';\r\nexport default class BizTable extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.columns = this.props.config.fields.filter(f=>!f.notInTable).map(f=>{\r\n      let column = {key:f.key,title:f.label,width:f.width};\r\n      if(f.type=='datetime'){\r\n        column.render= (text,record) => util.formatDate(text);\r\n      }\r\n      if(f.enums){\r\n        const enumObj = {};\r\n        let {enums}=f;\r\n        if(typeof enums=='function'){\r\n          enums=enums();\r\n        }\r\n        enums.forEach(e=>{\r\n          let key,value;\r\n          key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n          value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n          enumObj[key]=value;\r\n        });\r\n        column.render= (text,record,idx) => {\r\n          if(f.render){\r\n            return f.render(text,record,idx,enumObj[text]);\r\n          }else{\r\n            if(Array.isArray(text)){\r\n              return text.map(it=>enumObj[it]).join(',');\r\n            }\r\n            return enumObj[text];\r\n          }\r\n        };\r\n      }else{\r\n        if(f.render){\r\n          column.render = f.render.bind(f);\r\n        }\r\n      }\r\n      return column;\r\n    });\r\n    if(this.props.config.table&&this.props.config.table.rowKey){\r\n      this.rowKey = this.props.config.table.rowKey;\r\n    }else{\r\n      this.rowKey = r=>r[this.props.config.fields.filter(f=>f.rowKey)[0].key];\r\n    }\r\n    \r\n    let {updateInterface,deleteInterface} = this.props.config.api;\r\n    let canDelete = !!deleteInterface;\r\n    if(updateInterface || deleteInterface || this.props.config.operationAddon || this.props.config.operationPrefix){\r\n      this.columns.push({\r\n          title: '操作',\r\n          key: 'operation',\r\n          render: (text, record, idx) => {\r\n            if(this.props.config.table&&this.props.config.table.canModify){// 是否可修改\r\n              updateInterface = this.props.config.table.canModify(record);\r\n            }\r\n            if(this.props.config.table&&this.props.config.table.canDelete){// 是否可删除\r\n              canDelete = this.props.config.table.canDelete(record);\r\n            }\r\n            return (\r\n              <div className=\"opt-container\">\r\n                {this.props.config.operationPrefix&&this.props.config.operationPrefix(record)}\r\n                {updateInterface&&<a onClick={()=>{\r\n                  emitter.emit(`show${this.props.config.key}Dialog`, record, 'modify');\r\n                }}>修改</a>}\r\n                {canDelete&&<Popconfirm title={'确定要删除？'} onConfirm={()=>{\r\n                  let params={};\r\n                  for(let k in deleteInterface.params){\r\n                    params[k] = record[deleteInterface.params[k]];\r\n                  }\r\n                  if(this.props.config.table&&this.props.config.table.beforeDelete){\r\n                    params = this.props.config.table.beforeDelete(params,record);\r\n                  }\r\n                  util.ajaxJson(deleteInterface.func,params,(result)=>{\r\n                    if(result.success){\r\n                      message.success('删除成功！');\r\n                    }\r\n                    emitter.emit(`query${this.props.config.key}Table`,undefined,true);\r\n                  });\r\n                }}>\r\n                  <a>删除</a>\r\n                </Popconfirm>}\r\n                {this.props.config.operationAddon&&this.props.config.operationAddon(record, idx)}\r\n              </div>\r\n            );\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.props.config.operationPreAddon){\r\n      this.columns.splice(0,0,{\r\n        title: '操作',\r\n        key: 'preOperation',\r\n        render: (text, record) => {\r\n          return (\r\n                <div className=\"pre-opt-container\">\r\n                {this.props.config.operationPreAddon(record)}\r\n                </div>);\r\n        }\r\n      });\r\n    }\r\n    \r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (<Grid rowKey={this.rowKey} ajax={this.props.config.api.queryInterface.func} beforeQuery={this.props.config.queryCond&&this.props.config.queryCond.beforeQuery} queryEmitter={`query${this.props.config.key}Table`} columns={this.columns} {...this.props.config.table}/>);\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport {emitter, util} from '../../../common/common';\r\nimport Field from './field';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nexport default class BizForm extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.hiddenFields = this\r\n      .props\r\n      .config\r\n      .fields\r\n      .filter(f => f.isHiddenInForm && !f.notInForm);\r\n    this.formFields = this\r\n      .props\r\n      .config\r\n      .fields\r\n      .filter(f => !f.notInForm && !f.isHiddenInForm);\r\n    emitter.on(`show${this.props.config.key}Dialog`, (formData, optType) => {\r\n      if (this.props.config.form && this.props.config.form.beforeShowDialog) {\r\n        let shouldShow = this\r\n          .props\r\n          .config\r\n          .form\r\n          .beforeShowDialog(formData, optType);\r\n        if (!shouldShow) \r\n          return;\r\n        }\r\n      this.setState({\r\n        visible: true,\r\n        optType\r\n      }, () => {\r\n        if (optType == 'modify') {\r\n          let fieldsValue = formData;\r\n          if (this.props.config.form && this.props.config.form.beforeModify) {\r\n            fieldsValue = this\r\n              .props\r\n              .config\r\n              .form\r\n              .beforeModify(formData);\r\n          }\r\n          this.setState({formValues: fieldsValue});\r\n        } else {\r\n          let formValues = {};\r\n          if (this.props.config.form && this.props.config.form.beforeAdd) {\r\n            let fieldsValue = this\r\n              .props\r\n              .config\r\n              .form\r\n              .beforeAdd(formData);\r\n            fieldsValue && (formValues = fieldsValue);\r\n          }\r\n          this.setState({formValues});\r\n        }\r\n      });\r\n    });\r\n    this.state = {\r\n      visible: false,\r\n      optType: 'add',\r\n      formValues: {}\r\n    };\r\n  }\r\n  handleSubmit = () => {\r\n    util\r\n      .validateFields\r\n      .call(this, values => {\r\n        let fieldsValue = values;\r\n        if (this.props.config.form && this.props.config.form.beforeSubmit) {\r\n          fieldsValue = this\r\n            .props\r\n            .config\r\n            .form\r\n            .beforeSubmit(values, this.state.optType);\r\n        }\r\n        let hideLoading = message.loading('executing', 10);\r\n        util.ajaxJson(this.state.optType == 'modify'\r\n          ? this.props.config.api.updateInterface.func\r\n          : this.props.config.api.insertInterface.func, {\r\n          rec: fieldsValue\r\n        }, (data) => {\r\n          if (data.success) {\r\n            if (data.result && data.result.resultType == 'FAIL') {\r\n              message.error('保存失败, 原因：' + data.result.failMessage);\r\n            } else {\r\n              message.success('保存成功');\r\n            }\r\n            this.setState({\r\n              visible: false\r\n            }, () => {\r\n              this.setState({});\r\n            });\r\n            setTimeout(() => {\r\n              emitter.emit(`query${this.props.config.key}Table`, undefined, true);\r\n            }, this.props.config.delayQueryTable\r\n              ? this.props.config.delayQueryTable\r\n              : 0);\r\n          }\r\n          if (this.props.config.form && this.props.config.form.afterSubmit) {\r\n            this\r\n              .props\r\n              .config\r\n              .form\r\n              .afterSubmit(data, fieldsValue);\r\n          }\r\n          hideLoading();\r\n        }, () => {\r\n          hideLoading();\r\n        });\r\n\r\n      });\r\n  }\r\n  handleCancel = () => {\r\n    if (this.props.config.form && this.props.config.form.beforeCancel) {\r\n      this\r\n        .props\r\n        .config\r\n        .form\r\n        .beforeCancel();\r\n    }\r\n    this.setState({visible: false, formValues: {}});\r\n  }\r\n\r\n  shouldFieldDisplay = (field) => {\r\n    let shouldDisplay = true;\r\n    if (this.state.optType == 'add' && field.notInAdd === true) {\r\n      shouldDisplay = false;\r\n    }\r\n    return shouldDisplay;\r\n  }\r\n\r\n  isRequired = (field) => {\r\n    if (field && field.rules && field.rules.length > 0) {\r\n      for (let k in field.rules) {\r\n        if (field.rules[k].required) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        span: 6\r\n      },\r\n      wrapperCol: {\r\n        span: 14\r\n      }\r\n    };\r\n    let col = 1,\r\n      className;\r\n    if (this.props.config.form) {\r\n      if (this.props.config.form.col) {\r\n        col = this.props.config.form.col;\r\n      }\r\n      if (this.props.config.form.className) {\r\n        className = this.props.config.form.className;\r\n        this['__formClassName_'] = className;\r\n      }\r\n    }\r\n    let modalTitle = typeof this.props.config.title == 'string'\r\n      ? this.props.config.title\r\n      : '';\r\n    return (\r\n      <Modal\r\n        title={this.state.optType == 'modify'\r\n        ? `修改 ${modalTitle}`\r\n        : `新增 ${modalTitle}`}\r\n        maskClosable={false}\r\n        visible={this.state.visible}\r\n        width={this.props.config.dialog.width}\r\n        onCancel={this.handleCancel}\r\n        footer=\r\n        { [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleSubmit}> 保存 </Button>, <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}> 取消 </Button>] }>\r\n        <Form className={className}>\r\n          {this\r\n            .hiddenFields\r\n            .map(hiddenField => {\r\n              return <Input\r\n                key={hiddenField.key}\r\n                type=\"hidden\"\r\n                {...util.getField.bind(this)(hiddenField.key,{...hiddenField.options})}/>;\r\n            })}\r\n          <Row>\r\n            {this\r\n              .formFields\r\n              .filter(field => {\r\n                if (field.shouldDisplay && field.shouldDisplay(this) === false) {\r\n                  return false;\r\n                }\r\n                return true;\r\n              })\r\n              .map(field => {\r\n                let label = <span>{field.label}{field.tooltip}</span>;\r\n                return (\r\n                  <Col key={field.key} span={24 / col}>\r\n                    <FormItem\r\n                      required={this.isRequired(field)}\r\n                      style={{\r\n                      display: this.shouldFieldDisplay(field)\r\n                        ? 'block'\r\n                        : 'none'\r\n                    }}\r\n                      label={label}\r\n                      {...formItemLayout}>\r\n                      <Field\r\n                        field={field}\r\n                        optType={this.state.optType}\r\n                        {...field.props}\r\n                        {...util.getField.bind(this)(field.key,{rules:field.rules,...field.options})}\r\n                        context={this}/>\r\n                    </FormItem>\r\n                  </Col>\r\n                );\r\n              })}\r\n          </Row>\r\n        </Form>\r\n      </Modal>\r\n    );\r\n  }\r\n}","import React,{Component,Fragment} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Table from './table/table';\r\nimport Form from './form/form';\r\nimport QueryCond from './table/queryCond';\r\nimport {emitter} from '../../common/common';\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,Icon\r\n} from 'antd';\r\nimport './index.less';\r\n\r\nexport default class BizIndex extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.components={};\r\n    this.state = {\r\n         keyword:''\r\n    };\r\n  }\r\n\r\n  getForm=()=>{\r\n    return this.components.form;\r\n  }\r\n  \r\n  render() {\r\n    let {onlyUseForm} = this.props;// 只是想用下表单，场景：其他页面想新增/修改时\r\n    return (\r\n      <div className={this.props.config.key+\"-container\"}>\r\n        {!onlyUseForm&&<Fragment>\r\n          <Row type=\"flex\" justify=\"space-between\" className=\"table-header\">\r\n            <Col span={6}><h2>{this.props.config.title}</h2></Col>\r\n            <Col span={2}>\r\n            </Col>\r\n            <Col span={14}></Col>\r\n            <Col span={2}>{this.props.config.api.insertInterface&&<Button type=\"primary\" size=\"small\" className=\"button\" onClick={()=>{\r\n              emitter.emit(`show${this.props.config.key}Dialog`, undefined, 'add');\r\n            }}><Icon type=\"plus\" />新增</Button>}</Col>\r\n          </Row>\r\n          <QueryCond wrappedComponentRef={e=>{\r\n            this.components.queryCond=e;\r\n          }} {...this.props}/>\r\n          <Table ref={e=>{\r\n            this.components.table=e;\r\n          }} {...this.props}/>\r\n        </Fragment>}\r\n        <Form ref={e=>{\r\n            this.components.form=e;\r\n          }} {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React, {Component} from 'react';\r\nimport {Button, message} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util, emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix, urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles, isAdmin, allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n      return <div>hehe\r\n          <Button onClick={()=>emitter.emit('main-closetab',{key:'jxc/item/itemAdd'})}>取消</Button>\r\n      </div>;\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport {Button, message} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util, emitter} from '../../../common/common';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n      return <>\r\n          \r\n      </>;\r\n  }\r\n}","var map = {\n\t\"./bill/queryBill\": 173,\n\t\"./bill/queryBill/\": 173,\n\t\"./bill/queryBill/billModal\": 154,\n\t\"./bill/queryBill/billModal.js\": 154,\n\t\"./bill/queryBill/index\": 173,\n\t\"./bill/queryBill/index.js\": 173,\n\t\"./bill/queryBill/index.less\": 252,\n\t\"./common/fields/coach\": 100,\n\t\"./common/fields/coach.js\": 100,\n\t\"./common/fields/index.less\": 310,\n\t\"./common/fields/money\": 68,\n\t\"./common/fields/money.js\": 68,\n\t\"./common/fields/phone\": 78,\n\t\"./common/fields/phone.js\": 78,\n\t\"./common/fields/sportType\": 196,\n\t\"./common/fields/sportType.js\": 196,\n\t\"./common/fields/upload\": 57,\n\t\"./common/fields/upload.js\": 57,\n\t\"./common/index.less\": 671,\n\t\"./common/indicates\": 194,\n\t\"./common/indicates/\": 194,\n\t\"./common/indicates/area\": 134,\n\t\"./common/indicates/area.js\": 134,\n\t\"./common/indicates/index\": 194,\n\t\"./common/indicates/index.js\": 194,\n\t\"./common/indicates/index.less\": 321,\n\t\"./contact\": 131,\n\t\"./contact/\": 131,\n\t\"./contact/contact\": 197,\n\t\"./contact/contact.js\": 197,\n\t\"./contact/index\": 131,\n\t\"./contact/index.js\": 131,\n\t\"./contact/index.less\": 322,\n\t\"./game/ballMate\": 178,\n\t\"./game/ballMate/\": 178,\n\t\"./game/ballMate/index\": 178,\n\t\"./game/ballMate/index.js\": 178,\n\t\"./game/ballMate/index.less\": 323,\n\t\"./game/game\": 132,\n\t\"./game/game/\": 132,\n\t\"./game/game/gameModal\": 198,\n\t\"./game/game/gameModal.js\": 198,\n\t\"./game/game/index\": 132,\n\t\"./game/game/index.js\": 132,\n\t\"./game/game/index.less\": 179,\n\t\"./jxc/item\": 180,\n\t\"./jxc/item/\": 180,\n\t\"./jxc/item/index\": 180,\n\t\"./jxc/item/index.js\": 180,\n\t\"./jxc/item/index.less\": 181,\n\t\"./jxc/item/itemAdd\": 324,\n\t\"./jxc/item/itemAdd.js\": 324,\n\t\"./jxc/item/itemForm\": 325,\n\t\"./jxc/item/itemForm.js\": 325,\n\t\"./operate/ballRoom\": 182,\n\t\"./operate/ballRoom/\": 182,\n\t\"./operate/ballRoom/index\": 182,\n\t\"./operate/ballRoom/index.js\": 182,\n\t\"./operate/ballRoom/index.less\": 326,\n\t\"./operate/member\": 183,\n\t\"./operate/member/\": 183,\n\t\"./operate/member/addMemberModal\": 199,\n\t\"./operate/member/addMemberModal.js\": 199,\n\t\"./operate/member/index\": 183,\n\t\"./operate/member/index.js\": 183,\n\t\"./operate/member/index.less\": 114,\n\t\"./operate/member/memberConsumeModal\": 201,\n\t\"./operate/member/memberConsumeModal.js\": 201,\n\t\"./operate/member/memberRechargeBillListDrawer\": 203,\n\t\"./operate/member/memberRechargeBillListDrawer.js\": 203,\n\t\"./operate/member/modifyMemberModal\": 200,\n\t\"./operate/member/modifyMemberModal.js\": 200,\n\t\"./operate/member/rechargeMemberModal\": 202,\n\t\"./operate/member/rechargeMemberModal.js\": 202,\n\t\"./operate/memberBill\": 184,\n\t\"./operate/memberBill/\": 184,\n\t\"./operate/memberBill/index\": 184,\n\t\"./operate/memberBill/index.js\": 184,\n\t\"./operate/memberBill/index.less\": 327,\n\t\"./sys/config\": 185,\n\t\"./sys/config/\": 185,\n\t\"./sys/config/baseItem\": 186,\n\t\"./sys/config/baseItem/\": 186,\n\t\"./sys/config/baseItem/index\": 186,\n\t\"./sys/config/baseItem/index.js\": 186,\n\t\"./sys/config/baseItem/index.less\": 328,\n\t\"./sys/config/cate\": 117,\n\t\"./sys/config/cate/\": 117,\n\t\"./sys/config/cate/cateCrudModal\": 204,\n\t\"./sys/config/cate/cateCrudModal.js\": 204,\n\t\"./sys/config/cate/cateSelect\": 205,\n\t\"./sys/config/cate/cateSelect.js\": 205,\n\t\"./sys/config/cate/index\": 117,\n\t\"./sys/config/cate/index.js\": 117,\n\t\"./sys/config/index\": 185,\n\t\"./sys/config/index.js\": 185,\n\t\"./sys/config/index.less\": 151,\n\t\"./sys/optLog\": 187,\n\t\"./sys/optLog/\": 187,\n\t\"./sys/optLog/index\": 187,\n\t\"./sys/optLog/index.js\": 187,\n\t\"./sys/optLog/index.less\": 330,\n\t\"./sys/sysRole\": 188,\n\t\"./sys/sysRole/\": 188,\n\t\"./sys/sysRole/index\": 188,\n\t\"./sys/sysRole/index.js\": 188,\n\t\"./sys/sysRole/index.less\": 331,\n\t\"./sys/sysUser\": 189,\n\t\"./sys/sysUser/\": 189,\n\t\"./sys/sysUser/changePass\": 206,\n\t\"./sys/sysUser/changePass.js\": 206,\n\t\"./sys/sysUser/index\": 189,\n\t\"./sys/sysUser/index.js\": 189,\n\t\"./sys/sysUser/index.less\": 260,\n\t\"./task\": 190,\n\t\"./task/\": 190,\n\t\"./task/index\": 190,\n\t\"./task/index.js\": 190,\n\t\"./task/index.less\": 332,\n\t\"./train/class\": 191,\n\t\"./train/class/\": 191,\n\t\"./train/class/classStudentListDrawer\": 207,\n\t\"./train/class/classStudentListDrawer.js\": 207,\n\t\"./train/class/index\": 191,\n\t\"./train/class/index.js\": 191,\n\t\"./train/class/index.less\": 261,\n\t\"./train/coach\": 192,\n\t\"./train/coach/\": 192,\n\t\"./train/coach/index\": 192,\n\t\"./train/coach/index.js\": 192,\n\t\"./train/coach/index.less\": 262,\n\t\"./train/coach/settlementDrawer\": 208,\n\t\"./train/coach/settlementDrawer.js\": 208,\n\t\"./train/student\": 193,\n\t\"./train/student/\": 193,\n\t\"./train/student/addStudentModal\": 209,\n\t\"./train/student/addStudentModal.js\": 209,\n\t\"./train/student/courseListDrawer\": 212,\n\t\"./train/student/courseListDrawer.js\": 212,\n\t\"./train/student/index\": 193,\n\t\"./train/student/index.js\": 193,\n\t\"./train/student/index.less\": 115,\n\t\"./train/student/modifyStudentModal\": 210,\n\t\"./train/student/modifyStudentModal.js\": 210,\n\t\"./train/student/rechargeStudentModal\": 213,\n\t\"./train/student/rechargeStudentModal.js\": 213,\n\t\"./train/student/studentConsumeModal\": 211,\n\t\"./train/student/studentConsumeModal.js\": 211\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 551;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Upload,Icon,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport Compressor from 'compressorjs';\r\nimport { emitter, util } from '../../../common/common';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport {tenantId} from '../../../entry/index/routes/IndexPage';\r\nexport let imagePrefix=()=>'https://cdn.jsdelivr.net/gh/kkccww21/static@master/pic/'+tenantId+'/';\r\nlet uid=0;\r\nexport default class BizComponent extends Component {\r\n    static defaultProps = {\r\n        fileSize:1,\r\n        quality:0.5,\r\n        onLoading:loading=>{}\r\n    };\r\n    constructor(...args) {\r\n        super(...args);\r\n        let fileList=[];\r\n        if(this.props.value){\r\n            fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n        }\r\n        this.state = {\r\n            previewVisible: false,\r\n            previewImage: '',\r\n            fileList\r\n        };\r\n    }\r\n    \r\n\r\n    componentDidUpdate(preProps){\r\n      if(this.props.value!=preProps.value){\r\n        let {fileList}=this.state;\r\n              if(this.props.value){\r\n                  if(!fileList||fileList.length==0){\r\n                      fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n                  }\r\n              }else{\r\n                  fileList=[];\r\n              }\r\n              this.setState({fileList});\r\n      }\r\n    }\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n          file.preview = await util.getFileBase64(file.originFileObj);\r\n        }\r\n    \r\n        this.setState({\r\n          previewImage: file.url || file.preview,\r\n          previewVisible: true,\r\n        });\r\n    }\r\n\r\n    handleChange = ({ fileList }) => {\r\n        this.setState({ fileList });\r\n    };\r\n\r\n    render() {\r\n        let {fileSize}=this.props;\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        const uploadButton = (\r\n          <div>\r\n            <Icon type=\"plus\" />\r\n            <div className=\"ant-upload-text\">上传</div>\r\n          </div>\r\n        );\r\n        return (\r\n          <div className=\"clearfix\">\r\n            <Upload\r\n              listType=\"picture-card\"\r\n              fileList={fileList} withCredentials\r\n              onPreview={this.handlePreview}\r\n              accept=\"image/png, image/jpeg\"\r\n              onChange={this.handleChange}\r\n              customRequest={({onProgress,onError,onSuccess,filename,file})=>{\r\n                let hide=message.loading('文件上传中...', 20);\r\n                this.props.onLoading(true);\r\n                new Compressor(file, {\r\n                    quality:this.props.quality,\r\n                    success:async (result)=> {\r\n                        let base64Str=await util.getFileBase64(result);\r\n                        let key=util.guid()+'.jpg';\r\n                        let res=await util.ajaxJsonAsync(urlPrefix+'SysUserFramework?opt=uploadFile',{key,type:result.type,message:this.props.message,content:base64Str.substring(base64Str.indexOf(\";base64,\") + 8)});\r\n                        this.props.onLoading(false);\r\n                        if(res.success){\r\n                            message.success('上传成功！');\r\n                            onSuccess(res);\r\n                            if(fileSize==1){\r\n                                this.props.onChange(key);\r\n                            }else{}\r\n\r\n                            let img=new Image();\r\n                            img.src=imagePrefix()+key;// cdn预热一下\r\n                            hide();\r\n                        }else{\r\n                            message.error('上传失败');\r\n                            onError();\r\n                            hide();\r\n                        }\r\n                    },\r\n                    error(err) {\r\n                      message.error('压缩失败:' + err);\r\n                      hide();\r\n                    },\r\n                });\r\n              }}\r\n            >\r\n              {fileList.length >= fileSize ? null : uploadButton}\r\n            </Upload>\r\n            <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n              <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n          </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    amountTags=[{color:'blue',value:50},{color:'cyan',value:100},{color:'green',value:200},{color:'gold',value:500},{color:'orange',value:1000}];\r\n    render() {\r\n        let {name,form,hideLabel}=this.props;\r\n        let {formValues}=form.state;\r\n        return <>\r\n            <InputNumber {...util.getField.call(form,name?name:'amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={0}/>\r\n            {!hideLabel&&this.amountTags.map(it=><Tag className=\"money-tag\" key={'tag'+it.value} color={it.color} onClick={()=>{\r\n            let {formValues}=form.state;\r\n            if(isNaN(formValues.amount))formValues.amount=0;\r\n            formValues.amount=formValues.amount+it.value;\r\n            form.setState({formValues},()=>util.validateFields.call(form,()=>{},['amount']));\r\n            }}>{it.value}</Tag>)}\r\n            {formValues.amount>0&&util.convertToChinaNum(formValues.amount)&&<span className=\"amount-tip\">{util.convertToChinaNum(formValues.amount)}元</span>}\r\n        </>;\r\n    }\r\n}","/**\r\n * 接口管理模块\r\n */\r\nexport let domain = 'localhost:8184';\r\n// export let domain = 'qiyuntech.ltd';\r\nexport let productDomain = '47.118.49.154';\r\nif (window.location.href.indexOf('47.118.49.154') > -1 || window.location.href.indexOf('kkccww21.gitee.io') > -1 || window.location.href.indexOf('qiyun') > -1) {\r\n\t\tif (window.location.href.indexOf('qiyun') > -1) {\r\n\t\t\t\tproductDomain = window.location.host;\r\n\t\t}\r\n\t\tdomain = productDomain;\r\n}\r\nif (window.location.href.indexOf('192.168.') > -1) { // 本地局域网调试\r\n\t\tdomain = window\r\n\t\t\t\t.location\r\n\t\t\t\t.host\r\n\t\t\t\t.replace(':3000', '') + ':8184';\r\n}\r\n\r\nwindow.isProd = function () {\r\n\t\treturn isProductUrl(domain);\r\n};\r\nwindow.isDebug = function () {\r\n\t\treturn window.location.hash && window\r\n\t\t\t\t.location\r\n\t\t\t\t.hash\r\n\t\t\t\t.indexOf('.debug') > -1;\r\n}\r\nwindow.cannotDo = function () {\r\n\t\treturn window.isProd();\r\n};\r\n\r\nlet basePathSuffix = 'flow/biz/';\r\n\r\nexport let prefix = (domain.includes('qiyun')?'https:':'')+'//' + domain + '/';\r\nexport let productPrefix = (domain.includes('qiyun')?'https:':'')+'//' + productDomain + '/';\r\n\r\nexport function isProductUrl(url) {\r\n\t\tif (url) {\r\n\t\t\t\tif (url.indexOf('localhost') > -1) \r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\tif (domain == productDomain) \r\n\t\t\t\treturn true;\r\n\t\treturn url && !url.startsWith('pre') && url.indexOf('alibaba-inc.com') > -1;\r\n}\r\nconst interfacesData = {};\r\n\r\nlet interfaces = interfacesData;\r\n\r\nexport default interfaces;\r\nexport let urlPrefix = prefix + basePathSuffix;\r\nexport let urlProductPrefix = productPrefix + basePathSuffix;","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\r\nimport \"moment/locale/zh-cn\";\r\nimport { ConfigProvider } from 'antd';\r\nimport './index.css';\r\nimport App from './entry/index/routes/IndexPage';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nlet script = document.createElement('script');\r\nscript.src='//at.alicdn.com/t/font_352877_bvs3wxt60n8.js';\r\ndocument.head.appendChild(script);\r\nReactDOM.render(<ConfigProvider locale={zh_CN}><App /></ConfigProvider>, document.getElementById('sportRoot'));\r\n// registerServiceWorker();\r\n","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Input maxLength={11} {...util.getField.call(form,name?name:'phone',{rules:[{required:required===undefined?true:required,message:'必填'},{validator:v=>{\r\n                if(!v)return true;\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})} />\r\n        </>;\r\n    }\r\n}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Table } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,urlPrefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n    static defaultProps = {\r\n        searchKey : 'searchText',\r\n        columns:[{key:'id'},{key:'name'}],\r\n        optionLabelProp:'name'\r\n    };\r\n  constructor(...args) {\r\n    super(...args);\r\n    // this.doSearch('');\r\n    this.state={\r\n        dataSource:[]\r\n    };\r\n  }\r\n\r\n  doSearch=(v)=>{\r\n    let {urlSuffix,searchKey,excludeValues,data}=this.props;\r\n    if(data){\r\n        let dataSource=data.filter(it=>{\r\n            for(let k in it){\r\n                if(it[k]&&(typeof it[k]=='string'||typeof it[k]=='number')&&(it[k]+'').indexOf(v)>-1){\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n        setTimeout(()=>{\r\n            this.setState({dataSource,searchInput:v});\r\n        },10);\r\n        \r\n    }else{\r\n        util.ajaxJson(urlPrefix+urlSuffix,{[searchKey]:v,excludeValues:v?undefined:excludeValues,noPaging:true},res=>{\r\n            if(res.success){\r\n                let dataSource;\r\n                if(Array.isArray(res.data)){\r\n                    dataSource=res.data;\r\n                }else{\r\n                    dataSource=res.data.data;\r\n                }\r\n                this.setState({dataSource,searchInput:v});\r\n            }\r\n        });\r\n    }\r\n    \r\n  }\r\n  hightLight=v=>{\r\n    if(v){\r\n        if(v.type&&v.props)return v;\r\n        let value=this.state.searchInput+'',colValue=(v+'');\r\n        let idx=colValue.indexOf(value);\r\n        if(idx>-1){\r\n            return <span>{colValue.substring(0,idx)}<span className=\"hight-light\">{value}</span>{colValue.substring(idx+value.length)}</span>;\r\n        }\r\n    }\r\n    return v;\r\n}\r\n\r\n  render(){\r\n    let {columns,width,onChange,value,valueKey,nameKey,onSelected,excludeValues,allowClear,optionLabelProp,initRecords}=this.props;\r\n    let {open,dataSource,searchInput}=this.state;\r\n    if(!searchInput&&excludeValues&&excludeValues.length>0){// 过滤已选择的\r\n        dataSource=dataSource.filter(it=>excludeValues.indexOf(it[valueKey]+'')==-1);\r\n    }\r\n    if(initRecords&&!searchInput&&dataSource.length==0&&initRecords.length>0){// 兜底展示防空\r\n        dataSource=initRecords;\r\n    }\r\n    return (<Select ref={el=>this.el=el} optionLabelProp={optionLabelProp} filterOption={false} className=\"selecttable-select\" dropdownClassName=\"selecttable-dropdown\" firstActiveValue={dataSource.length>0?dataSource[0][valueKey]+'':undefined} {...this.props} value={value} showSearch style={{width:width?width:'100%'}} open={open} dropdownMatchSelectWidth={false} onDropdownVisibleChange={open=>{\r\n            if(open&&!value){\r\n                this.doSearch('');\r\n            }\r\n            this.setState({open});\r\n        }} onChange={e=>{\r\n            let goOn=true;\r\n            if(onSelected){\r\n                goOn=onSelected(e,dataSource.filter(it=>it[valueKey]==e)[0]);\r\n            }\r\n            if(goOn)onChange(e);\r\n        }} onSearch={v=>{\r\n            this.doSearch(v);\r\n        }} allowClear={allowClear}>\r\n          <Select.Option disabled key=\"-1\"><table className=\"selectTable\" style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><thead className=\"ant-table-thead\"><tr>{columns.filter(c=>!c.hidden).map(c=><th className=\"ant-table-row-cell-break-word\" key={c.key}><div>{c.title}</div></th>)}</tr></thead></table></Select.Option>\r\n          {dataSource.map((it,idx)=>{\r\n            let hasSelected=false;\r\n            if(excludeValues&&excludeValues.indexOf(it[valueKey]+'')>-1)hasSelected=true;// 已选择过的重复的，样式变一下\r\n            return <Select.Option key={'so'+idx} value={it[valueKey]+''} name={it[nameKey]} {...{[optionLabelProp]:it[optionLabelProp]}}>\r\n                <table className={\"selectTable\" + (hasSelected?' selectedTable':'')} style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><tbody className=\"ant-table-tbody\"><tr>{columns.filter(c=>!c.hidden).map((c,idx)=><td className=\"ant-table-row-cell-break-word\" key={c.key}>{this.hightLight(c.render?c.render(it[c.key],it,idx):it[c.key])}</td>)}</tr></tbody></table>\r\n            </Select.Option>;\r\n          })}\r\n        </Select>);\r\n  }\r\n}"],"sourceRoot":""}