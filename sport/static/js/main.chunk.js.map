{"version":3,"sources":["components/select/datePick.js","biz/common/indicates/area.js","components/common/table/queryCond.js","components/common/form/field.js","components/pops/editableField.js","components/icon/index.js","entry/index/routes/modals/loginModal.js","entry/index/routes/modals/hotline.js","entry/index/routes/Menu.js","common/ws.js","entry/index/routes/modals/richEditorDrawer.js","entry/index/routes/IndexPage.js","common/common.js","components/select/index.js","components/common/table/grid.js","components/common/table/table.js","components/common/form/form.js","components/common/index.js","biz sync /^/.*/index/.js$","biz/game/ballMate/index.js","biz/operate/ballRoom/index.js","biz/operate/memberBill/index.js","biz/sys/config/index.js","biz/sys/optLog/index.js","biz/sys/sysRole/index.js","biz/task/index.js","biz/common/fields/coach.js","biz/train/student/addStudentModal.js","biz/train/student/modifyStudentModal.js","biz/common/fields/sportType.js","biz/train/student/studentConsumeModal.js","biz/train/student/courseListDrawer.js","biz/train/student/rechargeStudentModal.js","biz/train/student/index.js","biz/operate/member/addMemberModal.js","biz/operate/member/modifyMemberModal.js","biz/operate/member/memberConsumeModal.js","biz/operate/member/index.js","registerServiceWorker.js","index.js","biz/bill/queryBill/billModal.js","biz/bill/queryBill/index.js","components/pops/saveParams.js","biz/common/indicates/index.js","biz/contact/contact.js","biz/contact/index.js","biz/game/game/gameModal.js","biz/game/game/index.js","biz/sys/sysUser/changePass.js","biz/sys/sysUser/index.js","biz/train/class/classStudentListDrawer.js","biz/train/class/index.js","biz/train/coach/settlementDrawer.js","biz/train/coach/index.js","biz/common/fields/upload.js","biz/common/fields/money.js","interfaces/interfaces.js","biz/common/fields/phone.js","components/select/selectTable.js"],"names":["BizComp","_this","Object","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","this","_len","arguments","length","args","Array","_key","_super","call","apply","concat","onRadioChange","e","value","target","thisRangeValue","rangeValue","state","now","Date","customRangeVisible","util","formatDate","moment","month","startOf","valueOf","format","endOf","undefined","props","onChange","setState","onRangeChange","preProps","customTimeShow","_this2","_this$state","_this$props","validValues","modeType","react__WEBPACK_IMPORTED_MODULE_13___default","a","createElement","Fragment","antd_es_select__WEBPACK_IMPORTED_MODULE_7__","style","position","size","indexOf","Option","onClick","antd_es_popover__WEBPACK_IMPORTED_MODULE_3__","title","visible","content","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_5__","RangePicker","disabledDate","current","trigger","antd_es_radio__WEBPACK_IMPORTED_MODULE_1__","Group","Button","className","Component","defaultProps","provK","pca","provName","cityK","replace","pcaa","BizComponent","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","context","formValues","useName","provs","citys","countys","prov","city","county","react__WEBPACK_IMPORTED_MODULE_7___default","ref","el","areaUi","antd_es_select__WEBPACK_IMPORTED_MODULE_1__","assign","getField","showSearch","optionFilterProp","placeholder","allowClear","keys","map","it","idx","key","getDisplayText","antd_es_form__WEBPACK_IMPORTED_MODULE_15__","Item","QueryCond","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","getQueryParam","beforeQuery","onQueryCondQuery","retainPage","type","emitter","emit","config","queryParam","k","trim","_convertFormValues","getExtButtons","extButtons","queryCond","isArray","on","cb","conditions","react__WEBPACK_IMPORTED_MODULE_16___default","idx1","antd_es_row__WEBPACK_IMPORTED_MODULE_5__","condition","idx2","curConditon","fields","forEach","field","label","shouldDisplay","antd_es_col__WEBPACK_IMPORTED_MODULE_8__","sm","_form_field__WEBPACK_IMPORTED_MODULE_17__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","options","v","onKeyDown","hideButtons","antd_es_button__WEBPACK_IMPORTED_MODULE_1__","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","create","antd_es_radio__WEBPACK_IMPORTED_MODULE_16__","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","antd_es_select__WEBPACK_IMPORTED_MODULE_12__","Field","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","disabled","optType","editableInModify","enums","mode","multi","react__WEBPACK_IMPORTED_MODULE_17___default","multiple","text","dictCode","_select__WEBPACK_IMPORTED_MODULE_18__","TextArea","antd_es_input__WEBPACK_IMPORTED_MODULE_5__","rows","antd_es_date_picker__WEBPACK_IMPORTED_MODULE_3__","showTime","getComponent","antd_es_input_number__WEBPACK_IMPORTED_MODULE_1__","CommonComp","onEditClick","mask","substring","status","setTimeout","focus","onBlur","onCall","callee","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__","contactType","react__WEBPACK_IMPORTED_MODULE_14___default","antd_es_input__WEBPACK_IMPORTED_MODULE_7__","onPressEnter","antd_es_select__WEBPACK_IMPORTED_MODULE_5__","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_3__","okText","cancelText","onConfirm","tuomin","href","antd_es_icon__WEBPACK_IMPORTED_MODULE_1__","components_icon","_react_16_14_0_react_default","aria-hidden","TestModal","classCallCheck","handleLogin","validFields","registerTag","validateFields","assertThisInitialized","values","verifyId","phone","pass","name","tenantId","verifyCode","ajaxJson","getPrefix","noErrAlert","result","success","data","errMsg","tenants","loginGo","message","error","guid","res","window","sessionStorage","setItem","id","minAjax","url","productPrefix","startsWith","prefix","toRegister","handleCancel","_ref","body","firstLogin","account","getItem","pwd","formItemLayout","labelCol","xs","span","wrapperCol","carousel","autoplay","modal","wrapClassName","top","width","onCancel","maskClosable","footer","es_button","es_form","input","bind","rules","validator","required","test","src","alt","es_select","getPopupContainer","document","querySelector","tenantName","SubMenu","menu","getTitleByKey","icon","loginMenus","lm","children","lc","changeCurrentMenu","handleClick","isProd","localStorage","menus","filter","parentCode","sort","b","num","menuObj","JSON","parse","ext","code","subMenus","subIt","lastActiveMenuKey","openKeys","onOpenChange","selectedKeys","inlineIndent","loop","item","heartbeatInterval","onSave","ue","getContent","rec","onClose","onCloseConfirm","confirm","onOk","_ref$width","_ref$content","setContent","UE","getEditor","ready","drawer","placement","height","popconfirm","ws","createWebSocket","WebSocket","MozWebSocket","onclose","err","console","log","reconnect","onerror","onopen","onmessage","event","dataObj","time","location","reload","handleMsg","initEventHandle","clearInterval","setInterval","_stopWebsocketHeartBeat","send","lockReconnect","encodeURIComponent","mixStr","stringify","domain","rooms","role","allRoles","allStaffs","urls","coaches","isAdmin","tenant","tenantConfig","TabPane","tabs","IndexPage","initUserInfo","urlPrefix","tconfig","majorCoachRate","coachRate","init","onMenuClick","comp","require","default","panes","activeKey","fps","p","push","onTabChange","indexMenu","onTabEdit","targetKey","action","_this$state2","user","userName","warn","_this$state3","Menu_BizComponent","hideAdd","onEdit","pane","Comp","tab","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","ajaxJsonAsync","stop","loginModal_TestModal","richEditorDrawer_BizComponent","EventEmitter","setMaxListeners","emitterOn","listner","removeAllListeners","ons","_parentUtil","cond","parent","parentNode","classList","contains","matched","styles","getComputedStyle","_showFieldError","isValid","msg","remove","explain","childNodes","innerText","add","errorMsgEl","appendChild","currentFormItemControl","formItem","tagName","onfocus","display","onblur","_getFormElementByFieldName","fieldName","ognlPrefix","pContainer","eles","querySelectorAll","getUniqClassName","idPrefix","newEles","i","_triggerFieldValidation","asyncCount","rule","contextVal","onlyOnce","Error","isFormFiledsValid","fieldProp","getEventTargetValue","noChineseSymbol","fv","checked","getSubField","_this3","clearValidateFields","hasOwnProperty","fieldVal","callback","_this4","vf","validateKeys","vkey","validCount","valid","newFormValues","formValue","_isAMomentObject","showFieldError","component","ops","form2js","nameValues","skipEmpty","j","l","nameParts","currResult","arrNameFull","arrName","arrIdx","namePart","_nameParts","arrays","sortedNameValues","_i2","_keys","split","match","substr","js2form","obj","results","_js2formResults","formObj","lvl","_getSubValues","subObj","itemName","tempItem","tempResult","getUrlParams","search","theRequest","strs","pair","decodeURIComponent","ajax","successCallback","async","xhrFields","withCredentials","xhr","response","post","errorCallback","dataStr","hash","preEnv","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","contentType","failMessage","Promise","isEmpty","getStringValue","convertStr2Num","domElement","getElementById","maskElement","unmask","date","shortYear","getFullYear","y","M","getMonth","d","getDate","h","getHours","m","getMinutes","s","getSeconds","c","r","Math","random","toString","getFileBase64","file","resolve","reject","reader","FileReader","readAsDataURL","onload","round","number","isNaN","getShortDate","timestamp","short","getTime","abs","fd","setAllNum2Str","count","isChinese","repeat","dotStr","RegExp","$1","exec","convertToChinaNum","arr1","arr2","english","des_i","encode","str","btoa","unescape","decode","escape","atob","getJSONString","eval","getJSON","paramObj","removeCommentFromJSON","e1","getCookie","cookies","cookie","parts","shift","join","pushAt","arr","newArr","throttle","delay","no_trailing","debounce_mode","timeout_id","last_exec","that","elapsed","clearTimeout","debounce","at_begin","mixUids","_step","rChars","base64url","reverse","_iterator","_createForOfIteratorHelper","n","done","uid","rIdx","trunc","splice","f","unMixStr","endsWith","_step2","_iterator2","initXMLhttp","xmlhttp","XMLHttpRequest","ActiveXObject","sign","md5","debugLog","dataType","onreadystatechange","readyState","responseText","errorInfo","rspContentType","getResponseHeader","rsp","errors","info","sendString","sendData","tmpArr","String","prototype","datum","FormData","open","beforeSend","setRequestHeader","t","allMetaData","CommonSelect","excludeValues","includeValues","desc","showKey","renderDesc","withTitle","withAll","allText","appCode","Grid","handleTableChange","pagination","filters","sorter","fetchDataAjax","onRowClick","record","index","loading","ajaxMethod","queryCondParam","defineProperty","currentPageName","pageSizeName","pageSize","queryCondHandler","resultHandler","tableData","total","totalName","unmount","queryEmitter","retainPagintion","defaultPageSize","columns","dataIndex","fixed","render","lazyInit","initQueryCond","table","rowKey","rowSelection","dataSource","onRow","scroll","bordered","rowClassName","expandedRowRender","expandIcon","expandRowByClick","expandedRowKeys","showTotal","BizTable","notInTable","column","enumObj","_this$props$config$ap","api","updateInterface","deleteInterface","canDelete","operationAddon","operationPrefix","canModify","params","beforeDelete","func","operationPreAddon","grid_Grid","queryInterface","es_radio","FormItem","BizForm","handleSubmit","fieldsValue","form","beforeSubmit","hideLoading","insertInterface","resultType","delayQueryTable","afterSubmit","beforeCancel","shouldFieldDisplay","notInAdd","isRequired","hiddenFields","isHiddenInForm","notInForm","formFields","formData","beforeShowDialog","beforeModify","beforeAdd","col","modalTitle","dialog","hiddenField","objectSpread","row","tooltip","es_col","form_field","BizIndex","getForm","components","keyword","onlyUseForm","_react_16_14_0_react","justify","table_queryCond","wrappedComponentRef","table_BizTable","form_BizForm","./bill/queryBill/index.js","./common/indicates/index.js","./contact/index.js","./game/ballMate/index.js","./game/game/index.js","./operate/ballRoom/index.js","./operate/member/index.js","./operate/memberBill/index.js","./sys/config/index.js","./sys/optLog/index.js","./sys/sysRole/index.js","./sys/sysUser/index.js","./task/index.js","./train/class/index.js","./train/coach/index.js","./train/student/index.js","webpackContext","req","webpackContextResolve","__webpack_require__","module","exports","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","maxLength","react__WEBPACK_IMPORTED_MODULE_5___default","_common_indicates_area__WEBPACK_IMPORTED_MODULE_12__","address","list","totalItem","_components_common__WEBPACK_IMPORTED_MODULE_9__","staffs","getFormData","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_15__","initTenantConfig","billCates","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_14__","react__WEBPACK_IMPORTED_MODULE_20___default","antd_es_tabs__WEBPACK_IMPORTED_MODULE_7__","defaultActiveKey","antd_es_form__WEBPACK_IMPORTED_MODULE_11__","antd_es_select__WEBPACK_IMPORTED_MODULE_13__","antd_es_input_number__WEBPACK_IMPORTED_MODULE_9__","precision","min","max","antd_es_popconfirm__WEBPACK_IMPORTED_MODULE_1__","_this2$state","antd_es_message__WEBPACK_IMPORTED_MODULE_5__","antd_es_button__WEBPACK_IMPORTED_MODULE_3__","rs","reg","resArr","resStr","customers","owner_name","contentObj","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_9___default","start_time","color","company_name","customer_name","finish_time","antd_es_message__WEBPACK_IMPORTED_MODULE_3__","_components_common__WEBPACK_IMPORTED_MODULE_13__","showPrice","unitPrice","handleOk","existData","sent","amount","doReportStudent","_x","roomId","gmtCreate","privateTrain","destroyOnClose","es_switch","_i","_invalidFields","invalidField","money","coach_BizComponent","input_number","date_picker","fields_upload","quality","onLoading","courses","recordCount","remark","onCoachChange","coach","times","consumeTimes","consumeAmount","studyTime","subType","isMainCoach","coachId","courseId","coursename","coachName","targetCourse","targetCoach","getContainer","sportType_BizComponent","selectTable","valueKey","nameKey","optionLabelProp","remainAmount","remainTimes","searchKey","step","avatar","imagePrefix","deleteStudentRec","studentId","refreshCourseInfo","deleteStudentRechargeBillRec","courseInfo","deleteCourse","billRes","billIdPrefix","abrupt","doDeleteCourse","ids","modifyCourseTimes","modifyCourseTime","course","records","bills","collapse","Panel","header","operator","mainCoachId","snapTimes","canSelectCourse","refreshExpandRow","recDs","upload","fileList","useEmpty","remainCourses","reduce","doDelete","pops","expanded","indent","billed","components_common","addStudentModal","modifyStudentModal","studentConsumeModal","courseListDrawer","rechargeStudentModal","billType","isVip","memberType","applyTime","consumeNow","checkedChildren","unCheckedChildren","es_checkbox","memberId","expireTime","room","addMemberModal","modifyMemberModal","memberConsumeModal","Boolean","hostname","script","head","ReactDOM","config_provider","locale","zh_CN","bodyDomains","billTime","manual","datePick","startTime","endTime","extBtns","ioMap","o","sumAmount","io","editableField","relInfo","billModal","storageItemKey","onLoad","left","right","bottom","zIndex","paramArr","loadParams","paramArrRevers","saveParamName","paramsStr","popover","getIndicates","indicates","indicatesMap","_loop","indicate","newK","disableSearch","doSearch","reserveBtn","onSearch","showSearchConds","tag","closable","stopPropagation","preventDefault","getTagContent","saveParams_CommonComp","onSaveCond","onCollapse","indicatesUi","mouseEnterDelay","enumItem","indicates_area","parentContainer","Consumer","contacts","contact","mobile_no","BizContext","React","createContext","Provider","contact_BizComp","finish","opt","ballMates","warning","onMateRowClick","onBallMateChange","getSelectedMates","selectedMates","project","defaultValue","hour","projects","hideLabel","shape","onSelected","urlSuffix","gameModal","changePass","doLoadData","classId","price","onRowChange","getSelected","selecteds","printEl","showArrow","initRecords","recPagination","onlyTrain","currentPageNum","introduction","dangerouslySetInnerHTML","__html","classStudentListDrawer","studentRecords","studentNames","studentName","doSettlement","hide","recIds","getTotal","totalFlag","getSettleAmount","rate","timeVal","toSettleAmount","lib_default","documentTitle","settlementDrawer","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","previewVisible","handlePreview","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__","G_projects_sport_front_sport_web_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","preview","originFileObj","previewImage","handleChange","_ref2","fileSize","uploadButton","react__WEBPACK_IMPORTED_MODULE_15___default","antd_es_icon__WEBPACK_IMPORTED_MODULE_7__","antd_es_upload__WEBPACK_IMPORTED_MODULE_3__","listType","onPreview","accept","customRequest","_ref3","onProgress","onError","onSuccess","filename","Compressor","_success","_callee2","base64Str","_context2","Image","_x2","antd_es_modal__WEBPACK_IMPORTED_MODULE_1__","amountTags","antd_es_input_number__WEBPACK_IMPORTED_MODULE_3__","antd_es_tag__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","productDomain","host","isProductUrl","isDebug","cannotDo","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","searchInput","_util$ajaxJson","G_projects_sport_front_sport_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","hightLight","colValue","react__WEBPACK_IMPORTED_MODULE_8___default","_this$props2","filterOption","dropdownClassName","firstActiveValue","dropdownMatchSelectWidth","onDropdownVisibleChange","goOn","hidden","minWidth","hasSelected"],"mappings":"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","file":"static/js/main.chunk.js","sourcesContent":["import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Radio,Popover,DatePicker } from 'antd';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n  static defaultProps = {\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      value:this.props.value,\r\n      customRangeVisible:false\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tthis.setState({value:this.props.value});\r\n\t\t}\r\n\t}\r\n\r\n  onRadioChange=e=>{\r\n    let value=e;\r\n    if(e&&e.target)value=e.target.value;\r\n    let {rangeValue}=this.state;\r\n    let thisRangeValue,now=Date.now(),customRangeVisible=false;\r\n    if(value=='0')thisRangeValue=[util.formatDate(now,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='1')thisRangeValue=[util.formatDate(now-86400000,'yyyy-MM-dd')+' 00:00:00.000',util.formatDate(now-86400000,'yyyy-MM-dd')+' 23:59:59.999'];\r\n    if(value=='30')thisRangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='-30')thisRangeValue=[moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n    if(value=='100'){\r\n      customRangeVisible=true;\r\n      rangeValue=undefined;\r\n    }\r\n    this.props.onChange(thisRangeValue, value);\r\n    this.setState({value,rangeValue,customRangeVisible});\r\n  }\r\n  \r\n  onRangeChange=rangeValue=>{\r\n    this.props.onChange([rangeValue[0].startOf('day').format('YYYY-MM-DD HH:mm:ss'),rangeValue[1].endOf('day').format('YYYY-MM-DD HH:mm:ss')],'100');\r\n    this.setState({rangeValue,customRangeVisible:false});\r\n  }\r\n\r\n  render(){\r\n    let {value,rangeValue,customRangeVisible}=this.state;\r\n    let {validValues,modeType}=this.props;\r\n    let customTimeShow;\r\n    if(value=='30')customTimeShow=<>{moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='-30')customTimeShow=<>{moment(moment().month(moment().month()-1).startOf('month').valueOf()).format('YYYY-MM-DD')} ~ {moment(moment().month(moment().month()-1).endOf('month').valueOf()).format('YYYY-MM-DD')}</>;\r\n    if(value=='100'&&rangeValue&&rangeValue.length>0)customTimeShow=<>{rangeValue[0].format('YYYY-MM-DD')} ~ {rangeValue[1].format('YYYY-MM-DD')}</>;\r\n    return (\r\n        <>\r\n        {modeType=='select'&&<Select style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Select.Option value=\"-1\">全部</Select.Option>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Select.Option value=\"0\">今天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Select.Option value=\"1\">昨天</Select.Option>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Select.Option value=\"30\">本月</Select.Option>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Select.Option value=\"-30\">上月</Select.Option>}\r\n            <Select.Option value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Select.Option>\r\n            \r\n        </Select>}\r\n        {modeType=='select'&&<Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">  \r\n        </Popover>}\r\n        {modeType!='select'&&<Radio.Group style={{position:'relative'}} size=\"small\" value={value} onChange={this.onRadioChange}>\r\n            {(!validValues||validValues.indexOf('-1')>-1) && <Radio.Button value=\"-1\">全部</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('0')>-1) && <Radio.Button value=\"0\">今天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('1')>-1) && <Radio.Button value=\"1\">昨天</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('30')>-1) && <Radio.Button value=\"30\">本月</Radio.Button>}\r\n            {(!validValues||validValues.indexOf('-30')>-1) && <Radio.Button value=\"-30\">上月</Radio.Button>}\r\n            <Popover title=\"请选择自定义时间段\" visible={customRangeVisible} content={<DatePicker.RangePicker value={this.state.rangeValue} onChange={this.onRangeChange} disabledDate={current=>current && current > moment().endOf('day')}/>} trigger=\"click\">\r\n              <Radio.Button value=\"100\" onClick={()=>this.setState({customRangeVisible:true})}>自定义</Radio.Button>\r\n            </Popover>\r\n        </Radio.Group>}\r\n        <span className=\"date-pick-tips\">{customTimeShow}</span>\r\n        </>);\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport { pca, pcaa } from 'area-data';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\n// 地点改名\r\nfor(let provK in pca['86']){\r\n    let provName=pca['86'][provK];\r\n    if(provName.indexOf('市')>-1){\r\n        pca['86'][provK]=provName.replace('市','');\r\n        for(let cityK in pcaa[provK]){\r\n            let cityName=pcaa[provK][cityK];\r\n            if(cityName=='市辖区')pcaa[provK][cityK]=provName;\r\n        }\r\n    }\r\n}\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {context,useName}=this.props;\r\n        let {formValues}=context.state;\r\n        if(!formValues)return null;\r\n        let provs=pca['86'],citys={},countys={};\r\n        let {prov,city,county}=formValues;\r\n        if(prov){\r\n            citys=pcaa[prov];\r\n        }\r\n        if(city){\r\n            countys=pcaa[city];\r\n        }\r\n        return <div className=\"area-c\" ref={el=>{\r\n            this.areaUi = el;\r\n        }}>\r\n            <Select {...util.getField.call(context,'prov',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.city=undefined;\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"en\" placeholder=\"省\" allowClear size=\"small\">{Object.keys(provs).map((it,idx)=><Select.Option key={'prov'+idx} value={it}>{provs[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'city',{onChange:e=>{\r\n                if(!e){\r\n                    context.state.formValues.county=undefined;\r\n                    context.setState({});\r\n                }\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"市\" allowClear size=\"small\">{Object.keys(citys).map((it,idx)=><Select.Option key={'city'+idx} value={it}>{citys[it]}</Select.Option>)}</Select>\r\n            <Select {...util.getField.call(context,'county',{onChange:e=>{\r\n                this.props.onChange(e);\r\n            }})} showSearch optionFilterProp=\"children\" placeholder=\"区\" allowClear size=\"small\">{Object.keys(countys).map((it,idx)=><Select.Option key={'county'+idx} value={it}>{countys[it]}</Select.Option>)}</Select>\r\n        </div>;\r\n    }\r\n}\r\nexport let getDisplayText=(prov,city,county)=>{\r\n    return pca['86'][prov]+(prov&&city?'-'+pcaa[prov][city]:'')+(prov&&city&&county?'-'+pcaa[city][county]:'');\r\n}","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Input, Row, Col, Button, DatePicker,Select,Icon } from 'antd';\r\nimport Field from '../form/field';\r\nimport {emitter,util} from '../../../common/common.js';\r\nconst FormItem = Form.Item;\r\nclass QueryCond extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`set${this.props.config.key}QueryCondForm`,queryCond=>{\r\n      this.setState({formValues:queryCond});\r\n    });\r\n    emitter.on(`get${this.props.config.key}QueryCondForm`,(cb)=>{\r\n      cb(this.getQueryParam());\r\n    });\r\n    emitter.on(`on${this.props.config.key}QueryBtnClick`,(retainPage)=>{\r\n      this.onQueryCondQuery(undefined,retainPage);\r\n    });\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n  getQueryParam=()=>{\r\n    return this.beforeQuery(this.state.formValues);\r\n  }\r\n  onQueryCondQuery=(e,retainPage)=>{\r\n    if(!e || e.key == 'Enter' || e.type=='click'){\r\n      emitter.emit(`query${this.props.config.key}Table`, this.beforeQuery(this.state.formValues), retainPage);\r\n    }\r\n  }\r\n  beforeQuery=(queryParam)=>{\r\n    if(queryParam){\r\n      for(let k in queryParam){\r\n        if(queryParam[k] && typeof queryParam[k] == 'string'){\r\n          queryParam[k] = queryParam[k].trim();\r\n        }\r\n        if(queryParam[k] === ''){\r\n          delete queryParam[k];\r\n        }\r\n      }\r\n    }\r\n    queryParam=util._convertFormValues(queryParam);\r\n    return queryParam;\r\n  }\r\n  getExtButtons=()=>{\r\n    let {extButtons}=this.props.config.queryCond;\r\n    if(extButtons){\r\n      if(typeof extButtons == 'function'){\r\n        return extButtons();\r\n      }else if(Array.isArray(extButtons)){\r\n        return extButtons;\r\n      }\r\n    }\r\n  }\r\n  render(){\r\n    if(!this.props.config.queryCond || !this.props.config.queryCond.conditions || this.props.config.queryCond.conditions.length <= 0){\r\n      return <div></div>;\r\n    }\r\n    return (\r\n    <Form className=\"ant-advanced-search-form queryCond\">\r\n      {this.props.config.queryCond.conditions.map((conditions,idx1)=>{\r\n        return (<Row key={idx1}>\r\n          {conditions.map((condition,idx2)=>{\r\n            if(!condition){\r\n              return;\r\n            }\r\n            let curConditon;\r\n            this.props.config.fields.forEach(field=>{\r\n              if(field.key == condition.key){\r\n                curConditon = Object.assign({},field);\r\n              }\r\n            });\r\n            if(!curConditon){// fields中未找到匹配，则用自己\r\n              curConditon = condition;\r\n            }else if(condition.type == 'custom'){\r\n              curConditon.label&&(condition.label=curConditon.label);\r\n              curConditon = condition;\r\n            }\r\n            condition.label&&(curConditon.label=condition.label);\r\n            // 是否展示\r\n            if(curConditon.shouldDisplay){\r\n              if(!curConditon.shouldDisplay(this)){\r\n                return <Col key={idx2} sm={6}></Col>;\r\n              }\r\n            }\r\n            return (<Col key={idx2} sm={6}><span className=\"label\">{curConditon.label}：</span>\r\n            <Field {...util.getField.call(this,curConditon.key,{...curConditon.options, onChange:v=>{\r\n              if(curConditon.onChange){\r\n                curConditon.onChange(v,this.state.formValues);// 把当前queryForm值给到conditions\r\n              }\r\n            }})} field={curConditon} context={this} onKeyDown={this.onQueryCondQuery} placeholder={curConditon.placeholder} size={this.props.config.queryCond.size}/>\r\n          </Col>);\r\n          })}\r\n        </Row>);\r\n      })}\r\n      {!this.props.config.queryCond.hideButtons&&<Row>\r\n        <Col sm={12}>\r\n            <Button type=\"primary\" className=\"search-button\" onClick={this.onQueryCondQuery} size={this.props.config.queryCond.size}><Icon type=\"search\" />搜索</Button>\r\n            <Button type=\"ghost\" className=\"search-button\" onClick={()=>{\r\n              this.setState({formValues:{}});\r\n            }} size={this.props.config.queryCond.size}><Icon type=\"close-square\" />清除</Button>\r\n            {this.getExtButtons()}\r\n        </Col>\r\n      </Row>}\r\n    </Form>);\r\n  }\r\n}\r\nQueryCond = Form.create({\r\n})(QueryCond);\r\nexport default QueryCond;\r\n","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  DatePicker,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport CommonSelect from '../../select';\r\nimport {emitter,util} from '../../../common/common';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\nexport default class Field extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let {field,context} = this.props;\r\n    let disabled = this.props.optType == 'modify' && field.editableInModify === false;\r\n    let props = Object.assign({},this.props);\r\n    delete props.field;\r\n    delete props.optType;\r\n    if(field.enums){\r\n      let {enums}=field;\r\n      if(typeof enums=='function')enums=enums();\r\n      let mode=field.multi?'multiple':undefined;\r\n      return (<Select multiple={field.multi} disabled={disabled} mode={mode} {...props}>{enums.map(e=>{\r\n        let key,value;\r\n        key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n        value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n        return <Option key={key} value={key+''}>{value}</Option>;\r\n      })}</Select>);\r\n    }else if(field.dictCode){\r\n      return (<CommonSelect {...field} {...props}/>);\r\n    }else if(field.type=='textarea'){\r\n      let TextArea = Input.TextArea;\r\n      if(!TextArea)TextArea=Input;\r\n      return (<TextArea type=\"textarea\" rows={field.rows?field.rows:4} disabled={disabled} {...props}/>);\r\n    }else if(field.type=='date'){\r\n      return (<DatePicker format=\"YYYY-MM-DD\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='datetime'){\r\n      return (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" disabled={disabled} {...props}/>);\r\n    }else if(field.type=='custom'){\r\n      return field.getComponent(props,context);\r\n    }else if(field.type=='number'){\r\n      return (<InputNumber disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }else{\r\n      return (<Input disabled={disabled} onKeyDown={this.props.onKeyDown} {...props}/>);\r\n    }\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,Icon } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tstatic defaultProps={\r\n        type:'Input'\r\n    }\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t\tlet {value}=this.props;\r\n\t    this.state={formValues:{value},status:'label'};\r\n\t}\r\n\tcomponentDidUpdate(preProps){\r\n\t\tif(this.props.value!=preProps.value){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.value=this.props.value;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n\t}\r\n\tonEditClick=()=>{\r\n\t\tlet {mask}=this.props;\r\n\t\tlet {formValues}=this.state;\r\n\t\tif(mask&&formValues.value){\r\n\t\t\tformValues.value=formValues.value.substring(0,2);\r\n\t\t}\r\n\t\tthis.setState({status:'edit',formValues});\r\n\t\tsetTimeout(()=>{\r\n\t\t\tif(this.el){\r\n\t\t\t\tthis.el.focus();\r\n\t\t\t}\r\n\t\t},20);\r\n\t}\r\n\r\n\tonBlur=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tthis.props.onBlur(formValues.value);\r\n\t\t// if(!this.props.silence){\r\n\t\t// \tmessage.success('保存成功！');\r\n\t\t// }\r\n\t\tthis.setState({status:'label'});\r\n\t}\r\n\tonCall=()=>{\r\n\t\tlet {formValues}=this.state;\r\n\t\tlet callee=formValues.value;\r\n\t\temitter.emit('call-out-ccc',callee,this);\r\n\t}\r\n\trender(){\r\n\t\tlet {value,type,enums,mask,contactType}=this.props;\r\n\t\tif(contactType=='电话'&&mask===undefined)mask=true;\r\n\t\tlet {status,formValues}=this.state;\r\n\t    return <span className=\"editable-field-c\">\r\n\t\t\t{status=='edit'&&<>\r\n\t\t\t\t{type=='Input'&&<Input ref={el=>{\r\n\t\t\t\t\tthis.el=el;\r\n\t\t\t\t}} {...util.getField.call(this,'value')} onBlur={this.onBlur} onPressEnter={this.onBlur}></Input>}\r\n\t\t\t\t{type=='Select'&&<Select {...util.getField.call(this,'value',{onChange:this.onBlur})}>\r\n\t\t\t\t\t{enums.map(it=><Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>)}\r\n\t\t\t\t</Select>}\r\n\t\t\t</>}\r\n\t\t\t{status=='label'&&<span>{mask?<Popconfirm title={\"确定发起外呼？\"} okText=\"好\" cancelText=\"取消\" onConfirm={this.onCall}><a>{util.tuomin(formValues.value,2)}</a></Popconfirm>:(contactType=='钉钉'?<a href={`dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=${formValues.value}`}>{formValues.value}</a>:(contactType=='旺旺'?<a href={`aliim:sendmsg?toid=cntaobao${formValues.value}`}>{formValues.value}</a>:formValues.value))}\r\n\t\t\t\t{mask&&<Popconfirm title={\"确定修改？敏感字段不会记住原来的值\"} onConfirm={this.onEditClick}><Icon type=\"highlight\"/></Popconfirm>}\r\n\t\t\t\t{!mask&&<Icon type=\"highlight\" onClick={this.onEditClick}/>}\r\n\t\t\t</span>}\r\n\t\t</span>;\r\n\t}\r\n}","import React from 'react';\r\nexport default function(props){\r\n\treturn <svg className=\"icon\" aria-hidden=\"true\">\r\n\t    <use href={'#'+props.type}></use>\r\n\t</svg>;\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Carousel} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter,minAjax} from '../../../../common/common';\r\nimport {prefix,productPrefix,isProductUrl, urlPrefix} from '../../../../interfaces/interfaces';\r\nimport {allMetaData} from '../../../../components/select';\r\n\r\nexport default class TestModal extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('goto-login', ({config,body})=>{\r\n      let verifyId=util.guid();\r\n      let firstLogin=config.url&&config.url.indexOf('SysUserFramework?opt=getUserInfo')>-1;\r\n      let account = window.sessionStorage.getItem('account');\r\n      let pwd = window.sessionStorage.getItem('pwd');\r\n  \t\tthis.setState({visible:true,registerTag:undefined,formValues:{account,pwd},url:config.url,config,firstLogin,verifyId});\r\n\r\n      // if(body){\r\n      //   let url=JSON.parse(body).url;\r\n      //   let urlPrefix = url.substring(0,url.indexOf('reffer='));\r\n      //   let targetUrl;\r\n      //   if(isProductUrl(config.url)){\r\n      //     targetUrl=productPrefix+'fbi/api/v1/ssoagentlogin/jumplogin?reffer='+encodeURIComponent('http:'+productPrefix.substring(0,productPrefix.length-1)+'?target='+encodeURIComponent(window.location.href));\r\n      //   }else{\r\n      //     targetUrl=urlPrefix+'reffer='+encodeURIComponent(prefix+'fbi/api/v1/index?target='+encodeURIComponent(window.location.href));\r\n      //   }\r\n      //   window.location.href=targetUrl;\r\n      // }\r\n  \t});\r\n    emitter.on('refresh-verify-code',()=>{\r\n      if(this.state.visible){\r\n        this.setState({verifyId:util.guid()});\r\n      }\r\n    });\r\n  \tthis.state={\r\n      formValues:{}\r\n  \t};\r\n  }\r\n\r\n  handleLogin=()=>{\r\n    let {registerTag} = this.state;\r\n    let validFields;\r\n    if(registerTag){\r\n      validFields = ['name','phone','pass','pwd1','groupIds'];\r\n    }else{\r\n      validFields = ['phone','pass','verifyCode'];\r\n    }\r\n    util.validateFields.call(this,values=>{\r\n      let {verifyId}=this.state;\r\n      let {phone,name,pass,tenantId,verifyCode} = values;\r\n      if(registerTag){\r\n        // util.ajaxJson(this.getPrefix()+'flow/user/register',{account,name,pass,groupIds:JSON.stringify(groupIds)},res=>{\r\n        //   if(res.success && !res.errMsg){\r\n        //     message.success('注册成功!');\r\n        //     window.sessionStorage.setItem('name',name);\r\n        //     window.sessionStorage.setItem('groupIds',JSON.stringify(groupIds));\r\n        //     window.location.reload();\r\n        //   }else{\r\n        //     message.error(res.errMsg);\r\n        //   }\r\n        // });\r\n      }else{\r\n        util.ajaxJson(this.getPrefix()+'flow/biz/login',{phone,pass,tenantId,verifyId,verifyCode,noErrAlert:true},result=>{\r\n          if(result.success && result.data && !result.errMsg){\r\n            if(result.data.length>1){\r\n              let {formValues}=this.state;\r\n              formValues.tenantId=result.data[0].tenantId;\r\n              this.setState({tenants:result.data,formValues});\r\n            }else{\r\n              this.loginGo(result);\r\n            }\r\n          }else{\r\n            message.error(result.errMsg||'登陆失败');\r\n            if(result.errMsg=='验证码错误'){\r\n              this.setState({verifyId:util.guid()});\r\n            }\r\n          }\r\n        });\r\n      }\r\n      \r\n    },validFields);\r\n  }\r\n\r\n  loginGo=(result)=>{\r\n    let res=result.data[0];\r\n    window.sessionStorage.setItem('name',res.name);\r\n    window.sessionStorage.setItem('userId',res.id);\r\n    window.sessionStorage.setItem('phone',res.phone);\r\n    emitter.emit('init');\r\n    minAjax(this.state.config);\r\n    this.setState({visible:false,tenants:[]});\r\n  }\r\n\r\n  getPrefix=()=>{\r\n    let {url} = this.state;\r\n    if(!url || !productPrefix){\r\n      return prefix;\r\n    }\r\n    if(url.startsWith(productPrefix)){\r\n      return productPrefix;\r\n    }\r\n    return prefix;\r\n  }\r\n\r\n  toRegister=()=>{\r\n    this.setState({registerTag:true});\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 6 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    let {formValues,registerTag,firstLogin,verifyId} = this.state;\r\n  \treturn (<div>\r\n      {firstLogin&&<div className=\"first-login-c\">\r\n      <div className=\"logo-text\">球馆数字化先锋——球掌柜，掌控全局，运筹帷幄！</div>\r\n        <Carousel autoplay>\r\n          <div className=\"carousel-item carousel-item-1\"> \r\n          </div>\r\n          <div className=\"carousel-item carousel-item-2\">\r\n            <h3>2</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-3\">\r\n            <h3>3</h3>\r\n          </div>\r\n          <div className=\"carousel-item carousel-item-4\">\r\n            <h3>4</h3>\r\n          </div>\r\n        </Carousel>\r\n      </div>}\r\n      <Modal mask={!firstLogin} wrapClassName={\"login-modal\"+(firstLogin?' first-login-modal':'')} title={registerTag?'注册':'欢迎来到球掌柜，请先登陆'} style={{top:'200px'}} visible={this.state.visible} width={400} onCancel={this.handleCancel} maskClosable={false}\r\n          footer={[\r\n            <Button key=\"login\" type=\"primary\" onClick={this.handleLogin}>{registerTag?'注册':'登录'}</Button>,\r\n            <Button key=\"close\" onClick={this.handleCancel}>关闭</Button>\r\n          ]}>  \r\n          <Form id=\"log-container-form\" className=\"login-container\">\r\n            {registerTag&&<Form.Item {...formItemLayout} label=\"姓名\">\r\n              <Input {...util.getField.bind(this)('name',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})}/>\r\n            </Form.Item>}\r\n            <Form.Item {...formItemLayout} label=\"账号(手机号)\" required>\r\n              <Input {...util.getField.bind(this)('phone',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'},{validator:v=>{\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item {...formItemLayout} label=\"密码\" required>\r\n              <Input type=\"password\" {...util.getField.bind(this)('pass',{rules:[{validator:v=>{\r\n                return !!v;\r\n              },message:'必填'}]})} onPressEnter={this.handleLogin}/>\r\n            </Form.Item>\r\n            {registerTag&&<div>\r\n              <Form.Item {...formItemLayout} label=\"密码确认\">\r\n                <Input {...util.getField.bind(this)('pwd1',{rules:[{validator:v=>{\r\n                  return !!v;\r\n                },message:'必填'},{validator:v=>{\r\n                  let {formValues} = this.state;\r\n                  return formValues.pwd === v;\r\n                },message:'前后密码不一致'}]})}/>\r\n              </Form.Item>\r\n            </div>}\r\n            {!registerTag&&<Form.Item {...formItemLayout} label=\"验证码\" className=\"verify-code\" required>\r\n              <Input {...util.getField.call(this,'verifyCode',{rules:[{required:true,message:'必填'}]})} onPressEnter={this.handleLogin}/><img onClick={()=>this.setState({verifyId:util.guid()})} src={prefix+'image/verifyCode?tk='+verifyId} alt=\"\"></img>\r\n            </Form.Item>}\r\n            <div className=\"register-area\">\r\n              {false&&<a onClick={this.toRegister}>注册</a>}\r\n              {registerTag&&<a onClick={()=>{\r\n                this.setState({registerTag:undefined});\r\n              }}>返回</a>}\r\n            </div>\r\n\r\n\r\n            {this.state.tenants&&this.state.tenants.length>1&&<Form.Item label=\"请选择企业信息\">\r\n              <Select {...util.getField.call(this,'tenantId')} getPopupContainer={()=>document.querySelector('.login-modal')}>\r\n                {this.state.tenants.map(it=><Select.Option key={it.tenantId} value={it.tenantId}>{it.tenantName}</Select.Option>)}\r\n              </Select>\r\n            </Form.Item>}\r\n          </Form>\r\n      </Modal></div>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button} from 'antd';\r\nimport {util,emitter} from '../../../../common/common';\r\nimport {domain} from '../../../../interfaces/interfaces';\r\nimport './index.less';\r\nexport default class BizComp extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('call-out-ccc',(callee,that)=>{\r\n            callee=callee+'';\r\n            if(!(/^1[3456789]\\d{9}$/.test(callee))){\r\n                return message.warning('手机号格式有误，必须为1开头的11位数字');\r\n            }\r\n            if(!window.workbench){\r\n                return message.warning('电话坐席未初始化！');\r\n            }\r\n            let status=window.workbench.getStatus();\r\n            if(status!='ready')return message.warning('电话坐席未初始化成功！');\r\n            window.workbench.call(callee);\r\n            if(that&&that.props&&that.props.onCall)that.props.onCall(callee);\r\n        });\r\n        this.state={\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        setTimeout(this.initHotline,200);\r\n        \r\n    }\r\n\r\n    initHotline=()=>{\r\n        window.workbench = new window.WorkbenchSdk({\r\n            dom: 'workbench',\r\n            instanceId: '62e83165-8999-4462-81b9-7adb13521ab6',\r\n            ajaxOrigin:'//'+domain,\r\n            ajaxPath: '/iflow-proxy/api/v1/crm',\r\n            ajaxMethod: 'post',\r\n            ajaxOtherParams:{isFromCCC:1},\r\n            withCredentials:true,\r\n            exportErrorOfApi:true,\r\n            \r\n            moreActionList:['onlyCall'],\r\n            header: true,\r\n            onInit: function () {\r\n                // window.workbench.register();\r\n            },\r\n            onRegister:function(config){\r\n                // document.querySelector('.next-icon-suoxiao1').click();\r\n            },\r\n            onErrorNotify: function (error) {\r\n              console.warn(error)\r\n            },\r\n            onCallComing: function (aa, bb, cc, dd) {\r\n              console.log(aa, bb, cc, dd);\r\n            },\r\n            onCallDialing: function (aa, bb, cc, dd) {\r\n              let iconEl=document.querySelector('#workbench .next-icon-guaduan');\r\n              if(iconEl&&iconEl.previousElementSibling){\r\n                iconEl.previousElementSibling.style.visibility='hidden';\r\n              }\r\n              let tabContentEl=document.querySelector('.next-tabs-content h1');\r\n              if(tabContentEl){\r\n                tabContentEl.style.visibility='hidden';\r\n              }\r\n            },\r\n            onStatusChange: function (code, lastCode, context){\r\n              console.log(code, lastCode, context);\r\n            },\r\n            onCallRelease: function (connid, caller, privateData) {\r\n                console.log(\"这里是通话结束时触发的回调函数\", connid, caller, privateData)\r\n            }\r\n        });\r\n        document.querySelector('.next-icon-suoxiao1').click();\r\n    }\r\n\r\n    render() {\r\n  \t    return (<div className=\"hotline-widget\">\r\n            <div id=\"workbench\"></div>\r\n          </div>);\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport { Menu, Icon, Switch } from 'antd';\r\nimport IIcon from '../../../components/icon';\r\nimport {role,isAdmin,menus} from './IndexPage';\r\nconst SubMenu = Menu.SubMenu;\r\n\r\nexport default class BizComponent extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n        let loginMenus = menus.filter(it=>!it.parentCode).sort((a,b)=>a.num-b.num).map(it=>{\r\n\t\t\tlet menuObj={title:it.name,icon:JSON.parse(it.ext).icon,key:it.code};\r\n\t\t\tlet subMenus=menus.filter(subIt=>subIt.parentCode==it.code).sort((a,b)=>a.num-b.num).map(it=>({title:it.name,icon:JSON.parse(it.ext).icon,key:it.code}));\r\n\t\t\tmenuObj.children=subMenus;\r\n\t\t\treturn menuObj;\r\n\t\t});\r\n\t\tlet current='operate/member';\r\n\t\tif(!window.isProd()){\r\n\t\t\tlet lastActiveMenuKey=localStorage.getItem('_curActiveMenuKey');\r\n\t\t\tif(lastActiveMenuKey){\r\n\t\t\t\tcurrent=lastActiveMenuKey;\r\n\t\t\t}\r\n\t\t}\r\n    \tthis.state={\r\n    \t\tloginMenus,\r\n      \t\topenKeys:loginMenus.map(it=>it.key),\r\n      \t\tcurrent\r\n    \t};\r\n\t}\r\n\tcomponentDidMount(){\r\n        let {current} = this.state;\r\n\t\tthis.props.onClick(current,undefined, this.getTitleByKey(current));\r\n\t}\r\n    getTitleByKey=key=>{\r\n        let {loginMenus} = this.state;\r\n        let title,icon;\r\n        loginMenus.forEach(lm=>{\r\n\t\t\tif(lm.key==key){\r\n\t\t\t\ttitle = lm.title;\r\n\t\t\t\ticon = lm.icon;\r\n\t\t\t}\r\n            lm.children.forEach(lc=>{\r\n                if(lc.key == key){\r\n\t\t\t\t\ttitle = lc.title;\r\n\t\t\t\t\ticon = lc.icon;\r\n                }\r\n            });\r\n        });\r\n\t\treturn <span className=\"tab-title\"><IIcon type={icon}/>{title}</span>;\r\n    }\r\n    changeCurrentMenu=(current)=>{\r\n        this.setState({\r\n          current\r\n        });\r\n    }\r\n\thandleClick=(e)=>{\r\n\t    this.changeCurrentMenu(e.key);\r\n\t\tthis.props.onClick(e.key,undefined,this.getTitleByKey(e.key));\r\n\t\tif(!window.isProd()){\r\n\t\t\tlocalStorage.setItem('_curActiveMenuKey', e.key);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t  \tconst loop = data => data.map(item => {\r\n\t      if (item.children && item.children.length) {\r\n\t        return (<SubMenu key={item.key} title={(()=>{\r\n\t          return <div><IIcon type={item.icon}/>{item.title}</div>;\r\n\t        })()}>{loop(item.children)}</SubMenu>);\r\n\t      }\r\n\t      return <Menu.Item key={item.key}><IIcon type={item.icon} /><span>{item.title}</span></Menu.Item>;\r\n\t\t});\r\n\t\treturn <div className={\"fc-menu-container\"}>\r\n\t\t\t<div className=\"logo-c\"><IIcon type=\"icon-pingpong\"/><span className=\"logo-text\">球掌柜</span></div>\r\n\t\t\t<Menu id=\"fc-menu-container\" onClick={this.handleClick}\r\n\t\t\t\topenKeys={this.state.openKeys}\r\n\t\t\t\tonOpenChange={openKeys=>{\r\n\t\t\t\tthis.setState({openKeys});\r\n\t\t\t\t}}\r\n\t\t\t\tselectedKeys={[this.state.current]}\r\n\t\t\t\tmode=\"inline\"\r\n\t\t\r\n\t\t\t\tinlineIndent={10}\r\n\t\t\t>\r\n\t\t\t\t{loop(this.state.loginMenus)}\r\n\t\t\t</Menu>\r\n\t\t  </div>\r\n\t    ;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport {message} from 'antd';\r\nimport {domain} from '../interfaces/interfaces';\r\nimport {Modal} from 'antd';\r\nimport {util,emitter} from './common';\r\nimport {tenantId,name,phone} from '../entry/index/routes/IndexPage';\r\nexport let ws = null;\r\n\r\nfunction handleMsg(event){\r\n    if(event.data){\r\n        if(event.data=='q'||event.data=='p'){\r\n            emitter.emit('refresh-verify-code');\r\n            return;\r\n        }\r\n        let dataObj=JSON.parse(event.data);\r\n        if(dataObj.type=='refreshConfirm'){\r\n            Modal.confirm({\r\n                title:'页面刷新提醒确认？',\r\n                content:<div>检测到应用有更新，更新时间【{util.formatDate(dataObj.time)}】，请及时刷新页面！\r\n                        <div>提示：刷新前未保存数据，刷新后将丢失</div></div>,\r\n                okText:\"刷新\",\r\n                cancelText:\"取消\",\r\n                onOk:()=>{\r\n                    window.location.reload();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nlet heartbeatInterval;\r\n\r\nfunction createWebSocket(url) {\r\n    try {\r\n        if ('WebSocket' in window) {\r\n            ws = new window.WebSocket(url);\r\n        } else if ('MozWebSocket' in window) {\r\n            ws = new window.MozWebSocket(url);\r\n        } else {\r\n            message.error(\"当前浏览器不支持websocket协议,建议使用现代浏览器\");\r\n        }\r\n        initEventHandle(url);\r\n        if(heartbeatInterval){\r\n            clearInterval(heartbeatInterval);\r\n            heartbeatInterval=undefined;\r\n        }\r\n        heartbeatInterval=setInterval(()=>{\r\n            if(window._stopWebsocketHeartBeat){\r\n                if(heartbeatInterval){\r\n                    clearInterval(heartbeatInterval);\r\n                    heartbeatInterval=undefined;\r\n                }\r\n            }\r\n            ws.send('p');\r\n        }, 55000);\r\n    } catch (e) {\r\n        reconnect(url);\r\n    }\r\n}\r\nfunction initEventHandle(url) {\r\n    ws.onclose = function (err) {\r\n        console.log('onClose', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onerror = function (err) {\r\n        console.log('onErr', err);\r\n        reconnect(url);\r\n    };\r\n    ws.onopen = function () {\r\n    };\r\n    ws.onmessage = function (event) {    //如果获取到消息，心跳检测重置\r\n        handleMsg(event);\r\n    };\r\n}\r\nfunction reconnect(url) {\r\n    if (reconnect.lockReconnect) return;\r\n    reconnect.lockReconnect = true;\r\n    setTimeout(function () {     //没连接上会一直重连，设置延迟避免请求过多\r\n        createWebSocket(url);\r\n        reconnect.lockReconnect = false;\r\n    }, 2000);\r\n}       \r\n\r\nemitter.on('init-websocket',()=>{\r\n    let code=encodeURIComponent(util.mixStr(JSON.stringify({tenantId,name,phone})));\r\n    let url=`ws${window.location.href.indexOf('https')==0?'s':''}://${domain}/connectWs/${code}`;\r\n    createWebSocket(url);\r\n    \r\n});\r\n","import React, { Component } from 'react';\r\nimport {Button, Drawer, Modal, Popconfirm} from 'antd';\r\nimport { emitter, util } from '../../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('open-rich-editor-drawer',({key,title,width=1000,content='',rec})=>{\r\n            this.setState({visible:true,key,width,title,rec},()=>{\r\n                if(!window.ue){\r\n                    setTimeout(()=>{\r\n                        window.ue=window.UE.getEditor('uedit-container');\r\n                        window.ue.ready(()=>{\r\n                            window.ue.setContent(content)\r\n                        });\r\n                    },200);\r\n                    \r\n                }else{\r\n                    window.ue.setContent(content);\r\n                }\r\n            });\r\n            \r\n        });\r\n        this.state={\r\n            visible:false\r\n        };\r\n    }\r\n    onSave=()=>{\r\n        emitter.emit('rich-editor-save-'+this.state.key,{content:window.ue.getContent(),rec:this.state.rec});\r\n        this.onClose();\r\n    }\r\n    onClose=()=>{\r\n        this.setState({visible:false});\r\n    }\r\n    onCloseConfirm=()=>{\r\n        Modal.confirm({\r\n            title:\"关闭确认\",\r\n            content:\"确定要未保存就退出吗？\",\r\n            onOk:this.onClose\r\n        });\r\n    }\r\n    render() {\r\n        let {title,width,visible}=this.state;\r\n        return <>\r\n        <Drawer title={title} visible={visible} maskClosable={false} width={width} className=\"ueditor-drawer\" placement=\"right\" onClose={this.onCloseConfirm}>\r\n            <script id=\"uedit-container\" name=\"content\" type=\"text/plain\" style={{height:'calc(100vh - 300px)'}}></script>\r\n            <Popconfirm title=\"确定提交？\" onConfirm={this.onSave}><Button type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n        </Drawer>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport {emitter,util} from '../../../common/common';\r\nimport {urlPrefix,domain,productDomain,isProductUrl} from '../../../interfaces/interfaces';\r\nimport Icon from '../../../components/icon';\r\nimport {message,Popover,Tooltip,Input,Button,Tabs, Popconfirm} from 'antd';\r\nimport LoginModal from './modals/loginModal';\r\nimport Hotline from './modals/hotline';\r\nimport Menu from './Menu';\r\nimport RichEditorDrawer from './modals/richEditorDrawer';\r\nimport {websocket} from '../../../common/ws';\r\nimport './index.less';\r\n// window.onbeforeunload=function(e){     \r\n//     e = window.event||e;  \r\n//     e.returnValue=(\"确定离开当前页面吗？\");\r\n//     return e.returnValue;\r\n// }\r\n\r\nexport let forbiColumns=[];\r\nexport let filterColumns=(cols)=>{\r\n    let filterCols= cols.filter(it=>{\r\n        return forbiColumns.indexOf(it.key)==-1;\r\n    });\r\n    return filterCols;\r\n}\r\nexport let tenant={},tenantConfig={},rooms,role,allRoles,allStaffs,menus,urls,coaches;\r\nexport let tenantId=1,name,phone;\r\nexport let accounts;\r\nexport let isAdmin;\r\n\r\nconst TabPane = Tabs.TabPane;\r\nexport default class IndexPage extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('show-login-user',user=>{\r\n            this.setState({userName:user.name});\r\n        });\r\n        emitter.on('init-user-info',user=>{\r\n            this.initUserInfo();\r\n        });\r\n        emitter.on('main-clickmenu', ({key,props})=>{\r\n            this.indexMenu.changeCurrentMenu(key);\r\n            this.onMenuClick(key,props,this.indexMenu.getTitleByKey(key));\r\n        });\r\n        emitter.on('antdmessage-success',(args)=>{\r\n            message.success(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-warn',(args)=>{\r\n            message.warn(args[0],args[1]);\r\n        });\r\n        emitter.on('antdmessage-error',(args)=>{\r\n            message.error(args[0],args[1]);\r\n        });\r\n        this.initUserInfo();\r\n        this.state={\r\n            panes:[],\r\n            init:false,\r\n            userName:'游客'\r\n        };\r\n    }\r\n    componentDidMount(){\r\n\r\n    }\r\n\r\n    initUserInfo=()=>{\r\n        util.ajaxJson(urlPrefix+'SysUserFramework?opt=getUserInfo',{},result=>{\r\n            if(result.data){\r\n                tenant=result.data.tenant;\r\n                name=result.data.name;\r\n                phone=result.data.phone;\r\n                let tconfig=JSON.parse(tenant.config);\r\n                if(!tconfig)tconfig={};// 租户默认配置\r\n                if(!tconfig.majorCoachRate)tconfig.majorCoachRate=55;\r\n                if(!tconfig.coachRate)tconfig.coachRate=50;\r\n                tenantConfig=tconfig;\r\n                rooms=result.data.rooms||[];\r\n                role=result.data.role;\r\n                allRoles=result.data.allRoles;\r\n                allStaffs=result.data.allStaffs;\r\n                menus=result.data.menus;\r\n                urls=result.data.urls;\r\n                coaches=result.data.coaches;\r\n                tenantId=result.data.tenantId;\r\n                isAdmin=role.indexOf(',-1,')>-1;\r\n                emitter.emit('show-login-user',{name:result.data.name});\r\n                emitter.emit('init-websocket');\r\n                this.setState({init:true},()=>{// 初始化检索条件\r\n                    setTimeout(()=>{\r\n                        emitter.emit('do-indicates-search',{});\r\n                    },500);\r\n                });\r\n            }else{\r\n                message.error('请确认服务是否可用！');\r\n            }\r\n        });\r\n    }\r\n\r\n    onMenuClick=(key, props, title)=>{\r\n        let comp = require(`../../../biz/${key}/index.js`);\r\n        if(comp&&comp.default){\r\n            let {panes,activeKey} = this.state;\r\n            activeKey = key;\r\n            let fps = panes.filter(p=>p.key == key);\r\n            if(fps.length==0){\r\n                panes.push({key,title,content:comp.default,props});\r\n                this.setState({activeKey,panes},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }else{\r\n                // fps[0].content = undefined;\r\n                // this.setState({activeKey,panes},()=>{\r\n                //     fps[0].content = comp.default;\r\n                //     this.setState({panes},()=>{\r\n                //         emitter.emit(`menu-clicked-${key}`);\r\n                //     });\r\n                // });\r\n                fps[0].content = comp.default;\r\n                this.setState({activeKey},()=>{\r\n                    emitter.emit(`menu-clicked-${key}`);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTabChange = (activeKey) => {\r\n        this.setState({ activeKey },()=>{\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n        });\r\n    }\r\n\r\n    onTabEdit = (targetKey, action) => {\r\n        if(action == 'remove'){\r\n            let {panes,activeKey} = this.state;\r\n            panes = panes.filter(p=>p.key!=targetKey);\r\n            if(panes.length > 0){\r\n                if (activeKey == targetKey) {// 删除的是当前tab\r\n                    activeKey = panes[0].key;\r\n                }\r\n            }\r\n            this.indexMenu.changeCurrentMenu(activeKey);\r\n            this.setState({panes,activeKey});\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let {panes,activeKey,init} = this.state;\r\n        if(!init)return <LoginModal />;\r\n        return (\r\n            <div className=\"fc\">\r\n                <div className=\"fc-main\">\r\n                  <Menu onClick={this.onMenuClick} ref={el=>this.indexMenu=el}/>\r\n                  <div className=\"fc-container\">\r\n                    <div className=\"fc-header\"></div>\r\n                    <Tabs hideAdd\r\n                      onChange={this.onTabChange}\r\n                      activeKey={activeKey}\r\n                      type={'editable-card'}\r\n                      onEdit={this.onTabEdit}\r\n                    >\r\n                      {\r\n                        panes.map(pane => {\r\n                            let Comp = pane.content;\r\n                            return <TabPane tab={pane.title} key={pane.key}>{Comp && <Comp {...pane.props}/>}</TabPane>;\r\n                        })\r\n                      }\r\n                    </Tabs>\r\n                    <div className=\"login-sec\">欢迎，{this.state.userName} &nbsp;&nbsp; {tenant.name} <Popconfirm placement=\"leftTop\" title=\"确认退出？\" onConfirm={async ()=>{\r\n                        await util.ajaxJsonAsync(urlPrefix+'loginout');\r\n                        window.location.reload();\r\n                    }}><a className=\"logout-a\">退出</a></Popconfirm></div>\r\n                  </div>\r\n                </div>\r\n                <LoginModal />\r\n                <RichEditorDrawer />\r\n\t\t    </div>\r\n\t    );\r\n    }\r\n  \r\n}\r\n\r\n","import {EventEmitter} from 'events';\r\nimport md5 from 'md5';\r\nimport base64url from 'base64url';\r\nimport './reset.less';\r\nlet emitter = new EventEmitter();\r\nemitter.setMaxListeners(500);\r\nlet emitterOn = emitter.on;\r\nemitter.on = function(type, listner){\r\n    emitter.removeAllListeners(type);\r\n    let args = [type, listner];\r\n    emitterOn.apply(emitter, args);\r\n};\r\nemitter.ons = function(type, listner){\r\nlet args = [type, listner];\r\nemitterOn.apply(emitter, args);\r\n}\r\n\r\nlet message={\r\n    success:function(){emitter.emit('antdmessage-success',arguments)},\r\n    warn:function(){emitter.emit('antdmessage-warn',arguments)},\r\n    error:function(){emitter.emit('antdmessage-error',arguments)}\r\n};\r\n\r\nlet _parentUtil = (current, cond, mode='class') => {\r\n    if(current){\r\n        let parent = current.parentNode;\r\n        while(parent){\r\n            if(parent == document.body){\r\n                return;\r\n            }\r\n            if(mode==='class'){\r\n                if(parent.classList.contains(cond)){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }else if(mode==='style'){\r\n                if(!cond || typeof cond != 'object'){\r\n                    return;\r\n                }\r\n                let matched = false;\r\n                let styles = window.getComputedStyle(parent);\r\n                for(let k in cond){\r\n                    if(styles[k] === cond[k]){\r\n                        matched = true;\r\n                    }\r\n                }\r\n                if(matched){\r\n                    return parent;\r\n                } else {\r\n                    parent = parent.parentNode;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nlet _showFieldError = (target, isValid, msg) => {\r\n    if(target){// input框\r\n\t\tif(target.classList.contains('am-list-item') || target.classList.contains('am-picker-popup')){// antd-mobile\r\n\t\t\tlet classList=target.classList;\r\n\t\t\tif(!isValid){\r\n\t\t\t\tif(!classList.contains('has-error')){\r\n\t\t\t\t\tclassList.add('has-error');\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet formExplain=target.querySelector('.ant-form-explain');\r\n\t\t\t\t\tif(!formExplain){\r\n\t\t\t\t\t\tlet errorMsgEl = document.createElement('div');\r\n\t\t\t\t\t\terrorMsgEl.innerText = msg;\r\n\t\t\t\t\t\terrorMsgEl.classList.add('ant-form-explain');\r\n\t\t\t\t\t\terrorMsgEl.classList.add('custom-form-invalid-explain');\r\n\t\t\t\t\t\ttarget.appendChild(errorMsgEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget.childNodes[target.childNodes.length-1].innerText = msg;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tclassList.remove('has-error');\r\n\t\t\t\tlet explain = target.querySelector('.ant-form-explain');\r\n\t\t\t\texplain && explain.remove();\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n        let currentFormItemControl = _parentUtil(target, 'ant-form-item-control');\r\n        let formItem = _parentUtil(target, 'ant-form-item');\r\n        let classList = currentFormItemControl.classList;\r\n        if(!isValid){// 校验未通过  \r\n            if(!classList.contains('has-error')){// 不含错误样式\r\n                classList.add('has-error');\r\n                !formItem.classList.contains('ant-form-item-with-help') && formItem.classList.add('ant-form-item-with-help');\r\n\t\t\t\tif(currentFormItemControl.querySelector('.ant-form-explain')){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n                let errorMsgEl = document.createElement('div');\r\n                if (target.tagName == 'INPUT') {\r\n                    target.onfocus=function(){\r\n                        errorMsgEl.style.display='block';\r\n                    };\r\n                    target.onblur=function(){\r\n                        errorMsgEl.style.display='none';\r\n                    };\r\n                }\r\n                \r\n                errorMsgEl.innerText = msg;\r\n                errorMsgEl.classList.add('ant-form-explain');\r\n                errorMsgEl.classList.add('custom-form-invalid-explain');\r\n                currentFormItemControl.appendChild(errorMsgEl);\r\n            }else{\r\n                currentFormItemControl.childNodes[currentFormItemControl.childNodes.length-1].innerText = msg;\r\n            }\r\n        }else{\r\n            classList.remove('has-error');\r\n            let explain = currentFormItemControl.querySelector('.ant-form-explain');\r\n            explain && explain.remove();\r\n            formItem.classList.contains('ant-form-item-with-help') && formItem.classList.remove('ant-form-item-with-help');\r\n        }\r\n    }\r\n}\r\n\r\nlet _getFormElementByFieldName = function(fieldName,ognlPrefix){\r\n    let pContainer = '';\r\n    if(this['__formClassName_']){\r\n        pContainer = '.' + this['__formClassName_'] + ' ';\r\n    }\r\n    let eles = document.querySelectorAll(pContainer+'.'+getUniqClassName(fieldName,this['__validField_'+fieldName]&&this['__validField_'+fieldName].idPrefix,ognlPrefix));\r\n    if(!eles){\r\n        return undefined;\r\n    }\r\n    if(eles&&eles.length==1){\r\n        return eles[0];\r\n    }\r\n    let newEles=[];\r\n    if(eles.length>1){\r\n        let zIndex = 0;\r\n        for (let i = 0; i <eles.length; i++) {\r\n            // 多个处理\r\n            let parentNode = _parentUtil(eles[i],{display:'none'},'style');\r\n            if(parentNode){// 找到了父节点有隐藏的，则不要\r\n                continue;\r\n            }\r\n            newEles.push(eles[i]);\r\n        }\r\n        if(newEles.length==1)return newEles[0];\r\n        if(newEles.length>1){\r\n            for (let i = 0; i <newEles.length; i++) {\r\n                // 多个处理\r\n                let parentNode = _parentUtil(newEles[i],'ant-modal-body','class');\r\n                if(parentNode){// 找到了父节点在modal中，则优先\r\n                    return newEles[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet _triggerFieldValidation = function(rules, fieldName, ognlPrefix, context, cb){// cb只能回调一次\r\n    let target = _getFormElementByFieldName.call(this,fieldName,ognlPrefix);\r\n    let isValid = true;\r\n    if(!target){// dom元素已不存在，则不校验\r\n        return isValid;\r\n    }\r\n    let msg;\r\n    let formValues = this.state.formValues||{};\r\n    if(!context){\r\n        context = formValues;\r\n    }\r\n    let asyncCount = rules.length;// 用于保证只回调一次\r\n    for (let i = 0; i < rules.length; i++) {// rules都走一遍，尝试发现校验不过的rule\r\n        let rule = rules[i];\r\n        if(isValid){\r\n            if(rule.required === true){\r\n                let contextVal=context[fieldName];\r\n                if(!contextVal || (Array.isArray(contextVal)&&contextVal.length==0)){\r\n                    isValid = false;\r\n                    if(rule.message){\r\n                        msg = rule.message;\r\n                    }\r\n                }\r\n                if(!msg){\r\n                    msg = '必填';\r\n                }\r\n                asyncCount--;// required场景校验完毕\r\n            }else if(rule.validator){\r\n                if(rule.validator.length >= 3){// ant-form风格validator，支持异步回调的校验\r\n                    let onlyOnce = 1;\r\n                    rule.validator.call(this,rule,context[fieldName],function(err){// 有可能就是同步执行的，当然也可能异步\r\n                        onlyOnce--;\r\n                        if(onlyOnce==0){\r\n                            asyncCount--;// 异步场景校验完毕\r\n                            if(err){\r\n                                isValid = false;\r\n                                if(err instanceof Error){\r\n                                    err = err.message;\r\n                                }\r\n                                msg = err;\r\n                            }\r\n                            _showFieldError(target,isValid,msg);\r\n                            this.isFormFiledsValid=isValid;\r\n                            if(asyncCount==0){// 全校验完了\r\n                                asyncCount--;// 防止后面重复调\r\n                                if(!isValid){\r\n                                    cb&&cb(false, fieldName);\r\n                                }else{\r\n                                    cb&&cb(true, fieldName);\r\n                                }\r\n                            }\r\n                        }\r\n                    },context);\r\n                }else{// 自定义同步风格\r\n                    if(!rule.validator.call(this, context[fieldName], context)){\r\n                        isValid = false;\r\n                        if(rule.message){\r\n                            msg = rule.message;\r\n                        }\r\n                    }\r\n                    asyncCount--;// 同步场景校验完毕\r\n                }\r\n            }else{\r\n                asyncCount--;// 无场景校验完毕\r\n            }\r\n        }else{\r\n            asyncCount--;// 已经无效后续rule当成校验完毕(其实未校验)\r\n        }\r\n    }\r\n    if(asyncCount==0){// 全走完\r\n        asyncCount--;// 避免重复回调\r\n        _showFieldError(target,isValid,msg);\r\n        this.isFormFiledsValid=isValid;\r\n        if(!isValid){\r\n            cb&&cb(false, fieldName);\r\n        }else{\r\n            cb&&cb(true, fieldName);\r\n        }\r\n    }\r\n}\r\n\r\nfunction getUniqClassName(fieldName,idPrefix,ognlPrefix){\r\n    if(ognlPrefix){\r\n        fieldName = ognlPrefix + fieldName;\r\n    }\r\n    let className = (idPrefix ? idPrefix : 'form-custom-id-') + fieldName;\r\n    className = className.replace(/[\\]\\[\\.]/g, '-');\r\n    return className;\r\n}\r\n\r\nlet util = {\r\n     getField : function(fieldName,options) {// fieldName支持嵌套模式a[0].b.c，将复杂表单对象拍成扁平的，提交时需要立体对象可调用util.form2js，查询后需要还原为扁平对象渲染调用util.js2form，嵌套的子组件采用context传递父对象进行bind\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + fieldName] = {fieldName,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              formValues={};\r\n            }\r\n\r\n            formValues[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName);\r\n                }\r\n                if(options.noChineseSymbol){\r\n                    let fv = formValues[fieldName];\r\n                    if(fv&&(fv.indexOf('（')>-1 || fv.indexOf('）')>-1 || fv.indexOf('“')>-1 || fv.indexOf('”')>-1|| fv.indexOf('，')>-1|| fv.indexOf('：')>-1 || fv.indexOf('；')>-1 || fv.indexOf('！')>-1)){\r\n                        message.warn('亲的输入中含有中文符号! 常见的有:“”（）；，！：');\r\n                        fv = fv.replace(/[（）“”，：；！]/g, '');\r\n                        formValues[fieldName] = fv;\r\n                    }\r\n                }\r\n                if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                    if(Array.isArray(formValues[fieldName]))\r\n                    formValues[fieldName]=formValues[fieldName][0];\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            })\r\n          },\r\n          value:this.state.formValues?this.state.formValues[fieldName]:undefined,\r\n          className\r\n        };\r\n        if(options){\r\n            if(options.mode=='checkbox'){\r\n                fieldProp.checked = this.state.formValues?this.state.formValues[fieldName]:undefined;\r\n                delete fieldProp.value;\r\n            }else if(options.mode=='RangePickerDate'){// 选日期范围，做规整\r\n                if(fieldProp.value&&fieldProp.value.length==2){\r\n                    fieldProp.value[0]=fieldProp.value[0].startOf('day');\r\n                    fieldProp.value[1]=fieldProp.value[1].endOf('day');\r\n                }\r\n            }else if(options.mode=='singlePicker'){// am的Picker，默认都是数组，单个时改成string\r\n                if(!Array.isArray(fieldProp.value))\r\n                    fieldProp.value=[fieldProp.value];\r\n            }\r\n        }\r\n        return fieldProp;\r\n    },\r\n    getSubField:function(ognlPrefix,fieldName,context,options){// 复杂表单使用，存在嵌套多层字段；由于唯一标识需要，需要通过ognlPrefix来区分，ognlPrefix本身是个ognl，为截止到当前字段的前缀:如a.b[1]，其ognl的含义就是指向context，fieldName字段名c，context当前字段的载体父对象如formValues.a.b[1]，如果位于根对象上，请传formValues或不传\r\n        ognlPrefix = ognlPrefix||'';\r\n        if(ognlPrefix.startsWith('formValues.')){\r\n            ognlPrefix = ognlPrefix.substring('formValues.'.length);\r\n        }\r\n        if(!context){\r\n            context = this.state.formValues||{};\r\n        }\r\n        if(options && options.rules){// 将校验规则临时存起来，以便后面使用\r\n            this['__validField_' + ognlPrefix+fieldName] = {fieldName,ognlPrefix,context,rules:options.rules,idPrefix:options.idPrefix};\r\n        }\r\n        let className = getUniqClassName(fieldName, options&&options.idPrefix, ognlPrefix);\r\n        let fieldProp = {\r\n          onChange:(e)=>{\r\n            let formValues = this.state.formValues;\r\n            if(!formValues){\r\n              context=formValues={};\r\n            }\r\n            context[fieldName] = util.getEventTargetValue(e);\r\n            if(options){\r\n                if(options.rules){\r\n                    _triggerFieldValidation.call(this, options.rules, fieldName, ognlPrefix, context);\r\n                }\r\n            }\r\n            this.setState({formValues},()=>{\r\n                if(options){\r\n                    options.onChange && options.onChange(e);\r\n                }\r\n            });// 触发render以使得context的修改生效，其实就是为下面的value服务\r\n          },\r\n          value:context[fieldName],\r\n          className\r\n        };\r\n        if(options&&options.mode=='checkbox'){\r\n            fieldProp.checked = context[fieldName];\r\n            delete fieldProp.value;\r\n        }\r\n        return fieldProp;\r\n    },\r\n    clearValidateFields:function(){\r\n        for(let k in this){\r\n            if(k.startsWith('__validField_')){\r\n                delete this[k];\r\n            }\r\n        }\r\n    },\r\n    getEventTargetValue:function(e){\r\n        if(!e)return e;\r\n        if (typeof e == 'string' || typeof e == 'number' || typeof e == 'boolean') {\r\n            return e;\r\n        } else {\r\n            if(typeof e == 'object' && e.hasOwnProperty('length')){\r\n                return e;\r\n            }\r\n            if(e&&e.target){\r\n                let fieldVal = e.target.value;\r\n                if(e.target.hasOwnProperty('checked') && e.target.type!='radio'){\r\n                    fieldVal = e.target.checked;\r\n                }\r\n                return fieldVal;\r\n            }\r\n            if(e.valueOf&&typeof e.valueOf == 'function'){\r\n                return e;\r\n            }\r\n        }\r\n    },\r\n    validateFields:function(callback,validFields){// 表单提交时，自动触发所有校验，通过后方可回调\r\n        if(!validFields){// 只校验的字段\r\n            validFields=[];\r\n        }\r\n        validFields = validFields.map(vf=>'__validField_'+vf);\r\n        let isFormValid = true;\r\n        let validateKeys = [];// 需要校验的字段\r\n        for(let vkey in this){\r\n            if(vkey.startsWith('__validField_')){\r\n                if(validFields.length > 0 && validFields.indexOf(vkey) === -1){\r\n                    continue;\r\n                }\r\n                let target = _getFormElementByFieldName.call(this,this[vkey].fieldName,this[vkey].ognlPrefix);\r\n                if(!target){\r\n                    continue;\r\n                }\r\n                validateKeys.push(vkey);\r\n            }\r\n        }\r\n        let validCount = validateKeys.length;\r\n        for(let i=0;i<validateKeys.length;i++){\r\n            let vkey = validateKeys[i];\r\n            _triggerFieldValidation.call(this, this[vkey].rules,this[vkey].fieldName, this[vkey].ognlPrefix, this[vkey].context, (valid,fieldName)=>{// 确保一次trigger只回调一次\r\n                if(valid){\r\n                    validCount--;\r\n                    if(validCount===0){\r\n                        validCount--;\r\n                        callback(util._convertFormValues(this.state.formValues));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if(validCount===0){\r\n            validCount--;\r\n            callback(util._convertFormValues(this.state.formValues));\r\n        }\r\n    },\r\n    _convertFormValues:function(formValues){// 日期moment的通用转换，省的后端老转\r\n        if(!formValues)return formValues;\r\n        let newFormValues={};\r\n        for(let k in formValues){\r\n            let formValue=formValues[k];\r\n            if(formValue&&formValue._isAMomentObject){\r\n                newFormValues[k]=util.formatDate(formValue);\r\n            }else{\r\n                newFormValues[k]=formValue;\r\n            }\r\n        }\r\n        return newFormValues;\r\n    },\r\n    showFieldError:_showFieldError,\r\n\r\n\r\n    getComponent:function(component,ops){\r\n        ops && component.props && (component.props.value=ops.value);\r\n        return component;\r\n    },\r\n    form2js:function(nameValues, skipEmpty){\r\n        let result = {},\r\n            arrays = {},\r\n            delimiter = '.',\r\n            j, k, l,\r\n            value,\r\n            nameParts,\r\n            currResult,\r\n            arrNameFull,\r\n            arrName,\r\n            arrIdx,\r\n            namePart,\r\n            _nameParts;\r\n        let sortedNameValues={},keys=[];\r\n        for(let k in nameValues){\r\n            keys.push(k);\r\n        }\r\n        keys.sort();\r\n        for(let k of keys){\r\n            sortedNameValues[k]=nameValues[k];\r\n        }\r\n        nameValues=sortedNameValues;\r\n        for (let name in nameValues)\r\n        {\r\n            value = nameValues[name];\r\n\r\n            if (skipEmpty && (value === '' || value === null)) continue;\r\n            _nameParts = name.split(delimiter);\r\n            nameParts = [];\r\n            currResult = result;\r\n            arrNameFull = '';\r\n\r\n            for(j = 0; j < _nameParts.length; j++)\r\n            {\r\n                namePart = _nameParts[j].split('][');\r\n                if (namePart.length > 1)\r\n                {\r\n                    for(k = 0; k < namePart.length; k++)\r\n                    {\r\n                        if (k === 0)\r\n                        {\r\n                            namePart[k] = namePart[k] + ']';\r\n                        }\r\n                        else if (k === namePart.length - 1)\r\n                        {\r\n                            namePart[k] = '[' + namePart[k];\r\n                        }\r\n                        else\r\n                        {\r\n                            namePart[k] = '[' + namePart[k] + ']';\r\n                        }\r\n\r\n                        arrIdx = namePart[k].match(/([a-z_]+)?\\[([a-z_][a-z0-9_]+?)\\]/i);\r\n                        if (arrIdx)\r\n                        {\r\n                            for(l = 1; l < arrIdx.length; l++)\r\n                            {\r\n                                if (arrIdx[l]) nameParts.push(arrIdx[l]);\r\n                            }\r\n                        }\r\n                        else{\r\n                            nameParts.push(namePart[k]);\r\n                        }\r\n                    }\r\n                }\r\n                else\r\n                    nameParts = nameParts.concat(namePart);\r\n            }\r\n\r\n            for (j = 0; j < nameParts.length; j++)\r\n            {\r\n                namePart = nameParts[j];\r\n\r\n                if (namePart.indexOf('[]') > -1 && j === nameParts.length - 1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrNameFull += arrName;\r\n\r\n                    if (!currResult[arrName]) currResult[arrName] = [];\r\n                    currResult[arrName].push(value);\r\n                }\r\n                else if (namePart.indexOf('[') > -1)\r\n                {\r\n                    arrName = namePart.substr(0, namePart.indexOf('['));\r\n                    arrIdx = namePart.replace(/(^([a-z_]+)?\\[)|(\\]$)/gi, '');\r\n\r\n                    /* Unique array name */\r\n                    arrNameFull += '_' + arrName + '_' + arrIdx;\r\n\r\n                    /*\r\n                     * Because arrIdx in field name can be not zero-based and step can be\r\n                     * other than 1, we can't use them in target array directly.\r\n                     * Instead we're making a hash where key is arrIdx and value is a reference to\r\n                     * added array element\r\n                     */\r\n\r\n                    if (!arrays[arrNameFull]) arrays[arrNameFull] = {};\r\n                    if (arrName !== '' && !currResult[arrName]) currResult[arrName] = [];\r\n\r\n                    if (j === nameParts.length - 1)\r\n                    {\r\n                        if (arrName === '')\r\n                        {\r\n                            currResult.push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];\r\n                        }\r\n                        else\r\n                        {\r\n                            currResult[arrName].push(value);\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        if (!arrays[arrNameFull][arrIdx])\r\n                        {\r\n                            if ((/^[0-9a-z_]+\\[?/i).test(nameParts[j+1])) currResult[arrName].push({});\r\n                            else currResult[arrName].push([]);\r\n\r\n                            arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];\r\n                        }\r\n                    }\r\n\r\n                    currResult = arrays[arrNameFull][arrIdx];\r\n                }\r\n                else\r\n                {\r\n                    arrNameFull += namePart;\r\n\r\n                    if (j < nameParts.length - 1) /* Not the last part of name - means object */\r\n                    {\r\n                        if (!currResult[namePart]) currResult[namePart] = {};\r\n                        currResult = currResult[namePart];\r\n                    }\r\n                    else\r\n                    {\r\n                        currResult[namePart] = value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n\r\n    js2form:function(obj){\r\n        let results = util._js2formResults(obj);\r\n        if(results){\r\n            let formObj={};\r\n            for (let i = 0;i<results.length;i++) {\r\n                formObj[results[i].name] = results[i].value;\r\n            }\r\n            return formObj;\r\n        }else{\r\n            return undefined;\r\n        }\r\n    },\r\n\r\n    _js2formResults:function(obj, lvl) {\r\n        let result = [], i, name;\r\n        if (arguments.length === 1) lvl = 0;\r\n\r\n        if (obj == null)\r\n        {\r\n            result = [{ name: \"\", value: null }];\r\n        }\r\n        else if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || obj instanceof Date)\r\n        {\r\n            result = [\r\n                { name: \"\", value : obj }\r\n            ];\r\n        }\r\n        else if (obj instanceof Array)\r\n        {\r\n            for (i = 0; i < obj.length; i++)\r\n            {\r\n                name = \"[\" + i + \"]\";\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (i in obj)\r\n            {\r\n                name = i;\r\n                result = result.concat(util._getSubValues(obj[i], name, lvl + 1));\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n\r\n    _getSubValues:function(subObj, name, lvl)\r\n    {\r\n        let itemName;\r\n        let result = [], tempResult = util._js2formResults(subObj, lvl + 1), i, tempItem;\r\n\r\n        for (i = 0; i < tempResult.length; i++)\r\n        {\r\n            itemName = name;\r\n            if (/^\\[\\d+?\\]/.test(tempResult[i].name))\r\n            {\r\n                itemName += tempResult[i].name;\r\n            }\r\n            else if (/^[a-zA-Z_][a-zA-Z_0-9]*/.test(tempResult[i].name))\r\n            {\r\n                itemName += '.' + tempResult[i].name;\r\n            }\r\n\r\n            tempItem = { name: itemName, value: tempResult[i].value };\r\n            result.push(tempItem);\r\n        }\r\n\r\n        return result;\r\n    },\r\n\tgetUrlParams:function() {\r\n\t\tlet url = window.location.search; // 获取url中\"?\"符后的字串\r\n\t\tlet theRequest={}, idx;\r\n\t\tif ((idx=url.indexOf(\"?\")) != -1) {\r\n\t\t\tlet str = url.substring(idx+1);\r\n\t\t\tlet strs = str.split(\"&\");\r\n\t\t\tfor(let i = 0; i < strs.length; i++) {\r\n\t\t\t\tlet pair=strs[i].split(\"=\");\r\n\t\t\t\ttheRequest[pair[0]]=decodeURIComponent(pair[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn theRequest;\r\n\t},\r\n    ajax:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('system error' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('error' + ':\\n' + (result.message?result.message:''), 3);\r\n                }\r\n                if(!result){\r\n                    message.error('interface error');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     post:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('系统错误' + '\\n' + response);\r\n     })=>{\r\n        minAjax({\r\n            url:url,\r\n            data:data,\r\n            async:true,\r\n            type:'POST',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false){\r\n                    message.error('业务错误' + ':\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'')));\r\n                }\r\n                if(!result){\r\n                    message.error('系统接口错误');\r\n                }\r\n                if(successCallback){\r\n                    successCallback(result,xhr);\r\n                }\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJson:(url, data, successCallback,errorCallback=(response)=>{\r\n        message.error('network error' + '\\n' + response);\r\n     },options={})=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        minAjax({\r\n            ...options,\r\n            url:url,\r\n            data:dataStr,\r\n            async:true,\r\n            type:'POST',\r\n            contentType:'text/plain;charset=UTF-8',\r\n            xhrFields:{\r\n              withCredentials:true\r\n            },\r\n            success:(result,xhr)=>{\r\n                if(result && result.success === false && data.noErrAlert!==true){\r\n                   message.error('服务接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                }\r\n                successCallback(result,xhr);\r\n            },\r\n            error:errorCallback\r\n        });\r\n     },\r\n     ajaxJsonAsync:(url, data)=>{\r\n        let dataStr=data;\r\n        if(typeof data == 'object'){\r\n            for(let k in data){\r\n                if(data[k] && typeof data[k] === 'string'){\r\n                    data[k] = data[k].trim();\r\n                }\r\n            }\r\n            if(window.location.hash=='#pre'||(window.location.hash=='#presync' && data.preEnv !== false)){// 针对pre环境特殊处理\r\n                data.preEnv=true;\r\n            }\r\n            dataStr = JSON.stringify(data);\r\n        }\r\n        let promise=new Promise((successCallback,errorCallback)=>{\r\n            minAjax({\r\n                url:url,\r\n                data:dataStr,\r\n                async:true,\r\n                type:'POST',\r\n                contentType:'text/plain;charset=UTF-8',\r\n                xhrFields:{\r\n                  withCredentials:true\r\n                },\r\n                success:(result,xhr)=>{\r\n                    if(result && result.success === false && data.noErrAlert!==true){\r\n                       message.error('接口错误' + '\\n' + ((result.message?result.message:'') || (result.errMsg?result.errMsg:'') || (result.failMessage?result.failMessage:'') || (result.result&&result.result.failMessage?result.result.failMessage:'')));\r\n                    }\r\n                    successCallback(result,xhr);\r\n                },\r\n                error:errorCallback?errorCallback:(response)=>{\r\n                    message.error('network error' + '\\n' + response);\r\n                }\r\n            });\r\n        });\r\n        \r\n        return promise;\r\n     },\r\n     isEmpty:obj => {\r\n         if (obj == undefined || obj == null || (typeof obj == 'string' && '' == obj.trim())) {\r\n             return true;\r\n         }\r\n         return false;\r\n     },\r\n     getStringValue:obj => {\r\n        if(obj === undefined || obj === null){\r\n            return '';\r\n        }\r\n        if(typeof obj == 'object'){\r\n            return JSON.stringify(obj);\r\n        }\r\n        return obj + '';\r\n     },\r\n     convertStr2Num:(queryCond, name)=>{\r\n        if(queryCond[name] !== undefined){\r\n          if(queryCond[name] === '0' || queryCond[name] === 0 || queryCond[name] === ''){\r\n            delete queryCond[name];\r\n          }else{\r\n            queryCond[name] = +queryCond[name];\r\n          } \r\n        }\r\n     },\r\n     mask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.createElement('span');\r\n            maskElement.id='myCustomAntdMask';\r\n            domElement.appendChild(maskElement);\r\n            domElement.classList.add(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     unmask:id=>{\r\n        let domElement = document.body;\r\n        if(id){\r\n            domElement = document.getElementById(id);\r\n        }\r\n        if(domElement){\r\n            let maskElement = document.getElementById('myCustomAntdMask');\r\n            if(maskElement){\r\n                maskElement.remove();\r\n            }\r\n            domElement.classList.remove(\"my-custom-antd-mask\");\r\n        }\r\n     },\r\n     formatDate : (date, style) => {\r\n        if (!date && 0 !== date) {\r\n            return;\r\n        }\r\n        if (!style) {\r\n            style = 'yyyy-MM-dd hh:mm:ss';\r\n        }\r\n        if(date._isAMomentObject){\r\n            date = date.valueOf();\r\n        }\r\n        let shortYear=false;\r\n        if(style.startsWith('yy-')||style.startsWith('yy年')){\r\n            style='yy'+style;\r\n            shortYear=true;\r\n        }\r\n        if (typeof date == 'string' || typeof date == 'number') {\r\n            date = new Date(date);\r\n        }else if(typeof date == 'object' && typeof date.getFullYear == 'function'){\r\n\r\n        }else{\r\n            return '格式错误';\r\n        }\r\n        let y = date.getFullYear();    \r\n        let M = \"0\" + (date.getMonth() + 1);    \r\n        M = M.substring(M.length - 2);   \r\n        let d = \"0\" + date.getDate();   \r\n        d = d.substring(d.length - 2);    \r\n        let h = \"0\" + date.getHours();    \r\n        h = h.substring(h.length - 2);    \r\n        let m = \"0\" + date.getMinutes();    \r\n        m = m.substring(m.length - 2);   \r\n        let s = \"0\" + date.getSeconds();    \r\n        s = s.substring(s.length - 2);   \r\n        let result=style.replace('yyyy', y).replace('MM', M).replace('dd', d).replace('hh', h).replace('mm', m).replace('ss', s);\r\n        if(shortYear){\r\n            result=result.substring(2);\r\n        }\r\n        return result;\r\n     },\r\n     guid: ()=> {\r\n        return 'xxxxxxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            let r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    },\r\n    getFileBase64: function(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    },\r\n    round: function(number){\r\n        if(isNaN(number))return number;\r\n        return Math.round(number * 100) / 100;\r\n    },\r\n     getShortDate:function(timestamp, short){\r\n        let now=new Date().getTime();\r\n        if(Math.abs(now-timestamp) < 86400000){\r\n            let fd=util.formatDate(timestamp, 'hh:mm:ss');\r\n            if(short){\r\n                return fd.substring(3);\r\n            }\r\n            return fd;\r\n        }else{\r\n            let fd=util.formatDate(timestamp, 'yyyy-MM-dd');\r\n            if(short){\r\n                return fd.substring(2);\r\n            }\r\n            return fd;\r\n        }\r\n     },\r\n     setAllNum2Str:function(data){\r\n        if(data){\r\n            for(let k in data){\r\n                if(typeof data[k] === 'number'){\r\n                    data[k] = data[k] + '';\r\n                }\r\n            }\r\n        }\r\n     },\r\n     tuomin:function(data,count=1){\r\n        if(data){\r\n            data=data+'';\r\n            if(this.isChinese(data)&&data.length > 1&&data.length<5){\r\n                return data[0] + '*'.repeat(data.length-1);\r\n            }\r\n            if(data.length==3){\r\n                return data[0]+'*'+data[2];\r\n            }\r\n            if(data.length<=count+1){\r\n                return data[0]+'*';\r\n            }\r\n            let dotStr='.'.repeat(count);\r\n            if(new RegExp(`^${dotStr}(.*)${dotStr}`,'g').test(data)){\r\n                return data.replace(RegExp.$1, '*'.repeat(RegExp.$1.length));\r\n            }\r\n        }else{\r\n            return data;\r\n        }\r\n     },\r\n     isChinese:function(s){\r\n        let patrn= /[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]/gi;\r\n        return patrn.exec(s);\r\n     },\r\n     convertToChinaNum:function(num) {\r\n        let arr1 = new Array('零', '一', '二', '三', '四', '五', '六', '七', '八', '九');\r\n        let arr2 = new Array('', '十', '百', '千', '万', '十', '百', '千', '亿', '十', '百', '千','万', '十', '百', '千','亿');//可继续追加更高位转换值\r\n        if(!num || isNaN(num)){\r\n            return \"零\";\r\n        }\r\n        if((num+'').indexOf('.')==num.length-1)return '';\r\n        let english = num.toString().split(\"\")\r\n        let result = \"\";\r\n        for (let i = 0; i < english.length; i++) {\r\n            let des_i = english.length - 1 - i;//倒序排列设值\r\n            result = arr2[i] + result;\r\n            let arr1_index = english[des_i];\r\n            result = arr1[arr1_index] + result;\r\n        }\r\n        //将【零千、零百】换成【零】 【十零】换成【十】\r\n        result = result.replace(/零(千|百|十)/g, '零').replace(/十零/g, '十');\r\n        //合并中间多个零为一个零\r\n        result = result.replace(/零+/g, '零');\r\n        //将【零亿】换成【亿】【零万】换成【万】\r\n        result = result.replace(/零亿/g, '亿').replace(/零万/g, '万');\r\n        //将【亿万】换成【亿】\r\n        result = result.replace(/亿万/g, '亿');\r\n        //移除末尾的零\r\n        result = result.replace(/零+$/, '')\r\n        //将【零一十】换成【零十】\r\n        //result = result.replace(/零一十/g, '零十');//貌似正规读法是零一十\r\n        //将【一十】换成【十】\r\n        result = result.replace(/^一十/g, '十');\r\n        return result;\r\n     },\r\n     encode:function(str){\r\n        return window.btoa(unescape(encodeURIComponent(str)));\r\n     },\r\n     decode:function(str){\r\n        return decodeURIComponent(escape(window.atob(str)));\r\n     },\r\n     getJSONString:function(obj){// js风格的伪json，转为真json\r\n        if(!obj){\r\n            return obj;\r\n        }\r\n        if (typeof obj == 'string'){\r\n            try{\r\n                JSON.parse(obj);\r\n                return obj;\r\n            }catch(e){\r\n                return JSON.stringify(eval(`(${obj})`));\r\n            }\r\n        }\r\n     },\r\n     getJSON:function(str){\r\n        let paramObj;\r\n        if(!str){\r\n            return paramObj;\r\n        }\r\n        str = window.removeCommentFromJSON(str);\r\n        try{\r\n            paramObj=JSON.parse(str);\r\n        }catch(e){\r\n            try{\r\n              paramObj=eval(`(${str})`);\r\n            }catch(e1){\r\n            }\r\n        }\r\n        return paramObj;\r\n     },\r\n     getCookie:function(key){\r\n        let result = key ? undefined : {};\r\n        let cookies = document.cookie ? document.cookie.split('; ') : [];\r\n\r\n        for (let i = 0, l = cookies.length; i < l; i++) {\r\n            let parts = cookies[i].split('=');\r\n            let name = parts.shift();\r\n            let cookie = parts.join('=');\r\n\r\n            if (key && key === name) {\r\n                // If second argument (value) is a function it's a converter...\r\n                result = cookie;\r\n                break;\r\n            }\r\n            // Prevent storing a cookie that we couldn't decode.\r\n            if (!key && cookie !== undefined) {\r\n                result[name] = cookie;\r\n            }\r\n        }\r\n        return result;\r\n     },\r\n     pushAt:function(arr,idx,obj){\r\n        if(arr&&idx>=0&&arr.length>=idx){\r\n            let newArr=[];\r\n            for(let i=0;i<arr.length;i++){\r\n                if(i==idx){\r\n                    newArr.push(obj);\r\n                }\r\n                newArr.push(arr[i]);\r\n            }\r\n            if(idx==arr.length){\r\n                newArr.push(obj);\r\n            }\r\n            return newArr;\r\n        }\r\n        return arr;\r\n     },\r\n\r\n     throttle:function( delay, no_trailing, callback, debounce_mode ) {\r\n        // After wrapper has stopped being called, this timeout ensures that\r\n        // `callback` is executed at the proper times in `throttle` and `end`\r\n        // debounce modes.\r\n        let timeout_id,\r\n          \r\n          // Keep track of the last time `callback` was executed.\r\n          last_exec = 0;\r\n        \r\n        // `no_trailing` defaults to falsy.\r\n        if ( typeof no_trailing !== 'boolean' ) {\r\n          debounce_mode = callback;\r\n          callback = no_trailing;\r\n          no_trailing = undefined;\r\n        }\r\n        \r\n        // The `wrapper` function encapsulates all of the throttling / debouncing\r\n        // functionality and when executed will limit the rate at which `callback`\r\n        // is executed.\r\n        function wrapper() {\r\n          let that = this,\r\n            elapsed = +new Date() - last_exec,\r\n            args = arguments;\r\n          \r\n          // Execute `callback` and update the `last_exec` timestamp.\r\n          function exec() {\r\n            last_exec = +new Date();\r\n            callback.apply( that, args );\r\n          }\r\n          \r\n          // If `debounce_mode` is true (at_begin) this is used to clear the flag\r\n          // to allow future `callback` executions.\r\n          function clear() {\r\n            timeout_id = undefined;\r\n          }\r\n          \r\n          if ( debounce_mode && !timeout_id ) {\r\n            // Since `wrapper` is being called for the first time and\r\n            // `debounce_mode` is true (at_begin), execute `callback`.\r\n            exec();\r\n          }\r\n          \r\n          // Clear any existing timeout.\r\n          timeout_id && clearTimeout( timeout_id );\r\n          \r\n          if ( debounce_mode === undefined && elapsed > delay ) {\r\n            // In throttle mode, if `delay` time has been exceeded, execute\r\n            // `callback`.\r\n            exec();\r\n            \r\n          } else if ( no_trailing !== true ) {\r\n            // In trailing throttle mode, since `delay` time has not been\r\n            // exceeded, schedule `callback` to execute `delay` ms after most\r\n            // recent execution.\r\n            // \r\n            // If `debounce_mode` is true (at_begin), schedule `clear` to execute\r\n            // after `delay` ms.\r\n            // \r\n            // If `debounce_mode` is false (at end), schedule `callback` to\r\n            // execute after `delay` ms.\r\n            timeout_id = setTimeout( debounce_mode ? clear : exec, debounce_mode === undefined ? delay - elapsed : delay );\r\n          }\r\n        }\r\n        \r\n        // Return the wrapper function.\r\n        return wrapper;\r\n      },\r\n      debounce:function( delay, at_begin, callback ) {\r\n        return callback === undefined\r\n          ? util.throttle( delay, at_begin, false )\r\n          : util.throttle( delay, callback, at_begin !== false );\r\n      },\r\n\r\n      mixUids:[\"MTkxNzB4kZ1mMtYWZiNCx04450ZDcwLTg2OD5ktN75zQ2MGEwZjhh7YWU0\",\r\n                \"ZDg4ODVkZjQtNzRmZS00NTdjLWIyMmMtMTU2MjBmZT4m4fgxNzY4\",\r\n                \"NmVmNDVmZ434TUtZGJmYS00MjYxLTk1NGEtOTc4OTY3MjMyYTA4\",\r\n                \"ODA4NTdkwZD44AtOWJmYi00YTQzLWJjNDYtMTRmODNMzE5MWI3\",\r\n                \"MTAyYmRiZ5jAtOTQ0Ni00ZGJkLWI3MmUtNm5YzODRkYmM5NzNk\",\r\n                \"MfWI4Y2MzY5mUtYmYyNi00OWE3LTkyY1zEtMDYo53NzB3kYT77A0NjY0\"],\r\n      mixStr:function(str){\r\n        if(!str)return str;\r\n        let reverseBase64=base64url.encode(str.split(\"\").reverse().join(\"\"));\r\n        let rChars=reverseBase64.split(\"\");\r\n        for(let uid of util.mixUids){\r\n            let rIdx=Math.trunc(Math.random()*(rChars.length-1));\r\n            rChars.splice(rIdx,0,uid);\r\n        }\r\n        return `7$1y$${rChars.join(\"\")}2$6x$`;\r\n      },\r\n      unMixStr:function(str){\r\n        if(!str)return str;\r\n        if(str.startsWith('7$1y$')&&str.endsWith('2$6x$')){\r\n            for(let uid of util.mixUids){\r\n                str = str.replace(uid, \"\");\r\n            }\r\n            return base64url.decode(str.substring(5, str.length - 5)).split('').reverse().join('');\r\n        }\r\n        return str;\r\n      }\r\n };\r\n\r\n function initXMLhttp() {\r\n    let xmlhttp;\r\n    if (window.XMLHttpRequest) {\r\n        //code for IE7,firefox chrome and above\r\n        xmlhttp = new XMLHttpRequest();\r\n    } else if(window.ActiveXObject){\r\n        //code for Internet Explorer\r\n        xmlhttp = new window.ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    }\r\n    return xmlhttp;\r\n}\r\n\r\nfunction sign(str=''){\r\n    return md5(str);\r\n}\r\n\r\nexport function minAjax(config) {\r\n    if (!config.url) {\r\n        return;\r\n    }\r\n    if (!config.type) {\r\n        config.type = 'GET';\r\n    }\r\n    if (!config.debugLog) {\r\n        config.debugLog = false;\r\n    }\r\n\r\n    let xmlhttp = initXMLhttp();\r\n    if ( config.xhrFields ) {\r\n        for (let i in config.xhrFields ) {\r\n            xmlhttp[ i ] = config.xhrFields[ i ];\r\n        }\r\n    }\r\n    if (!config.contentType) {\r\n        config.contentType = \"application/x-www-form-urlencoded\";\r\n    }\r\n    if (!config.dataType) {\r\n        config.dataType = 'json';\r\n    }\r\n    \r\n    xmlhttp.onreadystatechange = () => {\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n            if (config.success) {\r\n                let response = xmlhttp.responseText;\r\n                if(response&&config.dataType == 'json'){\r\n                    response = JSON.parse(response);\r\n                    // response._account=decodeURIComponent(xmlhttp.getResponseHeader('_account'));\r\n                }\r\n                config.success(response,xmlhttp);\r\n            }\r\n        }\r\n        if(xmlhttp.status == 333){\r\n            emitter.emit('goto-login',{config,body:xmlhttp.responseText});\r\n            return;\r\n        }\r\n        if(xmlhttp.status == 403){// 自定义代码块\r\n            return message.error(\"无权限!\");\r\n        }\r\n        if(xmlhttp.status == 431){\r\n            return message.error(\"服务查询失败!\");\r\n        }\r\n        if(xmlhttp.status == 432){\r\n            return message.error(\"服务不存在!\");\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status > 200) {\r\n            let errorInfo = xmlhttp.responseText;\r\n            let rspContentType = xmlhttp.getResponseHeader('Content-Type');\r\n            if(rspContentType&&rspContentType.indexOf('json') > -1){\r\n                let rsp = JSON.parse(xmlhttp.responseText);\r\n                if(rsp.errors&&rsp.errors){\r\n                    errorInfo = JSON.stringify(rsp.errors);\r\n                }\r\n            }\r\n            message.info(errorInfo, 3);\r\n\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n\r\n            return;\r\n        }\r\n        if (xmlhttp.readyState == 4 && xmlhttp.status == 0) {\r\n            message.error(`网络错误，请确认服务器地址 '${config.url}' 可用!`);\r\n            if (config.error) {\r\n                let response = xmlhttp.responseText;\r\n                config.error(response);\r\n            }\r\n        }\r\n    };\r\n    let sendString = [],\r\n        sendData = config.data;\r\n    if( typeof sendData === \"string\" ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            let tmpArr = String.prototype.split.call(sendData,'&');\r\n            for(let i = 0, j = tmpArr.length; i < j; i++){\r\n                let datum = tmpArr[i].split('=');\r\n                sendString.push(datum[0] + \"=\" + encodeURIComponent(datum[1]));\r\n            }\r\n        } else {\r\n            sendString.push(sendData);\r\n        }\r\n    }else if( typeof sendData === 'object' && !( sendData instanceof String || (FormData && sendData instanceof FormData) ) ){\r\n        if(config.contentType == \"application/x-www-form-urlencoded\"){\r\n            for (let k in sendData) {\r\n                let datum = sendData[k];\r\n                if(datum && typeof datum === 'string'){\r\n                    datum = datum.trim();\r\n                }\r\n                if(datum || 0===datum){\r\n                    if( Object.prototype.toString.call(datum) == \"[object Array]\" ){\r\n                        for(let i = 0, j = datum.length; i < j; i++) {\r\n                                sendString.push(k + \"=\" + encodeURIComponent(datum[i]));\r\n                        }\r\n                    }else{\r\n                        sendString.push(k + \"=\" + encodeURIComponent(datum));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    sendString = sendString.join('&');\r\n    let async = true;\r\n    if ('async' in config) {\r\n        async = config.async;\r\n    }\r\n    if(!window.isProd()&&config.url.indexOf('logFlowLogs=true')==-1){\r\n        if(config.url.indexOf('?') > -1){\r\n            config.url=config.url+'&logFlowLogs=true';\r\n        }else{\r\n            config.url=config.url+'?logFlowLogs=true';\r\n        }\r\n    }\r\n    if (config.type == \"GET\") {\r\n        if(config.url.indexOf('?') > -1){\r\n            xmlhttp.open(\"GET\", config.url + sendString, async);\r\n        }else{\r\n            xmlhttp.open(\"GET\", config.url + \"?\" + sendString, async);\r\n        }\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp);\r\n        }\r\n        xmlhttp.send();\r\n    }\r\n    if (config.type == \"POST\") {\r\n        xmlhttp.open(\"POST\", config.url, async);\r\n        xmlhttp.setRequestHeader(\"Content-type\", config.contentType);\r\n        let t=new Date().getTime();\r\n        xmlhttp.setRequestHeader(\"Accept-Language\", sign(sendString+t)+t);\r\n        if(config.beforeSend){\r\n            config.beforeSend(xmlhttp,sendString);\r\n        }\r\n        xmlhttp.send(sendString);\r\n    }\r\n}\r\n\r\nexport {util, emitter}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\n\r\nexport const allMetaData = {\r\n  \r\n};\r\nexport const allDictData = {};\r\n\r\nexport default class CommonSelect extends Component {\r\n  static defaultProps = {\r\n      appCode : '',\r\n      allText : '请选择'\r\n  };\r\n  constructor(...args) {\r\n    super(...args);\r\n  }\r\n\r\n  render(){\r\n    let options = (allMetaData[this.props.dictCode] || []).filter(item=>{\r\n      if(this.props.excludeValues && this.props.excludeValues.length>0 && this.props.excludeValues.indexOf(item.key) > -1){\r\n        return false;\r\n      }\r\n      if(this.props.includeValues){\r\n        if(this.props.includeValues.length>0 && this.props.includeValues.indexOf(item.key) > -1){\r\n          return true;\r\n        }else{\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }).map(item=>{\r\n      let {desc} = item;\r\n      let {showKey,renderDesc,withTitle} = this.props;\r\n      if(showKey){\r\n        desc = desc + `[${item.key}]`;\r\n      }else if(renderDesc){\r\n        desc = renderDesc(item);\r\n      }\r\n      return (<Select.Option title={desc} key={item.key + ''} value={util.getStringValue(item.key)}>{desc}</Select.Option>)\r\n    });\r\n    let value = util.getStringValue(this.props.value);\r\n    if(this.props.mode === 'multiple'){\r\n      value = this.props.value;\r\n    }\r\n    return (\r\n        <Select {...Object.assign({},this.props,{value})}>  \r\n          {this.props.withAll ? [<Select.Option key=\"\" value=\"\">{this.props.allText}</Select.Option>].concat(options) : options}\r\n        </Select>);\r\n  }\r\n}","import React, {\r\n  Component\r\n} from 'react';\r\nimport {\r\n  Table,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nexport default class Grid extends Component {\r\n  static defaultProps = {\r\n      pagination : true,\r\n      currentPageName : 'currentPageNum',\r\n      pageSizeName : 'pageSize',\r\n      totalName : 'totalItem',\r\n      defaultPageSize:10,\r\n      queryCondHandler : queryParam=>queryParam\r\n  };\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(this.props.queryEmitter, (queryCond,retainPagintion)=>{\r\n      if (!queryCond) {\r\n        queryCond = this.state.queryCond;\r\n      }\r\n      !this.unmount&&this.setState({\r\n        queryCond,\r\n        pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:retainPagintion?this.state.pagination.current:1}:undefined\r\n      },()=>{\r\n        this.fetchDataAjax(queryCond);\r\n      });\r\n    });\r\n    this.columns = this.props.columns.map(c => {return {\r\n      title:c.title,\r\n      dataIndex:c.key,\r\n      key:c.key,\r\n      width:c.width,\r\n      fixed:c.fixed,\r\n      render:c.render,\r\n      sorter:c.sorter\r\n    }});\r\n    \r\n    this.state = {\r\n      queryCond:{},\r\n      tableData:[],\r\n      pagination:this.props.pagination?{pageSize:this.props.defaultPageSize,current:1} : undefined,\r\n      loading:false\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    if(!this.props.lazyInit){// 支持懒加载\r\n      this.fetchDataAjax(this.props.initQueryCond);\r\n    }\r\n  }\r\n  handleTableChange=(pagination, filters, sorter)=>{\r\n    if(this.props.onChange){\r\n      this.props.onChange(pagination, filters, sorter);\r\n    }\r\n    this.setState({\r\n      pagination\r\n    },()=>{\r\n      this.fetchDataAjax(this.state.queryCond,pagination,filters,sorter);\r\n    });\r\n  }\r\n  onRowClick=(record, index)=>{\r\n    if(this.props.onRowClick){\r\n      this.props.onRowClick(record, index);\r\n    }\r\n  }\r\n  fetchDataAjax=(queryCond,pagination,filters, sorter)=>{\r\n    if(this.props.beforeQuery){\r\n      try{\r\n        queryCond = this.props.beforeQuery(queryCond);\r\n      }catch(e){\r\n        this.setState({loading:false});\r\n        return;\r\n      }\r\n    }\r\n    this.setState({ queryCond, loading: true });\r\n    let ajaxMethod = util.ajaxJson;\r\n    \r\n    let queryCondParam = Object.assign({},queryCond,this.props.pagination?{[this.props.currentPageName]:this.state.pagination.current,[this.props.pageSizeName]:this.state.pagination.pageSize}:undefined);\r\n    if(typeof this.props.ajax == 'string'){\r\n      let queryParam=this.props.queryCondHandler(queryCondParam,pagination,filters,sorter);\r\n      ajaxMethod(this.props.ajax, queryParam, (result)=>{\r\n        if(this.props.resultHandler){\r\n          this.props.resultHandler(result,queryParam);\r\n        }\r\n        let tableData = [];\r\n        if(Array.isArray(result)){\r\n          tableData = result;\r\n        }else{\r\n          for(let k in result){\r\n            if(Array.isArray(result[k]) && k != 'logs'){\r\n              tableData = result[k];\r\n            }\r\n          }\r\n        }\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=result[this.props.totalName];\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      },err=>{\r\n        !this.unmount&&this.setState({\r\n          loading: false\r\n        });\r\n      });\r\n    }else if(typeof this.props.ajax == 'function'){// 解决请求前需要异步请求前提数据场景\r\n      this.props.ajax(this.props.queryCondHandler(queryCondParam,pagination,filters,sorter), (tableData,total)=>{\r\n        if(this.props.pagination){\r\n          this.state.pagination.total=total;\r\n        }\r\n        !this.unmount&&this.setState({\r\n          tableData,\r\n          loading: false,\r\n          pagination: this.props.pagination ? this.state.pagination : undefined\r\n        });\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.unmount=true;\r\n  }\r\n  render() {\r\n    return (<><Table rowKey={this.props.rowKey?this.props.rowKey:record=>record.id} rowSelection={this.props.rowSelection} columns={this.columns} dataSource={this.state.tableData} pagination={this.props.pagination ? this.state.pagination : false} onChange={this.handleTableChange} onRow={this.onRowClick} loading={this.state.loading} size={this.props.size} scroll={this.props.scroll} bordered={this.props.bordered} title={this.props.title} rowClassName={this.props.rowClassName} expandedRowRender={this.props.expandedRowRender} expandIcon={this.props.expandIcon} expandRowByClick={this.props.expandRowByClick} expandedRowKeys={this.props.expandedRowKeys?this.props.expandedRowKeys():[]} />\r\n    {this.props.showTotal&&this.state.pagination&&<span className=\"table-total-tips\">共{this.state.pagination.total}条</span>}\r\n    </>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Popconfirm,\r\n  message\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Grid from './grid';\r\nexport default class BizTable extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.columns = this.props.config.fields.filter(f=>!f.notInTable).map(f=>{\r\n      let column = {key:f.key,title:f.label,width:f.width};\r\n      if(f.type=='datetime'){\r\n        column.render= (text,record) => util.formatDate(text);\r\n      }\r\n      if(f.enums){\r\n        const enumObj = {};\r\n        let {enums}=f;\r\n        if(typeof enums=='function'){\r\n          enums=enums();\r\n        }\r\n        enums.forEach(e=>{\r\n          let key,value;\r\n          key=Array.isArray(e)?e[0]:(typeof e == 'string' ? e : e.key);\r\n          value=Array.isArray(e)?e[1]:(typeof e == 'string' ? e : e.text);\r\n          enumObj[key]=value;\r\n        });\r\n        column.render= (text,record,idx) => {\r\n          if(f.render){\r\n            return f.render(text,record,idx,enumObj[text]);\r\n          }else{\r\n            if(Array.isArray(text)){\r\n              return text.map(it=>enumObj[it]).join(',');\r\n            }\r\n            return enumObj[text];\r\n          }\r\n        };\r\n      }else{\r\n        if(f.render){\r\n          column.render = f.render.bind(f);\r\n        }\r\n      }\r\n      return column;\r\n    });\r\n    if(this.props.config.table&&this.props.config.table.rowKey){\r\n      this.rowKey = this.props.config.table.rowKey;\r\n    }else{\r\n      this.rowKey = r=>r[this.props.config.fields.filter(f=>f.rowKey)[0].key];\r\n    }\r\n    \r\n    let {updateInterface,deleteInterface} = this.props.config.api;\r\n    let canDelete = !!deleteInterface;\r\n    if(updateInterface || deleteInterface || this.props.config.operationAddon || this.props.config.operationPrefix){\r\n      this.columns.push({\r\n          title: '操作',\r\n          key: 'operation',\r\n          render: (text, record) => {\r\n            if(this.props.config.table&&this.props.config.table.canModify){// 是否可修改\r\n              updateInterface = this.props.config.table.canModify(record);\r\n            }\r\n            if(this.props.config.table&&this.props.config.table.canDelete){// 是否可删除\r\n              canDelete = this.props.config.table.canDelete(record);\r\n            }\r\n            return (\r\n              <div className=\"opt-container\">\r\n                {this.props.config.operationPrefix&&this.props.config.operationPrefix(record)}\r\n                {updateInterface&&<a onClick={()=>{\r\n                  emitter.emit(`show${this.props.config.key}Dialog`, record, 'modify');\r\n                }}>修改</a>}\r\n                {canDelete&&<Popconfirm title={'确定要删除？'} onConfirm={()=>{\r\n                  let params={};\r\n                  for(let k in deleteInterface.params){\r\n                    params[k] = record[deleteInterface.params[k]];\r\n                  }\r\n                  if(this.props.config.table&&this.props.config.table.beforeDelete){\r\n                    params = this.props.config.table.beforeDelete(params,record);\r\n                  }\r\n                  util.ajaxJson(deleteInterface.func,params,(result)=>{\r\n                    if(result.success){\r\n                      message.success('删除成功！');\r\n                    }\r\n                    emitter.emit(`query${this.props.config.key}Table`,undefined,true);\r\n                  });\r\n                }}>\r\n                  <a>删除</a>\r\n                </Popconfirm>}\r\n                {this.props.config.operationAddon&&this.props.config.operationAddon(record)}\r\n              </div>\r\n            );\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.props.config.operationPreAddon){\r\n      this.columns.splice(0,0,{\r\n        title: '操作',\r\n        key: 'preOperation',\r\n        render: (text, record) => {\r\n          return (\r\n                <div className=\"pre-opt-container\">\r\n                {this.props.config.operationPreAddon(record)}\r\n                </div>);\r\n        }\r\n      });\r\n    }\r\n    \r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (<Grid rowKey={this.rowKey} ajax={this.props.config.api.queryInterface.func} beforeQuery={this.props.config.queryCond&&this.props.config.queryCond.beforeQuery} queryEmitter={`query${this.props.config.key}Table`} columns={this.columns} {...this.props.config.table}/>);\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Radio,\r\n  Tooltip,\r\n  Icon,\r\n  Select,\r\n  Modal,\r\n  message,\r\n  Cascader,\r\n  InputNumber,\r\n  Col,\r\n  Row\r\n} from 'antd';\r\nimport {emitter,util} from '../../../common/common';\r\nimport Field from './field';\r\nconst RadioButton = Radio.Button;\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\nexport default class BizForm extends Component{\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.hiddenFields = this.props.config.fields.filter(f=>f.isHiddenInForm&&!f.notInForm);\r\n    this.formFields = this.props.config.fields.filter(f=>!f.notInForm&&!f.isHiddenInForm);\r\n    emitter.on(`show${this.props.config.key}Dialog`, (formData, optType)=>{\r\n      if(this.props.config.form&&this.props.config.form.beforeShowDialog){\r\n        let shouldShow = this.props.config.form.beforeShowDialog(formData, optType);\r\n        if(!shouldShow)return;\r\n      }\r\n      this.setState({\r\n        visible:true,\r\n        optType\r\n      },()=>{\r\n        if (optType == 'modify') {\r\n          let fieldsValue = formData;\r\n          if(this.props.config.form&&this.props.config.form.beforeModify){\r\n            fieldsValue = this.props.config.form.beforeModify(formData);\r\n          }\r\n          this.setState({formValues:fieldsValue});\r\n        } else {\r\n          let formValues = {};\r\n          if(this.props.config.form&&this.props.config.form.beforeAdd){\r\n            let fieldsValue = this.props.config.form.beforeAdd(formData);\r\n            fieldsValue&&(formValues=fieldsValue);\r\n          }\r\n          this.setState({formValues});\r\n        }\r\n      });\r\n    });\r\n    this.state = {\r\n      visible: false,\r\n      optType: 'add',\r\n      formValues:{}\r\n    };\r\n  }\r\n  handleSubmit=()=>{\r\n    util.validateFields.call(this, values=>{\r\n      let fieldsValue = values;\r\n      if(this.props.config.form&&this.props.config.form.beforeSubmit){\r\n        fieldsValue = this.props.config.form.beforeSubmit(values, this.state.optType);\r\n      }\r\n      let hideLoading = message.loading('executing', 10);\r\n      util.ajaxJson(this.state.optType == 'modify' ? this.props.config.api.updateInterface.func : this.props.config.api.insertInterface.func,\r\n        {rec:fieldsValue},(data)=>{\r\n          if(data.success){\r\n            if(data.result&&data.result.resultType=='FAIL'){\r\n              message.error('保存失败, 原因：' + data.result.failMessage);\r\n            }else{\r\n              message.success('保存成功');\r\n            }\r\n            this.setState({\r\n              visible: false\r\n            },()=>{\r\n              this.setState({});\r\n            });\r\n            setTimeout(()=>{\r\n              emitter.emit(`query${this.props.config.key}Table`, undefined, true);\r\n            },this.props.config.delayQueryTable?this.props.config.delayQueryTable:0);\r\n          }\r\n          if(this.props.config.form&&this.props.config.form.afterSubmit){\r\n            this.props.config.form.afterSubmit(data,fieldsValue);\r\n          }\r\n          hideLoading();\r\n      },()=>{\r\n        hideLoading();\r\n      });\r\n\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    if(this.props.config.form&&this.props.config.form.beforeCancel){\r\n      this.props.config.form.beforeCancel();\r\n    }\r\n    this.setState({\r\n      visible: false,\r\n      formValues:{}\r\n    });\r\n  }\r\n\r\n  shouldFieldDisplay=(field)=>{\r\n    let shouldDisplay = true;\r\n    if(this.state.optType=='add'&&field.notInAdd===true){\r\n      shouldDisplay = false;\r\n    }\r\n    return shouldDisplay;\r\n  }\r\n\r\n  isRequired=(field)=>{\r\n    if(field&&field.rules&&field.rules.length>0){\r\n      for (let k in field.rules) {\r\n        if(field.rules[k].required){\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const formItemLayout = {labelCol: {span: 6},wrapperCol: {span: 14}};\r\n    let col = 1,className;\r\n    if(this.props.config.form){\r\n      if(this.props.config.form.col){\r\n        col = this.props.config.form.col;\r\n      }\r\n      if(this.props.config.form.className){\r\n        className = this.props.config.form.className;\r\n        this['__formClassName_']=className;\r\n      }\r\n    }\r\n    let modalTitle=typeof this.props.config.title =='string'?this.props.config.title:'';\r\n    return (<Modal title={this.state.optType == 'modify' ? `修改 ${modalTitle}` : `新增 ${modalTitle}`} maskClosable={false} visible={this.state.visible} width={this.props.config.dialog.width} onCancel = {this.handleCancel} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleSubmit}>\r\n            保存\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n      <Form className={className}>\r\n        {this.hiddenFields.map(hiddenField=>{\r\n          return <Input key={hiddenField.key} type=\"hidden\" {...util.getField.bind(this)(hiddenField.key,{...hiddenField.options})}/>;\r\n        })}\r\n        <Row>\r\n        {this.formFields.filter(field=>{\r\n          if(field.shouldDisplay&&field.shouldDisplay(this)===false){\r\n            return false;\r\n          }\r\n          return true;\r\n        }).map(field=>{\r\n          let label = <span>{field.label}{field.tooltip}</span>;\r\n          return (<Col key={field.key} span={24/col}><FormItem required={this.isRequired(field)} style={{display:this.shouldFieldDisplay(field)?'block':'none'}} label={label} {...formItemLayout}>\r\n          <Field field={field} optType={this.state.optType} {...field.props} {...util.getField.bind(this)(field.key,{rules:field.rules,...field.options})} context={this}/>\r\n        </FormItem></Col>);\r\n        })}\r\n        </Row>\r\n      </Form></Modal>\r\n    );\r\n  }\r\n}","import React,{Component,Fragment} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Table from './table/table';\r\nimport Form from './form/form';\r\nimport QueryCond from './table/queryCond';\r\nimport {emitter} from '../../common/common';\r\nimport {\r\n  Button,\r\n  Row,\r\n  Col,Icon\r\n} from 'antd';\r\nimport './index.less';\r\n\r\nexport default class BizIndex extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.components={};\r\n    this.state = {\r\n         keyword:''\r\n    };\r\n  }\r\n\r\n  getForm=()=>{\r\n    return this.components.form;\r\n  }\r\n  \r\n  render() {\r\n    let {onlyUseForm} = this.props;// 只是想用下表单，场景：其他页面想新增/修改时\r\n    return (\r\n      <div className={this.props.config.key+\"-container\"}>\r\n        {!onlyUseForm&&<Fragment>\r\n          <Row type=\"flex\" justify=\"space-between\" className=\"table-header\">\r\n            <Col span={6}><h2>{this.props.config.title}</h2></Col>\r\n            <Col span={2}>\r\n            </Col>\r\n            <Col span={14}></Col>\r\n            <Col span={2}>{this.props.config.api.insertInterface&&<Button type=\"primary\" size=\"small\" className=\"button\" onClick={()=>{\r\n              emitter.emit(`show${this.props.config.key}Dialog`, undefined, 'add');\r\n            }}><Icon type=\"plus\" />新增</Button>}</Col>\r\n          </Row>\r\n          <QueryCond wrappedComponentRef={e=>{\r\n            this.components.queryCond=e;\r\n          }} {...this.props}/>\r\n          <Table ref={e=>{\r\n            this.components.table=e;\r\n          }} {...this.props}/>\r\n        </Fragment>}\r\n        <Form ref={e=>{\r\n            this.components.form=e;\r\n          }} {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","var map = {\n\t\"./bill/queryBill/index.js\": 651,\n\t\"./common/indicates/index.js\": 652,\n\t\"./contact/index.js\": 653,\n\t\"./game/ballMate/index.js\": 570,\n\t\"./game/game/index.js\": 654,\n\t\"./operate/ballRoom/index.js\": 576,\n\t\"./operate/member/index.js\": 649,\n\t\"./operate/memberBill/index.js\": 625,\n\t\"./sys/config/index.js\": 628,\n\t\"./sys/optLog/index.js\": 631,\n\t\"./sys/sysRole/index.js\": 634,\n\t\"./sys/sysUser/index.js\": 655,\n\t\"./task/index.js\": 638,\n\t\"./train/class/index.js\": 656,\n\t\"./train/coach/index.js\": 657,\n\t\"./train/student/index.js\": 648\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 485;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport Area,{getDisplayText} from '../../common/indicates/area';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-game/ballMate`,()=>{\r\n      emitter.emit('queryBallMateTable');\r\n    });\r\n    this.config = {\r\n      title:'球友管理',\r\n      key:'BallMate',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n            key:'phone',\r\n            width:'10%',\r\n            props:{\r\n              maxLength:11\r\n            },\r\n            rules:[{required:true,message:'必填'},{validator:v=>{\r\n              return v&&/^1[0-9]{10}$/.test(v);\r\n            },message:'必须为1开头的11位手机号'}],\r\n            label:'手机号'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          type:'custom',\r\n          getComponent:(props,context)=>{\r\n            return <Area useName context={context} {...props}></Area>;\r\n          },\r\n          label:'省市区'\r\n        },{\r\n          key:'score',\r\n          width:'10%',\r\n          label:'积分'\r\n        },{\r\n            key:'maxScore',\r\n            width:'10%',\r\n            label:'最高积分'\r\n          },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.address){\r\n            formData.address=getDisplayText(formData.prov,formData.city,formData.county);\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'GameOperation?opt=queryBallMate'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=updateBallMate'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=insertBallMate'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'GameOperation?opt=deleteBallMate',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'球馆管理',\r\n      key:'ballRoom',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'15%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'address',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'地址'\r\n        },{\r\n          key:'boss',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'法人'\r\n        },{\r\n          key:'staffs',\r\n          width:'30%',\r\n          enums:allStaffs.map(it=>({key:it.id+'',text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'球馆员工'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:rec=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BallRoomOperation?opt=queryBallRoom'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=updateBallRoom'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=insertBallRoom'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'BallRoomOperation?opt=deleteBallRoom',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-operate/memberBill`,()=>{\r\n      emitter.emit('queryMemberBillTable');\r\n    });\r\n    this.config = {\r\n      title:'会员流水',\r\n      key:'MemberBill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'memberName'},{key:'phone'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'memberName',\r\n          width:'10%',\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          label:'手机号'\r\n        },{\r\n          key:'operator',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'consumeType',\r\n          width:'10%',\r\n          label:'消费类型'\r\n        },{\r\n          key:'consumeTimes',\r\n          width:'10%',\r\n          label:'消费次数'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'roomId',\r\n          width:'10%',\r\n          enums:rooms.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'球馆'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMemberBill'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Tabs, Form, Select, Popconfirm, InputNumber} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/config`,()=>{\r\n      this.initTenantConfig();\r\n    });\r\n    this.initTenantConfig()\r\n    this.state={\r\n        config:{},\r\n        formValues:{}\r\n    };\r\n  }\r\n  initTenantConfig=()=>{\r\n    util.ajaxJson(urlPrefix+'SysUserFramework?opt=getTenantConfig',{},res=>{\r\n        let config=res.data||{};\r\n        if(!config.billCates)config.billCates=['会员开户','学员开户','学员充值'];\r\n        if(!config.majorCoachRate)config.majorCoachRate=55;\r\n        if(!config.coachRate)config.coachRate=50;\r\n        let formValues={...config};\r\n        this.setState({config,formValues});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {config}=this.state;\r\n    return (\r\n      <div className=\"sys-config-c\">\r\n       <Tabs defaultActiveKey=\"1\">\r\n            <Tabs.TabPane tab=\"属性配置\" key=\"1\">\r\n                <Form.Item label=\"账务分类\" required>\r\n                    <Select mode=\"tags\" placeholder=\"请输入需要新增的账务分类供选择\" value={config.billCates} onChange={v=>{\r\n                        config.billCates=v;\r\n                        this.setState({config});\r\n                    }}>\r\n                        {config.billCates&&config.billCates.map(it=><Select.Option key={it} value={it}>{it}</Select.Option>)}\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item label=\"教练分账比例\" required>\r\n                  <div>主管教练：<InputNumber {...util.getField.call(this,'majorCoachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                  <div>普通教练：<InputNumber {...util.getField.call(this,'coachRate',{rules:[{required:true,message:'必填'}]})} precision={0} min={1} max={100}/>%</div>\r\n                </Form.Item>\r\n            </Tabs.TabPane>\r\n        </Tabs>\r\n        <Popconfirm title=\"请您确认配置的准确性，保存后系统将直接生效，确定无误？\" onConfirm={()=>{\r\n          let {config,formValues}=this.state;\r\n          config = {...config,...formValues};\r\n            util.ajaxJson(urlPrefix+'SysUserFramework?opt=saveTenantConfig',{config},res=>{\r\n                if(res.success){\r\n                    message.success('保存系统配置成功！');\r\n                    emitter.emit('init-user-info');\r\n                }\r\n            });\r\n        }}><Button type=\"primary\">保存</Button></Popconfirm>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-sys/optLog`,()=>{\r\n      emitter.emit('queryOptLogTable');\r\n    });\r\n    this.config = {\r\n      title:'操作日志',\r\n      key:'OptLog',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'},{key:'accountName'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'accountName',\r\n          width:'10%',\r\n          label:'操作人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          label:'操作类型'\r\n        },{\r\n          key:'content',\r\n          width:'40%',\r\n          render:(v,r)=>{\r\n            let reg = new RegExp(`\"customer_name\":\"(.+?)\"`,\"mg\");\r\n            let rs;\r\n            let resArr=[];\r\n            while((rs=reg.exec(v)) != null){\r\n              if(rs.length>0){\r\n                resArr.push(rs[1]);\r\n              }\r\n            }\r\n            if(resArr.length>0){\r\n              let resStr=resArr.join(', ');\r\n              if(r.type=='doTransfer'){\r\n                let obj=JSON.parse(v);\r\n                return `【转交数：${obj.customers.length}，接收人：${obj.owner_name}】 客户明细：${resStr}`;\r\n              }\r\n              return resStr;\r\n            }\r\n            return v;\r\n          },\r\n          label:'操作对象'\r\n        },{\r\n          key:'gmtCreate',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'操作时间'\r\n        },{\r\n          key:'ip',\r\n          width:'10%',\r\n          label:'IP'\r\n        },{\r\n          key:'ua',\r\n          width:'10%',\r\n          label:'客户端'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=queryOptLog'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,menus,urls,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'角色管理',\r\n      key:'sysRole',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'type',\r\n          width:'4%',\r\n          notInForm:true,\r\n          enums:[{key:'系统',text:'系统'},{key:'自定义',text:'自定义'}],\r\n          label:'类型'\r\n        },{\r\n          key:'menus',\r\n          width:'20%',\r\n          enums:()=>menus.map(it=>({key:it.code,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色包含菜单'\r\n        },{\r\n          key:'urls',\r\n          width:'20%',\r\n          enums:()=>urls.map(it=>({key:it.code,text:it.name})),\r\n          multi:true,\r\n          label:'角色包含功能'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      // operationAddon:record=>{\r\n      //   return (<span><a onClick={()=>{\r\n          \r\n      //   }}>设计</a></span>);\r\n      // },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {type:'自定义'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.content=JSON.stringify({menus:formData.menus,urls:formData.urls});\r\n          return formData;\r\n        },\r\n        afterSubmit:res=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        canModify:r=>r.type=='自定义',\r\n        canDelete:r=>r.type!='系统',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.content){\r\n              let contentObj=JSON.parse(it.content);\r\n              if(contentObj){\r\n                it.menus=contentObj.menus;\r\n                it.urls=contentObj.urls;\r\n              }\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysRole'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysRole'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysRole'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysRole',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <SelectTable columns={[{key:'id',title:'ID',width:'30%'},{key:'name',title:'名称',width:'70%'}]} urlSuffix=\"MemberOperation?opt=queryMember\" searchKey=\"name\"/> */}\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../common/common';\r\nimport BizComp from '../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../interfaces/interfaces';\r\n\r\nimport QueryCond from '../../components/common/table/queryCond';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-task`,()=>{\r\n      emitter.emit('queryTaskTable');\r\n    });\r\n    this.config = {\r\n      title:'任务待办',\r\n      key:'Task',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'type'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'执行人'\r\n        },{\r\n          key:'type',\r\n          width:'10%',\r\n          enums:[['跟进','跟进']],\r\n          label:'任务类型'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务开始时间'\r\n        },{\r\n          key:'expireTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'任务过期时间'\r\n        },{\r\n          key:'todoInfo',\r\n          width:'30%',\r\n          render:(v,r)=>{\r\n            return <pre>{v}</pre>;\r\n          },\r\n          label:'任务内容'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            if(r.start_time<new Date().getTime())return <span style={{color:'red'}}>已超期</span>;\r\n            if(v===0)return '待处理';\r\n            if(v===1)return '处理中';\r\n            if(v===2)return '已完成';\r\n            if(v===3)return '已放弃';\r\n            return v;\r\n          },\r\n          label:'状态'\r\n        },{\r\n          key:'finish_time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'完成时间'\r\n        }\r\n      ],\r\n      operationAddon:r=>{\r\n        return (<span>{r.status===0&&<a onClick={()=>{\r\n          if(r.type=='跟进'){\r\n            emitter.emit('main-clickmenu',{key:'customer'});\r\n            util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id},result=>{\r\n              emitter.emit('do-indicates-search',{company_name:r.customer_name});\r\n            });\r\n          }\r\n        }}>立即处理</a>}{(r.status===0||r.status===1)&&<Popconfirm title=\"是否标记完结？\" okText=\"是\" cancelText=\"否\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'?serviceId=crm_base&opt=doTasking',{id:r.id,status:2,finish_time:new Date().getTime()},result=>{\r\n            message.success('已完结');\r\n            emitter.emit('queryCrmTaskTable',undefined,true);\r\n          });\r\n        }}><a>标记完结</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        width:'100%',\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=listMyTask'},\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required,onChange,showPrice}=this.props;\r\n        return <>\r\n            <Select {...util.getField.bind(form)('coachId',{onChange,rules:[{required,message:'必填'}]})}>\r\n                {coaches.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name} {showPrice&&<span>[{it.unitPrice}元/小时]</span>}</Select.Option>;\r\n                })}\r\n              </Select>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addStudentModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,type:'乒乓',gmtCreate:moment(),privateTrain:tenantConfig.privateTrain?tenantConfig.privateTrain:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      let existData=await util.ajaxJsonAsync(urlPrefix+'TrainOperation?opt=getStudent',{phone:values.phone});\r\n      if(existData.data&&existData.data[0]){// 已存在学员\r\n        Modal.confirm({\r\n          title:'学员是否合并提醒？',\r\n          content:`通过手机号发现该学员已存在，余额为${existData.data[0].amount}元，是否直接做合并并继续？`,\r\n          onOk:()=>{\r\n            this.doReportStudent(values);\r\n          }\r\n        });\r\n      }else{\r\n        this.doReportStudent(values);\r\n      }\r\n      \r\n    });\r\n  }\r\n  doReportStudent=(values)=>{\r\n    this.setState({loading:true});\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=reportStudent', {rec:values}, res=>{\r\n      if(res.success){\r\n        message.success(`开户成功!`);\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false,loading:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,loading} = this.state;\r\n  \treturn (<Modal title={`学员报名开课`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} loading={loading}>\r\n            报名\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程类型\" required>\r\n              <Select {...util.getField.bind(this)('type',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'乒乓',text:'乒乓'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"私教\" required>\r\n              <Switch {...util.getField.call(this,'privateTrain',{mode:'checkbox',onChange:v=>{\r\n                if(!v){\r\n                  let invalidFields=['coachId','times','amount'];\r\n                  let {formValues}=this.state;\r\n                  for(let invalidField of invalidFields){\r\n                    delete this['__validField_'+invalidField];\r\n                    delete formValues[invalidField];\r\n                  }\r\n                  this.setState({formValues});\r\n                }\r\n              }})}/>\r\n            </Form.Item>\r\n            {formValues.privateTrain&&<><Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"主管教练\" required>\r\n              <Coach form={this} required showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开课时间\" required>\r\n              <DatePicker {...util.getField.call(this,'gmtCreate')}/>\r\n            </Form.Item></>}\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popconfirm,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport MyUpload from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyStudentModal', (rec)=>{\r\n      let formValues={...rec};\r\n      formValues.roomId=rec.roomId+'';\r\n      delete formValues.amount;\r\n      delete formValues.courses;\r\n      delete formValues.recordCount;\r\n      delete formValues.remark;\r\n      this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,async values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=updateStudent', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`学员报名`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的培训记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n        修改\r\n     </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"手机号\" required>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"学员\" quality={0.07} onLoading={loading=>this.setState({loading})} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Form.Item className=\"\" label=\"培训类型\" required={required}>\r\n              <Select {...util.getField.bind(form)('type',{rules:[{required,message:'必填'}]})}>\r\n                  {[{key:'乒乓',text:'乒乓'},{key:'羽毛球',text:'羽毛球'}].map(it=>{\r\n                    return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"培训子类\" required={required}>\r\n              <Select {...util.getField.bind(form)('subType',{rules:[{required,message:'必填'}]})}>\r\n                  {['基础','多球','实战'].map(it=>{\r\n                    return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                  })}\r\n                </Select>\r\n            </Form.Item>\r\n        </>;\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row, Col} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport Coach from '../../common/fields/coach';\r\nimport SportType from '../../common/fields/sportType';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('studentRecordModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,studyTime:moment(),type:'乒乓',subType:'多球'};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{courses:[]},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=studentConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`refresh-student-table`);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onCoachChange=(v)=>{\r\n    let coach=coaches.filter(it=>it.id==v)[0];\r\n    if(!coach)return;\r\n    let {formValues}=this.state;\r\n    let times=formValues.consumeTimes||1;\r\n    formValues.consumeAmount=times*coach.unitPrice;\r\n    this.setState({formValues});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let isMainCoach=false;\r\n    if(rec.courses){\r\n      isMainCoach=rec.courses.filter(it=>it.coachId==formValues.coachId&&formValues.courseId==it.id).length>0;\r\n      rec.courses.forEach(r=>{\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n    let coachRate=isMainCoach?tenantConfig.majorCoachRate:tenantConfig.coachRate;\r\n    let targetCourse=rec.courses.filter(it=>formValues.courseId==it.id+'')[0] || {};\r\n    let targetCoach=coaches.filter(it=>it.id==targetCourse.coachId)[0];\r\n  \treturn (<Modal title={`学员训练登记`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose getContainer={document.querySelector('.Student-container')} onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"student-consume-modal\">\r\n            <Row>\r\n              <Col span={8}>\r\n                <Form.Item className=\"memberName-f\" label=\"学员名\">\r\n                    {rec.name}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"手机号\">\r\n                    {rec.phone}\r\n                </Form.Item>\r\n              </Col>\r\n              <Col span={8}>\r\n                <Form.Item className=\"\" label=\"余额\">\r\n                    {rec.amount}\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <SportType form={this} required/>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  let {formValues}=this.state;\r\n                  let {coachId}=rec.courses.filter(it=>it.id+''==v)[0];\r\n                  formValues.coachId=coachId+'';\r\n                  this.onCoachChange(formValues.coachId);\r\n                },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                            {key:'coachName',title:'教练',width:'80px'},\r\n                            {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                            {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                            {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                            {key:'remark',title:'课程备注',width:'100px'},\r\n                    ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label={(isMainCoach?'主管':'')+\"教练\"} required>\r\n              <Coach form={this} required onChange={this.onCoachChange} showPrice/>\r\n            </Form.Item>\r\n            <Form.Item className=\"consume-times-f\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                if(targetCourse.remainTimes!==undefined && +targetCourse.remainTimes < +v){\r\n                  return false;\r\n                }\r\n                return true;\r\n              },message:'课时数不足'}]})} min={1} precision={1} step={0.5}/>\r\n              {targetCourse&&targetCoach&&targetCoach.name&&targetCourse.remainTimes!==undefined&&<span className=\"course-tip\">{targetCoach.name}的课 &nbsp;&nbsp;剩余课时数：{targetCourse.remainTimes} 剩余金额：{targetCourse.remainAmount}元</span>}\r\n              \r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费金额(元)\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeAmount',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return +v<=rec.amount;\r\n              },message:'余额不足'}]})} min={1} precision={0}/>\r\n              {formValues.consumeAmount&&<span className=\"course-tip\">待分账金额（{isMainCoach?'主管':''}教练）：{util.round(+formValues.consumeAmount*(coachRate/100))}元({coachRate}%)<a onClick={()=>{\r\n                emitter.emit('main-clickmenu',{key:'sys/config'});\r\n                // this.setState({visible:});\r\n              }}>设置</a></span>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"训练时间\" required>\r\n              <DatePicker {...util.getField.call(this,'studyTime',{rules:[{required:true,message:'必填'}]})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"room-f\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n              {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-course-list-drawer', (rec,courseId)=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n            if(res.success){\r\n                let courseInfo=res.data;\r\n                this.setState({visible:true,rec,courseInfo,courseId,modifyCourseTime:undefined});\r\n            }\r\n        });\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      rec:{},\r\n      courseInfo:{\r\n          course:{},\r\n          records:[]\r\n      }\r\n  \t};\r\n  }\r\n\r\n  deleteStudentRec=r=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:r.studentId,id:r.id},res=>{\r\n      if(res.success){\r\n        message.success('删除流水成功');\r\n        this.refreshCourseInfo();\r\n      }\r\n    });\r\n  }\r\n  deleteStudentRechargeBillRec=r=>{\r\n    Modal.confirm({\r\n      title:'删除充值记录确认',\r\n      content:'删除充值记录后，课程余额余次将同步扣减，且账单做同步删除，是否继续？',\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRechargeBillRec',{id:r.id},res=>{\r\n          if(res.success){\r\n            message.success('删除充值记录成功');\r\n            this.refreshCourseInfo();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n  refreshCourseInfo=()=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=getCourseInfo',{courseId},res=>{\r\n        if(res.success){\r\n            let courseInfo=res.data;\r\n            this.setState({courseInfo});\r\n        }\r\n    });\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n  }\r\n\r\n  deleteCourse=async ()=>{\r\n    let {courseId}=this.state;\r\n    let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuRecharge'+courseId+'-'});\r\n    if(!billRes.success)return;\r\n    if(billRes.data.totalItem>0){\r\n      Modal.confirm({\r\n        title:'同步删除账单确认？',\r\n        content:`系统监测到您已有${billRes.data.totalItem}笔学员课程充值账单录入，是否同步删除？`,\r\n        onOk:()=>this.doDeleteCourse(billRes.data.data.map(it=>it.id))\r\n      });\r\n    }else{\r\n      this.doDeleteCourse(billRes.data.data.map(it=>it.id));\r\n    }\r\n  }\r\n\r\n  doDeleteCourse=(ids)=>{\r\n    let {courseId}=this.state;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentCourse',{courseId,ids},res=>{\r\n      if(res.success){\r\n        message.success('删除课程成功');\r\n        this.setState({visible:false});\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  modifyCourseTimes=()=>{\r\n    let {courseInfo,modifyCourseTime} = this.state;\r\n    let {course}=courseInfo;\r\n    if(!modifyCourseTime||modifyCourseTime==course.times)return;\r\n    if(modifyCourseTime<(course.times-course.remainTimes))return message.warn('课时数不足，无法修改！');\r\n    let remainTimes=course.remainTimes+(modifyCourseTime-course.times);\r\n    Modal.confirm({\r\n      title:\"修改总课时数确认\",\r\n      content:`确定要将该课程的总课时数从${course.times}调整到${modifyCourseTime}吗？调整后，剩余课时数将从${course.remainTimes}变成${remainTimes}`,\r\n      onOk:()=>{\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=updateCourse',{courseId:course.id,times:modifyCourseTime,remainTimes},res=>{\r\n          if(res.success)message.success('修改课时数成功');\r\n          this.refreshCourseInfo();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,courseInfo,modifyCourseTime} = this.state;\r\n    let {course,records,bills}=courseInfo;\r\n    let coach=coaches.filter(it=>it.id==course.coachId)[0];\r\n  \treturn (<Drawer title={`学员【${rec.name}】- 教练【${coach&&coach.name}】课程信息`} getContainer={()=>document.querySelector('.Student-container')} className=\"student-course-drawer\" visible={visible} width={800} placement=\"right\" onClose={this.onClose} destroyOnClose >\r\n          <Collapse defaultActiveKey={['1','2','3']}>\r\n            <Collapse.Panel header=\"课程详情\" key=\"1\">\r\n                <Row>\r\n                    <Form.Item label=\"学员名\">{rec.name}</Form.Item>\r\n                    <Form.Item label=\"主管教练\">{coach&&coach.name}</Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"缴费金额(元)\">{course.remainAmount}/{course.amount}</Form.Item>\r\n                    <Form.Item label=\"课程次数\">{course.remainTimes}/{course.times}&nbsp;<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer .ant-drawer-body')} title={<><h3>修改课程总次数</h3><Form.Item label=\"课程次数\"><InputNumber value={modifyCourseTime?modifyCourseTime:course.times} onChange={e=>{\r\n                      this.setState({modifyCourseTime:e});\r\n                    }} min={0} max={1000} precision={0}/></Form.Item></>} onConfirm={this.modifyCourseTimes}><a>修改</a></Popconfirm></Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"课程备注\">{course.remark}</Form.Item>\r\n                    <Form.Item label=\"课程类型\">{course.type}</Form.Item>\r\n                </Row>\r\n                <Row>\r\n                    <Form.Item label=\"开课时间\">{util.formatDate(course.gmtCreate)}</Form.Item>\r\n                    <Form.Item label=\"经办人\">{course.operator}</Form.Item>\r\n                </Row>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程培训记录\" key=\"2\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={records} size=\"small\" columns={[{key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'消费课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeTimes+=records[i].consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=course.times-consumeTimes;\r\n            return `${snapTimes}/${course.times}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'消费后余额(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<records.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=records[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${course.amount-consumeAmount}/${course.amount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n\r\n            <Collapse.Panel header=\"课程充值记录\" key=\"3\">\r\n                <Table pagination={false} rowKey={r=>r.id} dataSource={bills} size=\"small\" columns={[{key:'chargeTime',dataIndex:'chargeTime',title:'充值时间',render:v=>util.formatDate(v)},\r\n          {key:'times',dataIndex:'times',title:'充值课时数'},\r\n          {key:'amount',dataIndex:'amount',title:'充值金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span><Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除？\" onConfirm={()=>this.deleteStudentRechargeBillRec(r)}><a>删除</a></Popconfirm></span>}]}/>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n\r\n          <Button type=\"primary\" onClick={()=>emitter.emit('rechargeStudentModal',rec,courseInfo.course)}>课程充值</Button>\r\n          {records&&records.length>0&&<Tooltip getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"删除课程前需要先清空课程记录\" ><Button disabled type=\"danger\">删除课程</Button></Tooltip>}\r\n          {!records||records.length<=0&&<Popconfirm getPopupContainer={()=>document.querySelector('.student-course-drawer')} title=\"确定删除课程？\" onConfirm={this.deleteCourse}><Button type=\"danger\">删除课程</Button></Popconfirm>}\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Row} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nimport Coach from '../../common/fields/coach';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('rechargeStudentModal', (rec,course)=>{\r\n      let courseId,remark,canSelectCourse=true;\r\n      if(course){// 指定课程的\r\n        courseId=course.id+'';\r\n        remark=course.remark;\r\n        canSelectCourse=false;\r\n      }\r\n      let formValues={roomId:rec.roomId+'',remark,courseId,gmtCreate:moment()};\r\n      this.setState({visible:true,formValues,rec,canSelectCourse});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      courseInfo:{\r\n        course:{}\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=rechargeCourse', {rec:values,courseId,studentId:rec.id}, res=>{\r\n        if(res.success){\r\n          message.success(`课程充值成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n    \r\n  }\r\n\r\n  handleCancel=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {courseId}=formValues;\r\n    emitter.emit(`queryStudentTable`, undefined, true);\r\n    if(!this.state.canSelectCourse)emitter.emit('show-course-list-drawer',rec,courseId);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n    let course={},{courseId}=formValues;\r\n    if(rec.courses){\r\n      rec.courses.forEach(r=>{\r\n        if(r.id==courseId)course=r;\r\n        r.coursename=`${r.coachName}的课(${r.type}) ${r.remark?('['+r.remark+']'):''} ${r.gmtCreate&&('<'+util.formatDate(r.gmtCreate,'yy年MM月dd号开课')+'>')}`;\r\n      });\r\n    }\r\n  \treturn (<Modal title={`学员课程充值`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            充值\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"学员手机号\" required>\r\n                  {rec.phone}\r\n              </Form.Item>\r\n              <Form.Item className=\"memberName-f\" label=\"学员名\" required>\r\n                  {rec.name}\r\n              </Form.Item>\r\n            </Row>\r\n            <Row className=\"FBH\">\r\n              <Form.Item className=\"\" label=\"课程余额(元)\" required>\r\n                  {course.remainAmount}/{course.amount}\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"课程剩余次数\" required>\r\n                  {course.remainTimes}/{course.times}\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"课程\" required>\r\n              <SelectTable disabled={!this.state.canSelectCourse} {...util.getField.call(this,'courseId',{onChange:v=>{\r\n                  },rules:[{required:true,message:'必填'}]})} placeholder=\"请选择该学员的课程\" valueKey=\"id\" nameKey=\"coachName\" optionLabelProp=\"coursename\" columns={[\r\n                              {key:'coachName',title:'教练',width:'80px'},\r\n                              {key:'amount',title:'金额(元)',width:'80px',render:(v,r)=>`${r.remainAmount}/${v}`},\r\n                              {key:'times',title:'课时数',width:'80px',render:(v,r)=>`${r.remainTimes}/${v}`},\r\n                              {key:'lastTime',title:'上次训练时间',width:'90px',render:v=>util.formatDate(v)},\r\n                              {key:'remark',title:'课程备注',width:'100px'},\r\n                      ]} data={rec.courses} searchKey=\"coachName\" allowClear={false}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            \r\n            <Form.Item className=\"\" label=\"课时数\" required>\r\n              <InputNumber {...util.getField.call(this,'times',{rules:[{required:true,message:'必填'}]})} min={1} precision={0}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"课程备注\">\r\n                <Input {...util.getField.call(this,'remark',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport AddStudentModal from './addStudentModal';\r\nimport ModifyStudentModal from './modifyStudentModal';\r\nimport StudentConsumeModal from './studentConsumeModal';\r\nimport CourseListDrawer from './courseListDrawer';\r\nimport RechargeStudentModal from './rechargeStudentModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('refresh-student-table',()=>{\r\n      this.setState({expandedRowKeys:[]},()=>{\r\n        emitter.emit(`queryStudentTable`, undefined, true);\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'学员管理',\r\n      key:'Student',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'coachId',type:'custom',label:'教练',getComponent:props=><Select {...props} allowClear>{coaches.map(it=><Select.Option value={it.id} key={it.id}>{it.name}</Select.Option>)}</Select>}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addStudentModal')}><Icon type=\"plus\" />学员新增</Button>,\r\n          urls.map(it=>it.code).indexOf('downloadStudent')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/TrainOperation?opt=downloadStudent'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadStudent')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/TrainOperation?opt=uploadStudent'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryStudentTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'学员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'账户余额(元)'\r\n        },{\r\n          key:'courses',\r\n          width:'20%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            if(r.courses){\r\n            return r.courses.map((it,idx)=><Tooltip key={idx+'c'} title={<span>训练项目：{it.type}<br/>缴费金额(元)：{it.amount}</span>}><a className={\"course-item\"+(it.remainTimes==0?' empty':'')} onClick={()=>emitter.emit('show-course-list-drawer',r,it.id)}>{coaches.filter(c=>it.coachId==c.id)[0].name}({it.remainTimes}/{it.times})</a></Tooltip>);\r\n            }\r\n          },\r\n          label:'私教课程'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          label:'已训练记录数'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        if(rec.courses){\r\n          let remainCourses=rec.courses.filter(it=>it.remainTimes!==undefined);\r\n          if(remainCourses.length>0&&remainCourses.map(it=>+it.remainTimes).reduce((a,b)=>a+b)==0){\r\n             useEmpty=true;\r\n          }\r\n        }else{\r\n          useEmpty=true;\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('studentRecordModal',rec);\r\n        }}>登记训练</a>{rec.courses&&rec.courses.length>0&&<a onClick={()=>{\r\n          emitter.emit('rechargeStudentModal',rec);\r\n        }}>课程充值</a>}<a onClick={()=>{\r\n          emitter.emit('modifyStudentModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除学员？\" onConfirm={async ()=>{\r\n          let doDelete=(ids)=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudent',{id:rec.id,ids},res=>{\r\n              if(res.success){\r\n                message.success('删除学员成功');\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }\r\n          let billRes=await util.ajaxJsonAsync(urlPrefix+'BillOperation?opt=queryBill',{domain:'学员',billIdPrefix:'stuOpen'+rec.id+'-'});\r\n          if(!billRes.success)return;\r\n          if(billRes.data.totalItem>0){\r\n            Modal.confirm({\r\n              title:'同步删除账单确认？',\r\n              content:`系统监测到您已有${billRes.data.totalItem}笔学员开课充值账单录入，是否同步删除？`,\r\n              onOk:()=>doDelete(billRes.data.data.map(it=>it.id))\r\n            });\r\n          }else{\r\n            doDelete(billRes.data.data.map(it=>it.id));\r\n          }\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:(v,r)=>coaches.filter(it=>it.id==v)[0].name+(v===r.mainCoachId?'（主管教练）':'')},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'remainTimes',dataIndex:'remainTimes',title:'消费后余课(次)',render:(v,r,idx)=>{\r\n            let consumeTimes=0;\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              if(idx<=i){\r\n                consumeTimes+=recDs.data[i].consumeTimes;\r\n              }\r\n            }\r\n            let snapTimes=r.times-consumeTimes;\r\n            return `${snapTimes}/${r.times}`;\r\n          }},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'snapAmount',dataIndex:'snapAmount',title:'已累计消费(元)',render:(v,r,idx)=>{\r\n            let consumeAmount=0;\r\n            for(let i=0;i<recDs.data.length;i++){\r\n              if(idx<=i){\r\n                consumeAmount+=recDs.data[i].consumeAmount;\r\n              }\r\n            }\r\n            return `${consumeAmount}`;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n                emitter.emit(`queryStudentTable`, undefined, true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={false} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n          result.list.forEach(it=>{\r\n          });\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryStudent'},\r\n        // updateInterface:{func:urlPrefix+'TrainOperation?opt=updateStudent'},\r\n        // deleteInterface:{func:urlPrefix+'TrainOperation?opt=deleteStudent',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-student-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{studentId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddStudentModal />\r\n       <ModifyStudentModal />\r\n       <StudentConsumeModal />\r\n       <CourseListDrawer />\r\n       <RechargeStudentModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('addMemberModal', ()=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,applyTime:moment(),isVip:true,consumeNow:true};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(values.isVip&&!values.phone)return message.info('正式会员手机号必填');\r\n      values.memberType=!values.isVip?'临时会员':'正式会员';\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=insertMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`开户成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员开户`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk} disabled={this.state.loading}>\r\n            开户\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} /> <Switch checkedChildren=\"正式\" unCheckedChildren=\"临时\" {...util.getField.call(this,'isVip',{mode:'checkbox',onChange:checked=>{\r\n                  if(!checked){\r\n                    if(!formValues.name){\r\n                      formValues.name='临时会员-'+util.formatDate(new Date().getTime());\r\n                      formValues.billType='按次';\r\n                      formValues.remainTimes=1;\r\n                    }\r\n                  }else{\r\n                    if(formValues.name&&formValues.name.indexOf('临时会员')==0){\r\n                      formValues.name='';\r\n                    }\r\n                  }\r\n                  if(this.isFormFiledsValid===false)util.validateFields.call(this,()=>{});\r\n                  this.setState({formValues});\r\n                }})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} required={formValues.isVip}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"amount-f\" label=\"充值金额(元)\" required>\r\n              <MoneyField form={this} name=\"amount\"/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} /><Checkbox {...util.getField.call(this,'consumeNow',{mode:'checkbox',onChange:checked=>{\r\n                }})}>立即消费</Checkbox>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload onLoading={loading=>this.setState({loading})} message=\"会员\" quality={0.07} {...util.getField.call(this,'avatar')}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MyUpload from '../../common/fields/upload';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('modifyMemberModal', (rec)=>{\r\n        let formValues={...rec};\r\n        formValues.applyTime=moment(rec.applyTime);\r\n        formValues.roomId=rec.roomId+'';\r\n        delete formValues.recordCount;\r\n        delete formValues.amount;\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      if(values.billType=='按次'&&!values.remainTimes){\r\n        document.querySelector('.form-custom-id-remainTimes .ant-input-number-input').focus();\r\n        return message.info('按次计费必须填写会员次数');\r\n      }\r\n      if(!values.phone)return message.info('正式会员手机号必填');\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=updateMember', {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`会员修改`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Popconfirm key=\"1\" title=\"确认修改？对应的消费记录也将同步刷新\" onConfirm={this.handleOk}>{!this.state.loading&&<Button type=\"primary\" size=\"large\">\r\n            修改\r\n         </Button>}</Popconfirm>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\" required>\r\n                <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\" required={formValues.isVip}>\r\n                <PhoneField form={this} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"消费类型\" required>\r\n              <Select disabled {...util.getField.bind(this)('billType',{rules:[{required:true,message:'必填'}]})}>\r\n                {[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}].map(it=>{\r\n                  return <Select.Option key={it.key} value={it.key}>{it.text}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            {formValues.billType=='按次'&&<Form.Item className=\"\" label=\"会员次数\" required>\r\n                <InputNumber {...util.getField.call(this,'remainTimes')} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"开始时间\" required>\r\n                <DatePicker {...util.getField.call(this,'applyTime')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"照片\">\r\n              <MyUpload message=\"会员\" {...util.getField.call(this,'avatar')} onLoading={loading=>this.setState({loading})}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport {imagePrefix} from '../../common/fields/upload';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('memberConsumeModal', (rec)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,consumeTimes:1,gmtCreate:moment()};\r\n        this.setState({visible:true,formValues,rec});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      rec:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec} = this.state;\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=memberConsume', {...rec,...values}, res=>{\r\n        if(res.success){\r\n          message.success(`消费成功!`);\r\n          emitter.emit('refresh-memeber-expand');\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryMemberTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec} = this.state;\r\n  \treturn (<Modal title={`会员消费`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            消费\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"member-consume-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"会员名\">\r\n                {rec.name}\r\n                {rec.avatar&&<img alt=\"\" src={imagePrefix()+rec.avatar}></img>}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"手机号\">\r\n                {rec.phone}\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"会员类型\">\r\n                {rec.memberType}\r\n            </Form.Item>\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"剩余次数\" required>\r\n              {rec.remainTimes}\r\n            </Form.Item>}\r\n            {rec.billType=='按次'&&<Form.Item className=\"amount-f\" label=\"消费次数\" required>\r\n              <InputNumber {...util.getField.call(this,'consumeTimes',{rules:[{required:true,message:'必填'},{validator:v=>{\r\n                return (+v<=rec.remainTimes);\r\n              },message:'次数不足'}]})} min={1} precision={0}/>\r\n            </Form.Item>}\r\n            <Form.Item className=\"\" label=\"消费时间\" required>\r\n                <DatePicker showTime {...util.getField.call(this,'gmtCreate')} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\">\r\n              <Select {...util.getField.bind(this)('roomId',{})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,urls,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport AddMemberModal from './addMemberModal';\r\nimport ModifyMemberModal from './modifyMemberModal';\r\nimport MemberConsumeModal from './memberConsumeModal';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'会员管理',\r\n      key:'Member',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'phone'},{key:'name'},{key:'operator'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('addMemberModal')}><Icon type=\"plus\" />新建会员</Button>,urls.map(it=>it.code).indexOf('downloadMember')>-1&&<Popconfirm key=\"export\" title=\"确定要导出吗？\" onConfirm={()=>window.location.href=urlPrefix+'download/MemberOperation?opt=downloadMember'}><Button size=\"small\" className=\"search-button\"><Icon type=\"download\" />导出</Button></Popconfirm>,\r\n          urls.map(it=>it.code).indexOf('uploadMember')>-1&&<Upload key=\"file\" name=\"file\" className=\"search-button\" action={urlPrefix+'upload/MemberOperation?opt=uploadMember'} fileList={this.state.fileList} withCredentials onChange={res=>{\r\n            if (res.file.status=='done') {\r\n              if(res.file.response.success){\r\n                message.success(res.file.response.data);\r\n                emitter.emit(`queryMemberTable`);\r\n              }else{\r\n                message.error(`文件导入失败：${res.file.response.errMsg}`, 20);\r\n              }\r\n            } else if(res.file.status=='error') {\r\n              message.error(`文件上传错误`);\r\n            }\r\n            let {fileList}=res;\r\n            if(fileList&&fileList.length>1)fileList.splice(0,1);\r\n            this.setState({fileList});\r\n          }}>\r\n            <Tooltip title=\"一旦选中文件后即开始导入并生效，请确保excel文件数据的准确性！\"><Button size=\"small\" type=\"danger\"><Icon type=\"upload\" />导入</Button></Tooltip>\r\n          </Upload>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'会员名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{\r\n            maxLength:11\r\n          },\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'amount',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'充值金额'\r\n        },{\r\n          key:'billType',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:[{key:'按次',text:'按次'},{key:'包月',text:'包月'},{key:'包半年',text:'包半年'},{key:'包年',text:'包年'}],\r\n          label:'卡计费类型'\r\n        },{\r\n          key:'remainTimes',\r\n          width:'6%',\r\n          label:'剩余次数'\r\n        },{\r\n          key:'memberType',\r\n          width:'6%',\r\n          label:'会员类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'经办人'\r\n        },{\r\n          key:'applyTime',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'生效时间'\r\n        },{\r\n          key:'expireTime',\r\n          notInForm:true,\r\n          width:'8%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          label:'失效时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.billType=='按次'){\r\n          if(+rec.remainTimes<=0)\r\n            useEmpty=true;\r\n        }else{\r\n          if(rec.expireTime&&rec.expireTime<new Date().getTime()){\r\n            useEmpty=true;\r\n          }\r\n        }\r\n        return (<span><a disabled={useEmpty} onClick={()=>{\r\n          emitter.emit('memberConsumeModal',rec);\r\n        }}>消费</a><a onClick={()=>{\r\n          emitter.emit('modifyMemberModal',rec);\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除会员？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMember',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除会员成功');\r\n              emitter.emit(`queryMemberTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id);\r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"member-rec-table\" columns={[\r\n          {key:'gmtCreate',dataIndex:'gmtCreate',title:'消费时间',render:v=>util.formatDate(v)},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'次数'},\r\n          {key:'consumeType',dataIndex:'consumeType',title:'消费类型'},\r\n          {key:'roomId',dataIndex:'roomId',title:'球馆',render:v=>{\r\n            let room=rooms.filter(it=>it.id==v)[0];\r\n            if(room)return room.name;\r\n          }},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'MemberOperation?opt=deleteMemberBill',{memberId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'MemberOperation?opt=queryMember'},\r\n        // updateInterface:{func:urlPrefix+'MemberOperation?opt=updateMember'},\r\n        // deleteInterface:{func:urlPrefix+'MemberOperation?opt=deleteMember',params:{id:'id'}}\r\n      }\r\n    };\r\n    emitter.on('refresh-memeber-expand',this.refreshExpandRow);\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'MemberOperation?opt=queryMemberBill',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <AddMemberModal />\r\n       <ModifyMemberModal />\r\n       <MemberConsumeModal />\r\n      </div>\r\n    );\r\n  }\r\n}","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      // console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport zh_CN from 'antd/lib/locale-provider/zh_CN';\r\nimport \"moment/locale/zh-cn\";\r\nimport { ConfigProvider } from 'antd';\r\nimport './index.css';\r\nimport App from './entry/index/routes/IndexPage';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nlet script = document.createElement('script');\r\nscript.src='//at.alicdn.com/t/font_352877_bgyfvj39u6f.js';\r\ndocument.head.appendChild(script);\r\nReactDOM.render(<ConfigProvider locale={zh_CN}><App /></ConfigProvider>, document.getElementById('sportRoot'));\r\n// registerServiceWorker();\r\n","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nexport let bodyDomains=['会员','学员','教练','比赛','器材'];\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('billModal', (rec,options)=>{\r\n        let formValues={roomId:rooms.length>0?rooms[0].id+'':undefined,billTime:moment()};\r\n        if(rec){\r\n          formValues=rec;\r\n          formValues.billTime=moment(rec.billTime);\r\n          if(rec.roomId)formValues.roomId=rec.roomId+'';\r\n        }\r\n        this.setState({visible:true,formValues,rec,options});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      let {rec}=this.state;\r\n      util.ajaxJson(urlPrefix+'BillOperation?opt='+(rec?'fixBill':'addBill'), {rec:values}, res=>{\r\n        if(res.success){\r\n          message.success(`${rec?'调':'记'}账成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryBillTable`, undefined, true);\r\n    this.setState({visible:false,rec:undefined});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,rec,options} = this.state;\r\n  \treturn (<Modal title={`手工${rec?'调':'记'}账`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            {rec?'调':'记'}账\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"add-member-modal\">\r\n            <Form.Item className=\"\" label=\"主体域\" required>\r\n              <Select disabled={!options||!options.manual} {...util.getField.bind(this)('domain',{rules:[{required:true,message:'必填'}]})}>\r\n                {bodyDomains.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"进出账\" required>\r\n              <Select {...util.getField.bind(this)('io',{rules:[{required:true,message:'必填'}]})}>\r\n                {['收入','支出'].map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"分类\" required>\r\n              <Select {...util.getField.bind(this)('cate',{rules:[{required:true,message:'必填'}]})}>\r\n                {tenantConfig.billCates.map(it=>{\r\n                  return <Select.Option key={it} value={it}>{it}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"子分类\">\r\n                <Input {...util.getField.call(this,'subCate',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"金额(元)\" required>\r\n              <InputNumber {...util.getField.bind(this)('amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={2}/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"记账事由\" required>\r\n                <Input {...util.getField.call(this,'reason',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"备注\">\r\n                <Input {...util.getField.call(this,'relInfo',{})} />\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"开始时间\">\r\n                <DatePicker {...util.getField.call(this,'billTime')} showTime/>\r\n            </Form.Item>\r\n            <Form.Item className=\"\" label=\"球馆\" required>\r\n              <Select {...util.getField.bind(this)('roomId',{rules:[{required:true,message:'必填'}]})}>\r\n                {rooms.map(it=>{\r\n                  return <Select.Option key={it.id} value={it.id+''}>{it.name}</Select.Option>;\r\n                })}\r\n              </Select>\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon, DatePicker, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport BillModal,{bodyDomains} from './billModal';\r\nimport EditableField from '../../../components/pops/editableField';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport {allRoles,tenantConfig,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-bill/queryBill`,()=>{\r\n      emitter.emit('queryBillTable');\r\n    });\r\n    this.config = {\r\n      title:'账单管理',\r\n      key:'Bill',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'io'},{key:'domain'},{key:'cate'}],[{key:'subCate'},{key:'relInfo'},{key:'time',label:'时间范围',type:'custom',getComponent:(props,context)=>{\r\n          return <DatePick onChange={rangeValue=>{\r\n            props.onChange(rangeValue);\r\n          }}/>;\r\n        }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          if(queryParam.time&&queryParam.time.length>0){\r\n            queryParam.startTime=queryParam.time[0];\r\n            queryParam.endTime=queryParam.time[1];\r\n          }\r\n          return queryParam;\r\n        },\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('billModal',undefined,{manual:true})}><Icon type=\"plus\" />记账</Button>];\r\n          let {ioMap}=this.state;\r\n          if(ioMap){\r\n            let i=ioMap['收入'],o=ioMap['支出'];\r\n            if(i)extBtns.push(<span key=\"shouru\" className=\"bill-sum-tips i-color\">收入：{i.sumAmount}元，共{i.count}笔</span>);\r\n            if(o)extBtns.push(<span key=\"zhichu\" className=\"bill-sum-tips o-color\">支出：{o.sumAmount}元，共{o.count}笔</span>);\r\n          }\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'billTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'记账时间'\r\n        },{\r\n          key:'io',\r\n          width:'6%',\r\n          enums:['收入','支出'],\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'出入账'\r\n        },{\r\n          key:'amount',\r\n          width:'8%',\r\n          render:(v,r)=><span className={r.io=='收入'?'i-color':'o-color'}>{v}</span>,\r\n          label:'金额(元)'\r\n        },{\r\n          key:'domain',\r\n          width:'6%',\r\n          enums:bodyDomains,\r\n          label:'域'\r\n        },{\r\n          key:'cate',\r\n          width:'10%',\r\n          enums:tenantConfig.billCates,\r\n          label:'分类'\r\n        },{\r\n          key:'subCate',\r\n          width:'10%',\r\n          label:'子分类'\r\n        },{\r\n          key:'targetId',\r\n          width:'10%',\r\n          label:'消费主体'\r\n        },{\r\n          key:'reason',\r\n          width:'10%',\r\n          label:'事项'\r\n        },{\r\n          key:'relInfo',\r\n          width:'10%',\r\n          render:(v,r)=>{\r\n            return <EditableField value={v} onBlur={(v)=>{\r\n              util.ajaxJson(urlPrefix+'BillOperation?opt=updateRelInfo',{id:r.id,relInfo:v},res=>{\r\n                if(res.success){\r\n                  message.success('修改备注成功');\r\n                  r.relInfo=v;\r\n                }\r\n              });\r\n            }}/>\r\n          },\r\n          label:'备注'\r\n        },{\r\n          key:'status',\r\n          width:'4%',\r\n          enums:[{key:1,text:'生效'},{key:0,text:'作废'}],\r\n          label:'状态'\r\n        },{\r\n          key:'mode',\r\n          width:'4%',\r\n          label:'模式'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          label:'操作人'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('billModal',rec);\r\n        }}>调账</a><Popconfirm title=\"确定要删除账单吗？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'BillOperation?opt=removeBill',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit('queryBillTable', undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'0'};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:this.getFormData\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        lazyInit:true,\r\n        size:'small',\r\n        showTotal:true,\r\n        resultHandler:(result,queryParam)=>{\r\n          this.setState({ioMap:result.data.ioMap});\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'BillOperation?opt=queryBill'}\r\n      }\r\n    };\r\n    this.state={\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <BillModal/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport './index.less';\r\nexport default class CommonComp extends Component {\r\n\tconstructor(...args) {\r\n\t\tsuper(...args);\r\n\t    this.state={formValues:{}};\r\n\t}\r\n\trender(){\r\n\t\tlet {storageItemKey,value,onLoad,onSave,top,left,right,bottom,text,zIndex,position} = this.props;\r\n\t\tstorageItemKey = storageItemKey.replace('.','-');\r\n\t\tlet paramArr = [];\r\n\t    let loadParams = localStorage.getItem(storageItemKey);\r\n\t    if(loadParams){\r\n\t    \tparamArr = JSON.parse(loadParams);\r\n\t    }\r\n\t    let paramArrRevers = [];\r\n\t    for (let i = 0; i < paramArr.length;i++) {\r\n\t    \tparamArrRevers[i] = paramArr[paramArr.length - i - 1];\r\n\t    }\r\n\t    let content = <ul className={`save-btn-pop save-btn-pop-${storageItemKey}`}>\r\n\t  \t\t<li>名称:<Input {...util.getField.bind(this)('saveParamName')}/><Button type=\"primary\" size=\"small\" onClick={()=>{\r\n\t    \t\t\tparamArr.push({name:this.state.formValues.saveParamName,value,t:new Date().getTime()});\r\n\t    \t\t\tif(paramArr.length > 10){\r\n\t    \t\t\t\tparamArr.splice(0,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet paramsStr=JSON.stringify(paramArr);\r\n\t    \t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\tmessage.success(`保存${text?text:'参数'}成功!`);\r\n\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t    \t\t\tthis.setState({...this.state});\r\n\t            }}>保存</Button></li>\r\n\t  \t\t<div>\r\n\t  \t\t{paramArrRevers.map((p,idx)=>{\r\n\t  \t\t\treturn <div className=\"save-item\" key={idx}><a className=\"save-name-label\" title={p.name} onClick={()=>{\r\n\t  \t\t\t\tonLoad(p.value);\r\n\t  \t\t\t}}>{p.name}</a> <span title={p.value}>{util.formatDate(p.t,'MM-dd hh:mm:ss')}</span><Popconfirm title={<div>确定要删除[{p.name}]吗?</div>} onConfirm={()=>{\r\n\t\t\t\t\t    paramArr.splice(paramArr.length-1-idx,1);\r\n\t\t\t\t\t    let paramsStr=JSON.stringify(paramArr);\r\n\t\t\t\t\t\tlocalStorage.setItem(storageItemKey,paramsStr);\r\n\t\t\t\t\t\tif(onSave)onSave(paramsStr);\r\n\t  \t\t\t\t    this.setState({...this.state});\r\n\t  \t\t\t}} okText=\"确定\" cancelText=\"取消\"><a>删除</a></Popconfirm></div>;\r\n\t  \t\t})}\r\n\t  \t\t</div>\r\n\t  \t</ul>;\r\n\t    return <Popover title={`保存&加载${text?text:'参数'}`} content={content} trigger=\"click\"><a style={{top,left,right,bottom,position:position?position:'absolute',zIndex}}>保存{text!==undefined?text:'配置参数'}</a></Popover>;\r\n\t}\r\n}","import React, { Component } from 'react';\r\nimport copy from 'copy-to-clipboard';\r\nimport { emitter, util } from '../../../common/common';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport './index.less';\r\nimport Area,{getDisplayText} from './area';\r\nimport { pca, pcaa } from 'area-data';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport SaveParams from '../../../components/pops/saveParams';\r\n\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n        emitter.on('do-indicates-search',formValues=>{\r\n            this.setState({formValues},()=>{\r\n                this.doSearch(null,true);\r\n            });\r\n        });\r\n        this.state = {\r\n            formValues:{\r\n                // company_name:'丝芳'\r\n            },\r\n            disableSearch:false\r\n        };\r\n        \r\n    }\r\n\r\n    getIndicates=()=>{// 上层组件调用获取组件的数据\r\n        let {formValues}=this.state;\r\n        let {indicates}=this.props;\r\n        let indicatesMap={};\r\n        for(let k in formValues){\r\n            let indicate=indicates.filter(it=>it.key==k)[0];\r\n            let idx;\r\n            if((idx=k.indexOf('__'))>-1){\r\n                let newK=k.substring(0,idx);\r\n                indicate=indicates.filter(it=>it.key==newK)[0];\r\n                if(!indicate)continue;\r\n                indicatesMap[newK]=[formValues[newK+'__start']||null,formValues[newK+'__end']||null];\r\n                indicatesMap[newK+'--'+indicate.type]=true;\r\n            }else if(Array.isArray(formValues[k])){\r\n                if(!indicate)continue;\r\n                indicatesMap[k]=formValues[k].map(it=>{\r\n                    if(it&&it.valueOf)return it.valueOf();\r\n                    return it;\r\n                });\r\n                indicatesMap[k+'--'+indicate.type]=true;\r\n            }else{\r\n                if(formValues[k]===''||formValues[k]===null||formValues[k]===undefined)continue;\r\n                if(['prov','city','county'].indexOf(k)>-1){\r\n                    let text;\r\n                    if(k=='prov'){\r\n                        text=pca['86'][formValues[k]];\r\n                    }else if(k=='city'){\r\n                        text=pcaa[formValues.prov][formValues[k]];\r\n                    }else{\r\n                        text=pcaa[formValues.city][formValues[k]];\r\n                    }\r\n                    indicatesMap[k]=text;\r\n                }else{\r\n                    if(!indicate)continue;\r\n                    indicatesMap[k]=formValues[k];\r\n                    indicatesMap[k+'--'+indicate.type]=true;\r\n                }   \r\n            }\r\n        }\r\n        return indicatesMap;\r\n    }\r\n\r\n    onChange=e=>{\r\n        this.setState({disableSearch:false});\r\n        this.props.onChange(e);\r\n    }\r\n    doSearch=(e,reserveBtn)=>{\r\n        this.props.onSearch({queryCond:this.getIndicates()});\r\n        this.setState({disableSearch:!reserveBtn});\r\n    }\r\n\r\n    showSearchConds=()=>{\r\n        let {indicates}=this.props;\r\n        let {formValues}=this.state;\r\n        return <ul>{indicates.filter(it=>(!Array.isArray(formValues[it.key])&&formValues[it.key])||formValues[it.key+'__start']||formValues[it.key+'__end']||(Array.isArray(formValues[it.key])&&formValues[it.key].length>0)).map((indicate,idx)=><li key={'s-i-'+idx}>\r\n            <Tag color=\"geekblue\" closable onClose={(e)=>{\r\n                let {formValues}=this.state;\r\n                if(indicate.type=='Area'){\r\n                    formValues['prov']=undefined;\r\n                    formValues['city']=undefined;\r\n                    formValues['county']=undefined;\r\n                }else if(formValues[indicate.key]){\r\n                    formValues[indicate.key]=undefined;\r\n                }else{\r\n                    formValues[indicate.key+'__start']=undefined;\r\n                    formValues[indicate.key+'__end']=undefined;\r\n                }\r\n                this.setState({formValues,disableSearch:false});\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n            }}>{this.getTagContent(indicate,formValues)}</Tag>\r\n        </li>)}<SaveParams right={80} text=\"搜索条件\" storageItemKey=\"customer-search\" value={formValues} onLoad={values=>{\r\n            this.setState({formValues:values,disableSearch:false});\r\n        }} onSave={this.props.onSaveCond}/><Popconfirm title=\"确定要清除？\" okText=\"确定\" cancelText=\"取消\" onConfirm={()=>{\r\n            this.setState({formValues:{},disableSearch:false});\r\n        }}><a className=\"clear-search-cond\">清除搜索条件</a></Popconfirm></ul>;\r\n    }\r\n    getTagContent=(indicate,formValues)=>{\r\n        let {placeholder,type,key,enums,showTime}=indicate;\r\n        let formValue=formValues[key];\r\n        if(type=='Input'){\r\n            return <span>{placeholder}：{formValue}</span>;\r\n        }else if(type=='Select'){\r\n            if(indicate.multi){\r\n                return <span>{placeholder}：{formValue.map(it=>enums.filter(e=>e.key==it)[0].text).join(',')}</span>;\r\n            }\r\n            return <span>{placeholder}：{(enums.filter(it=>it.key==formValue)[0]||{}).text}</span>;\r\n        }else if(type=='RangePicker'){\r\n            return <span>{placeholder}：{util.formatDate(formValue[0].valueOf(),showTime?undefined:'yyyy-MM-dd')} ~ {util.formatDate(formValue[1].valueOf(),showTime?undefined:'yyyy-MM-dd')}</span>;\r\n        }else if(type=='Range'){\r\n            return <span>{placeholder}：{formValues[key+'__start']} ~ {formValues[key+'__end']}</span>;\r\n        }else if(type=='Area'){\r\n            return <span>{placeholder}：{getDisplayText(formValues.prov,formValues.city,formValues.county)}</span>;\r\n        }\r\n        \r\n    }\r\n\r\n    onCollapse=(keys)=>{\r\n        if(this.props.onCollapse){\r\n            this.props.onCollapse(!keys || keys.length==0);\r\n        }\r\n    }\r\n   \r\n    render() {\r\n        let {indicates}=this.props;\r\n        let {formValues,disableSearch}=this.state;\r\n        return <div className=\"indicates-c\" ref={el=>{\r\n                    this.indicatesUi = el;\r\n                }}>\r\n                <Collapse onChange={this.onCollapse} defaultActiveKey={['1']}>\r\n                    <Collapse.Panel header=\"搜索条件\" key=\"1\">\r\n                    <Form.Item label=\"搜索指标\" className=\"search-label\">\r\n                        <ul>\r\n                            {indicates.map((indicate,idx)=><li key={'indi-it'+idx} className={indicate.type}>\r\n                                {indicate.type=='Input'&&<Input onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key,{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Input>}\r\n                                {indicate.type=='Select'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><Select {...util.getField.call(this,indicate.key,{onChange:e=>{\r\n                                    if(indicate.onChange)indicate.onChange(e,this);\r\n                                    this.onChange(e);\r\n                                }})} mode={indicate.multi?'multiple':undefined} placeholder={indicate.placeholder} allowClear size=\"small\" {...indicate.props}>\r\n                {indicate.enums.map((enumItem,idx)=><Select.Option key={'enum'+idx} value={enumItem.key}>{enumItem.text}</Select.Option>)}\r\n                                </Select></Tooltip>}\r\n                                {indicate.type=='RangePicker'&&<Tooltip title={indicate.placeholder} mouseEnterDelay={0.8}><DatePicker.RangePicker {...util.getField.call(this,indicate.key,{onChange:this.onChange,mode:'RangePickerDate'})} showTime={indicate.showTime} placeholder={[indicate.placeholder,indicate.placeholder]} size=\"small\">\r\n                                </DatePicker.RangePicker></Tooltip>}\r\n                                {indicate.type=='Range'&&<div className=\"range-c\"><Tooltip title={indicate.placeholder+'起始值'} mouseEnterDelay={0.8}><InputNumber onPressEnter={this.doSearch} {...util.getField.call(this,indicate.key+'__start',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip><i>~</i><Tooltip title={indicate.placeholder+'截止值'} mouseEnterDelay={0.8}><InputNumber {...util.getField.call(this,indicate.key+'__end',{onChange:this.onChange})} placeholder={indicate.placeholder} size=\"small\" precision={indicate.precision}>\r\n                                </InputNumber></Tooltip></div>}\r\n                                {indicate.type=='Area'&&<Area context={this} onChange={this.onChange} placeholder={indicate.placeholder} size=\"small\">\r\n                                </Area>}\r\n                            </li>)}\r\n                        </ul>\r\n                    </Form.Item>\r\n                    <Button type=\"primary\" size=\"small\" className=\"search-btn\" onClick={this.doSearch} disabled={disableSearch}>搜索</Button>\r\n                    <Form.Item label=\"当前搜索条件\" className=\"search-label\">{this.showSearchConds()}</Form.Item>\r\n                    </Collapse.Panel>\r\n                </Collapse>\r\n            </div>;\r\n    }\r\n\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Form,Select,Tag} from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {Consumer} from './index';\r\nimport EditableField from '../../components/pops/editableField';\r\nexport default class BizComp extends Component {\r\n\r\n\tonChange=()=>{\r\n\t\tlet {formValues} = this.parentContainer.state;\r\n\t\tthis.props.onChange(formValues);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn <Consumer>\r\n\t\t\t{parentContainer=>{\r\n\t\t\t\tthis.parentContainer = parentContainer;\r\n\t\t\t\tlet {formValues} = parentContainer.state;// 本身就是个立体对象，很直观，但需要指定前缀：从根对象formValues开始(不含根对象)的ognl表达式，推荐方式\r\n\t\t\t\treturn <div className=\"contact-c\">\r\n\t\t\t\t\t  {formValues.contacts&&formValues.contacts.map((contact,idx)=>{\r\n\t\t\t\t\t  \treturn <Tag key={'contact'+idx} className=\"contact-item\" closable onClose={(e)=>{\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tModal.confirm({\r\n\t\t\t\t\t\t\t\ttitle:'确定删除',\r\n\t\t\t\t\t\t\t\tcontent:'确定删除该联系人？',\r\n\t\t\t\t\t\t\t\tonOk:()=>{\r\n\t\t\t\t\t\t\t\t\tformValues.contacts.splice(idx,1);\r\n\t\t\t\t\t\t\t\t\tparentContainer.setState({formValues});\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  }}>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系人姓名\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactName',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t\t<Form.Item label=\"联系方式\">\r\n\t\t\t\t\t\t  \t\t<Select size=\"small\" {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactType',contact,{rules:[{validator:(v)=>{\r\n\t\t\t\t\t\t  \t\t\treturn !!v;\r\n\t\t\t\t\t\t  \t\t},message:\"必填\"}],onChange:this.onChange})}>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"电话\">电话</Select.Option>\r\n\t\t\t\t\t\t  \t\t\t<Select.Option value=\"钉钉\">钉钉</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"微信\">微信</Select.Option>\r\n\t\t\t\t\t\t\t\t\t<Select.Option value=\"旺旺\">旺旺</Select.Option>\r\n\t\t\t\t\t\t  \t\t</Select>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系号码\">\r\n\t\t\t\t\t\t\t\t<EditableField onBlur={(v)=>{\r\n\t\t\t\t\t\t\t\t\tcontact.mobile_no=v;\r\n\t\t\t\t\t\t\t\t\tthis.onChange();\r\n\t\t\t\t\t\t\t\t}} onCall={this.props.onCall} value={contact.mobile_no} contactType={contact.contactType}/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item label=\"联系人身份\">\r\n\t\t\t\t\t\t  \t\t<Input size=\"small\" onBlur={this.onChange} onPressEnter={this.onChange} {...util.getSubField.bind(parentContainer)(`contacts[${idx}]`,'contactLevel',contact)}/>\r\n\t\t\t\t\t  \t\t</Form.Item>\r\n\t\t\t\t\t  \t</Tag>;\r\n\t\t\t\t\t  })}\r\n\t\t\t\t\t  <a onClick={()=>{\r\n\t\t\t\t\t  \tlet {contacts} = formValues;\r\n\t\t\t\t\t  \tif(!contacts){\r\n\t\t\t\t\t  \t\tcontacts=[];\r\n\t\t\t\t\t  \t\tformValues.contacts = contacts;\r\n\t\t\t\t\t  \t}\r\n\t\t\t\t\t  \tcontacts.push({});\r\n\t\t\t\t\t  \tparentContainer.setState({formValues});\r\n\t\t\t\t\t  }}>添加联系人</a>\r\n\t\t\t\t</div>;\r\n\t\t\t}}\r\n\t\t</Consumer>;\r\n\t}\r\n}\r\n","import React,{Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {message,Input,Modal,Form,Button} from 'antd';\r\nimport './index.less';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix} from '../../interfaces/interfaces';\r\nimport Contacts from './contact';\r\nconst BizContext = React.createContext();\r\nexport const {Provider, Consumer} = BizContext;\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.state={\r\n      formValues:{\r\n        contacts:this.props.data||[]\r\n      }\r\n    };\r\n  }\r\n  componentDidUpdate(preProps){\r\n\t\tif(this.props.data!=preProps.data){\r\n\t\t\tlet {formValues}=this.state;\r\n\t\t\tformValues.contacts=this.props.data;\r\n\t\t\tthis.setState({formValues});\r\n\t\t}\r\n  }\r\n\r\n  onChange=formValues=>{\r\n    let contacts;\r\n    if(formValues){\r\n      contacts=formValues.contacts;\r\n    }\r\n    this.props.onChange(contacts);\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <Provider value={this}>\r\n        <div className=\"contact-form\">\r\n            <label>联系人信息：</label>\r\n            <Contacts onChange={this.onChange} onCall={this.props.onCall}/>\r\n        </div>\r\n      </Provider>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport {projects} from './index';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('gameModal', (rec,opt)=>{\r\n        let formValues={project:'乒乓',ballMates:[{},{},{}]};\r\n        if(opt=='modify'){\r\n          formValues=rec;\r\n          formValues.time=[moment(rec.startTime),moment(rec.endTime)];\r\n          rec.ballMates.forEach(it=>it.id=it.id+'');\r\n        }\r\n        this.setState({visible:true,formValues,opt});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{\r\n      },\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=(e,finish)=>{\r\n    let {opt}=this.state;\r\n    util.validateFields.call(this,async values=>{\r\n      let {ballMates}=values;\r\n      let rec={...values};\r\n      rec.startTime=util.formatDate(rec.time[0]);\r\n      rec.endTime=util.formatDate(rec.time[1]);\r\n      delete rec.ballMates;\r\n      delete rec.time;\r\n      ballMates=ballMates.filter(it=>it.id);\r\n      if(ballMates.length<1){\r\n        return message.warning('至少有一个球友');\r\n      }\r\n      let res=await util.ajaxJsonAsync(urlPrefix+'GameOperation?opt='+(opt=='add'?'createGame':'updateGame'),{rec,ballMates,finish});\r\n      if(res.success){\r\n        message.success((finish?'完结':'保存')+'成功');\r\n        this.handleCancel();\r\n      }\r\n    });\r\n  }\r\n  handleCancel=()=>{\r\n    emitter.emit(`queryGameTable`, undefined, true);\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  onMateRowClick=(add,i)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    if(add){\r\n      ballMates.splice(i+1,0,{});\r\n    }else{\r\n      if(ballMates.length==1)return message.warn('至少保留一行');\r\n      ballMates.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onBallMateChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    ballMates[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelectedMates=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {ballMates}=formValues;\r\n    let selectedMates=[];\r\n    for(let i=0;i<ballMates.length;i++){\r\n      if(i!=idx&&ballMates[i].id){\r\n        selectedMates.push(ballMates[i].id+'');\r\n      }\r\n    }\r\n    return selectedMates;\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues,opt} = this.state;\r\n  \treturn (<Drawer title={`${opt=='add'?'新建':'修改'}比赛`} className=\"modal-form\" visible={visible} width={1200} destroyOnClose onClose={this.handleCancel} placement=\"right\" maskClosable={false} getContainer={false}>\r\n          <Form className=\"add-member-modal\">\r\n            <Row>\r\n              <Form.Item className=\"memberName-f\" label=\"比赛名称\" required>\r\n                  <Input {...util.getField.call(this,'name',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛时间\" required>\r\n                  <DatePicker.RangePicker showTime={{defaultValue:[moment().hour(10).startOf('hour'),moment().hour(16).startOf('hour')]}} disabledDate={current=>current && current < moment().endOf('day')} {...util.getField.call(this,'time',{rules:[{required:true,message:'必填'}]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Row>\r\n              <Form.Item className=\"\" label=\"比赛项目\">\r\n                  <Select {...util.getField.call(this,'project',{})}>\r\n                    {projects.map(it=><Select.Option key={it}>{it}</Select.Option>)}\r\n                  </Select>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"比赛规则\">\r\n                  <Input {...util.getField.call(this,'rule',{rules:[]})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"比赛描述\" required>\r\n                <Input {...util.getField.call(this,'gameDesc',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            <Row>\r\n              <Form.Item className=\"amount-f\" label=\"投入成本\" required>\r\n                <MoneyField form={this} name=\"cost\" hideLabel/>\r\n              </Form.Item>\r\n              <Form.Item className=\"\" label=\"备注\">\r\n                  <Input {...util.getField.call(this,'remark',{})} />\r\n              </Form.Item>\r\n            </Row>\r\n            <Form.Item className=\"\" label=\"参赛选手\">\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onMateRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`ballMates[${idx}]`,'id',formValues.ballMates[idx])} onSelected={(v,r)=>this.onBallMateChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入球友名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          {key:'score',title:'当前积分',width:'80px'}]} excludeValues={this.getSelectedMates(idx)} urlSuffix=\"GameOperation?opt=queryBallMate\" searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'getScore',dataIndex:'getScore',title:'获得积分',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"本次比赛的积分\" precision={0} {...util.getSubField.call(this,`ballMates[${idx}]`,'getScore',r)}/></span>}]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.ballMates}/>\r\n            </Form.Item>\r\n          </Form>\r\n          <Button key=\"1\" type=\"primary\" onClick={this.handleOk}>\r\n            保存\r\n          </Button>\r\n          {opt=='modify'&&<Popconfirm title=\"完结后积分将更新到球友身上，且无法再做修改，确认无误？\" onConfirm={(e)=>this.handleOk(e,true)}><Button type=\"primary\">\r\n            完结比赛\r\n          </Button></Popconfirm>}\r\n          <Button key=\"2\" type=\"ghost\" onClick={this.handleCancel}>\r\n            取消\r\n          </Button>\r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Upload, Popconfirm} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,urls,allStaffs,rooms, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport GameModal from './gameModal';\r\nexport let projects=['乒乓'];\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.config = {\r\n      title:'比赛管理',\r\n      key:'Game',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n        conditions:[[{key:'startTime',label:'开始时间',type:'datetime'},{key:'endTime',label:'截止时间',type:'datetime'}]],\r\n        extButtons:()=>{\r\n          let extBtns=[<Button key=\"1\" type=\"primary\" size=\"small\" className=\"search-button\" onClick={()=>emitter.emit('gameModal',undefined,'add')}><Icon type=\"plus\" />新建比赛</Button>];\r\n          return extBtns.filter(it=>!!it);\r\n        },\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n            key:'gameDesc',\r\n            width:'30%',\r\n            label:'比赛描述'\r\n        },{\r\n            key:'project',\r\n            width:'6%',\r\n            enums:projects,\r\n            label:'比赛项目'\r\n        },{\r\n          key:'rule',\r\n          width:'20%',\r\n          label:'比赛规则'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:0,text:'未完成'},{key:1,text:'已完成'}],\r\n          label:'状态'\r\n        },{\r\n          key:'time',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(r.startTime),\r\n          label:'比赛时间'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        let useEmpty=false;\r\n        if(rec.amount<=0){\r\n          useEmpty=true;\r\n        }\r\n        return (<span style={{display:rec.status==1?'none':undefined}}><a onClick={()=>{\r\n          emitter.emit('gameModal',rec,'modify');\r\n        }}>修改</a>{!rec.recordCount&&<Popconfirm title=\"确定删除比赛？\" onConfirm={()=>{\r\n          util.ajaxJson(urlPrefix+'GameOperation?opt=deleteGame',{id:rec.id},res=>{\r\n            if(res.success){\r\n              message.success('删除成功');\r\n              emitter.emit(`queryGameTable`, undefined, true);\r\n            }\r\n          });\r\n        }}><a>删除</a></Popconfirm>}</span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {};\r\n        },\r\n        beforeModify:formData=>{\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          formData.ext=JSON.stringify({staffs:formData.staffs});\r\n          delete formData.staffs;\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'coachId',dataIndex:'coachId',title:'教练',render:v=>coaches.filter(it=>it.id==v)[0].name},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow();\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}]} rowKey={r=>r.id} dataSource={recDs.data} pagination={recDs.totalItem<=10?false:{total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'GameOperation?opt=queryGame'}\r\n      }\r\n    };\r\n    this.state={\r\n      fileList:[],\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=()=>{\r\n    let {expandedRowKeys}=this.state;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      util.ajaxJson(urlPrefix+'GameOperation?opt=queryBallMate',{memberId:expandedRowKeys[0]},res=>{\r\n        this.setState({recDs:res.data});\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <GameModal />\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms} from '../../../entry/index/routes/IndexPage';\r\nimport MoneyField from '../../common/fields/money';\r\nimport PhoneField from '../../common/fields/phone';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('changePassModal', ()=>{\r\n        let formValues={};\r\n        this.setState({visible:true,formValues});\r\n      \r\n    });\r\n  \tthis.state={\r\n      formValues:{},\r\n      visible:false\r\n  \t};\r\n  }\r\n\r\n  handleOk=()=>{\r\n    util.validateFields.call(this,values=>{\r\n      util.ajaxJson(urlPrefix+'SysUserFramework?opt=changePwd', {...values}, res=>{\r\n        if(res.success){\r\n          message.success(`修改成功!`);\r\n          this.handleCancel();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  handleCancel=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,formValues} = this.state;\r\n  \treturn (<Modal title={`系统用户修改密码`} className=\"modal-form\" visible={visible} width={600} destroyOnClose onCancel={this.handleCancel} maskClosable={false} footer = {\r\n        [<Button key=\"1\" type=\"primary\" size=\"large\" onClick={this.handleOk}>\r\n            修改\r\n         </Button>,\r\n         <Button key=\"2\" type=\"ghost\" size=\"large\" onClick={this.handleCancel}>\r\n            取消\r\n         </Button>]\r\n      }>\r\n          <Form className=\"change-pass-modal\">\r\n            <Form.Item className=\"memberName-f\" label=\"密码\" required>\r\n                <Input {...util.getField.call(this,'pass',{rules:[{required:true,message:'必填'}]})} />\r\n            </Form.Item>\r\n            \r\n          </Form>\r\n      </Modal>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select, Form} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin} from '../../../entry/index/routes/IndexPage';\r\nimport ChangePass from './changePass';\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    this.config = {\r\n      title:'人员组织',\r\n      key:'sysUser',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'phone'},{key:'role',type:'custom',getComponent:(props)=>(<Select {...props} mode={undefined}>{allRoles.map(it=><Select.Option key={it.id+''} value={it.id+''}>{it.name}</Select.Option>)}</Select>)}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          this.queryParam=queryParam;\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'10%',\r\n          label:'姓名'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'role',\r\n          width:'20%',\r\n          enums:allRoles.map(it=>({key:it.id,text:it.name})),\r\n          rules:[{required: true, message: '必填'}],\r\n          multi:true,\r\n          label:'角色'\r\n        },{\r\n          key:'status',\r\n          width:'10%',\r\n          enums:[{key:'1',text:'生效'},{key:'0',text:'失效'}],\r\n          label:'状态'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationAddon:rec=>{\r\n        return (<span><a onClick={()=>emitter.emit('changePassModal', rec)}>改密码</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          if(formData.role&&formData.role.length>0){\r\n            if(Array.isArray(formData.role)){\r\n              formData.role=','+formData.role.join(',')+',';\r\n            }\r\n          }else{\r\n            formData.role=undefined;\r\n          }\r\n          return formData;\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.role){\r\n              it.role=it.role.split(',').filter(it=>!!it);\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'SysUserFramework?opt=querySysUser'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=updateSysUser'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=insertSysUser'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'SysUserFramework?opt=deleteSysUser',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      formValues:{}\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ChangePass/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport SelectTable from '../../../components/select/selectTable';\r\nimport '../../game/game/index.less';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-class-student-drawer', (rec)=>{\r\n      this.doLoadData(rec);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      formValues:{\r\n        records:[]\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec)=>{\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:rec.id},res=>{\r\n      if(res.success){\r\n          let records=res.data.data;\r\n          records&&records.forEach(it=>it.id=it.id+'');\r\n          if(!records||records.length==0)records=[{amount:rec.price},{amount:rec.price},{amount:rec.price}];\r\n          let {formValues}=this.state;\r\n          formValues.records=records;\r\n          this.setState({visible:true,rec,formValues});\r\n      }\r\n   });\r\n  }\r\n\r\n  onSave=()=>{\r\n    let {rec,formValues}=this.state;\r\n    let {records}=formValues;\r\n    records=records.filter(it=>it.id);\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=saveClassStudents',{classId:rec.id,records},res=>{\r\n      if(res.success){\r\n        message.success(`成功保存了${res.data}个学生到班级中`);\r\n        emitter.emit('queryClassTable',undefined,true);\r\n        this.onClose();\r\n      }\r\n    });\r\n  }\r\n\r\n  onClose=()=>{\r\n    this.setState({visible:false});\r\n  }\r\n  onCloseConfirm=()=>{\r\n      Modal.confirm({\r\n          title:\"关闭确认\",\r\n          content:\"确定要未保存就退出吗？\",\r\n          onOk:this.onClose\r\n      });\r\n  }\r\n\r\n  onRowClick=(add,i)=>{\r\n    let {formValues,rec}=this.state;\r\n    let {records}=formValues;\r\n    if(add){\r\n      records.splice(i+1,0,{amount:rec.price});\r\n    }else{\r\n      if(records.length==1)return message.warn('至少保留一行');\r\n      records.splice(i,1);\r\n    }\r\n    this.setState({formValues});\r\n  }\r\n  onRowChange=(v,r,idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    if(records.filter(it=>it.id==v).length>0){\r\n      message.warn(`该选择【${r.name}】未生效，因为已经在列表中，出现了重复`);\r\n      return false;\r\n    }\r\n    records[idx].phone=r?r.phone:undefined;\r\n    this.setState({formValues});\r\n    return true;\r\n  }\r\n  getSelected=(idx)=>{\r\n    let {formValues}=this.state;\r\n    let {records}=formValues;\r\n    let selecteds=[];\r\n    for(let i=0;i<records.length;i++){\r\n      if(i!=idx&&records[i].id){\r\n        selecteds.push(records[i].id+'');\r\n      }\r\n    }\r\n    return selecteds;\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,formValues} = this.state;\r\n    let coach=coaches.filter(it=>it.id==rec.coachId)[0];\r\n    let validCount=formValues.records.filter(it=>it.id).length;\r\n  \treturn (<Drawer title={`班级【${rec.name}】学员管理`} visible={visible} width={800} className=\"class-students-drawer\" placement=\"left\" onClose={this.onCloseConfirm} destroyOnClose maskClosable={false}>\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"班级信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"班级名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"班主任\">{coach&&coach.name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"开始时间\">{util.formatDate(rec.startTime,'yyyy-MM-dd')}</Form.Item>\r\n                      <Form.Item label=\"结束时间\">{util.formatDate(rec.endTime,'yyyy-MM-dd')}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"报名费(元)\">{rec.price}</Form.Item>\r\n                      <Form.Item label=\"总计(元)\">{formValues.records.filter(it=>it.amount&&it.id).map(it=>it.amount).reduce((a,b)=>a+b,0)}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`班级学员列表 （${validCount}个）`} key=\"2\" showArrow={false}>\r\n                <Table className=\"form-table\" columns={[\r\n                    {key:'opt',title:<Icon type=\"usergroup-delete\" />,width:'64px',render:(v,r,i)=>\r\n                      <div className=\"table-opt-col\"><span className=\"idx\">{i+1}</span><span className=\"btns show-off-i\"><Button icon=\"plus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(true,i)}></Button><Button icon=\"minus\" size=\"small\" shape=\"round\" onClick={()=>this.onRowClick(false,i)}></Button></span></div>},\r\n                    {key:'id',dataIndex:'id',title:'学员姓名',width:'30%',render:(v,r,idx)=>\r\n                        <SelectTable {...util.getSubField.call(this,`records[${idx}]`,'id',formValues.records[idx])} onSelected={(v,r)=>this.onRowChange(v,r,idx)} className={v?'':\"show-off-i\"} placeholder=\"请输入学生名或手机号查找\" valueKey=\"id\" nameKey=\"name\" columns={[\r\n                          {key:'name',title:'名称',width:'120px'},\r\n                          {key:'phone',title:'手机',width:'120px'},\r\n                          ]} excludeValues={this.getSelected(idx)} urlSuffix=\"TrainOperation?opt=queryStudent\" initRecords={formValues.records.filter(it=>it.id&&it.name)} searchKey=\"namePhone\" allowClear={false}/>},\r\n                    {key:'phone',dataIndex:'phone',title:'手机',width:'30%'},\r\n                    {key:'amount',dataIndex:'amount',title:'缴费金额(元)',width:'20%',render:(v,r,idx)=><span className={v?'':\"show-off-i\"}><InputNumber placeholder=\"报名费\" precision={0} {...util.getSubField.call(this,`records[${idx}]`,'amount',r)}/></span>}\r\n                    ]}\r\n                rowKey={(r,id)=>id} size=\"small\" dataSource={formValues.records} pagination={false}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Popconfirm title={`确定提交这${validCount}个学生？`} onConfirm={this.onSave}><Button type=\"primary\">保存</Button></Popconfirm>\r\n            <Button onClick={this.onCloseConfirm}>取消</Button>\r\n          </div>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,InputNumber,Popover,Icon,Select,Popconfirm, Switch, DatePicker} from 'antd';\r\nimport './index.less';\r\nimport moment from 'moment';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs, coaches} from '../../../entry/index/routes/IndexPage';\r\nimport ClassStudentListDrawer from './classStudentListDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on('rich-editor-save-'+'classDesc',({content,rec})=>{\r\n      util.ajaxJson(urlPrefix+'TrainOperation?opt=updateClass',{rec:{id:rec.id,introduction:content}},res=>{\r\n        emitter.emit(`query${this.config.key}Table`,undefined,true);\r\n        if(res.success)message.success('保存成功');\r\n      });\r\n    });\r\n    this.config = {\r\n      title:'班级管理',\r\n      key:'Class',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'班级名称'\r\n        },{\r\n          key:'coachId',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          enums:coaches.map(it=>({key:it.id+'',text:it.name})),\r\n          label:'班主任'\r\n        },{\r\n          key:'price',\r\n          width:'6%',\r\n          type:'custom',\r\n          notInTable:true,\r\n          getComponent:props=><InputNumber {...props}/>,\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'报名费(元)'\r\n        },{\r\n          key:'introduction',\r\n          width:'20%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            return <div><a onClick={()=>emitter.emit('open-rich-editor-drawer', {key:'classDesc',content:v, title:'班级日志',rec:r})}>编辑</a><br/><div dangerouslySetInnerHTML={{__html:v}}></div></div>;\r\n          },\r\n          label:'班级日志'\r\n        },{\r\n          key:'recordCount',\r\n          width:'6%',\r\n          notInForm:true,\r\n          render:(v,r)=>{\r\n            return <a onClick={()=>emitter.emit('show-class-student-drawer',r)}>{v?v:0}</a>;\r\n          },\r\n          label:'学员数'\r\n        },{\r\n          key:'startTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'开始时间'\r\n        },{\r\n          key:'endTime',\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v,'yyyy-MM-dd'),\r\n          rules:[{required: true, message: '必填'},{validator:(v,values)=>{\r\n            if(v&&values.startTime&&values.startTime.valueOf()>v.valueOf()){\r\n              return false;\r\n            }\r\n            return true;\r\n          },message:'截止时间不能在开始时间之前'}],\r\n          type:'custom',\r\n          getComponent:props=><DatePicker {...props}/>,\r\n          label:'结束时间'\r\n        },{\r\n          key:'project',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'operator',\r\n          width:'6%',\r\n          notInForm:true,\r\n          label:'经办人'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-class-student-drawer',record);\r\n        }}>学员管理</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {project:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.startTime=moment(formData.startTime);\r\n          formData.endTime=moment(formData.endTime);\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studentName',dataIndex:'studentName',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'amount',dataIndex:'amount',title:'缴费金额(元)'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          ]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryClass'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateClass'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertClass'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteClass',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryClassStudents',{classId:expandedRowKeys[0],currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <ClassStudentListDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Form,InputNumber, DatePicker,Tag,Switch,Checkbox,Drawer,Collapse, Row, Popconfirm} from 'antd';\r\nimport moment from 'moment';\r\nimport ReactToPrint from 'react-to-print';\r\nimport './index.less';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs,rooms,coaches,name,tenantConfig} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nclass BizComponent extends Component {\r\n  constructor(...args) {\r\n  \tsuper(...args);\r\n  \temitter.on('show-coach-settlement-drawer', (rec)=>{\r\n      let {formValues}=this.state;\r\n      formValues.timeVal='30';\r\n      this.setState({formValues});\r\n      let rangeValue=[moment(moment().month(moment().month()).startOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss'),moment(moment().month(moment().month()).endOf('month').valueOf()).format('YYYY-MM-DD HH:mm:ss')];\r\n      this.doLoadData(rec,rangeValue);\r\n        \r\n    });\r\n  \tthis.state={\r\n      visible:false,\r\n      studentRecords:[],\r\n      studentNames:[],\r\n      formValues:{\r\n        timeVal:'30'\r\n      },\r\n      rec:{}\r\n  \t};\r\n  }\r\n\r\n  doLoadData=(rec,rangeValue)=>{\r\n    this.rangeValue=rangeValue;\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:rec.id,startTime:rangeValue[0],endTime:rangeValue[1]},res=>{\r\n      if(res.success){\r\n          let studentRecords=res.data.data,studentNames=[];\r\n          studentRecords.sort((a,b)=>{\r\n            if(a.studentId-b.studentId == 0){\r\n              return a.id-b.id;\r\n            }\r\n            return a.studentId-b.studentId;\r\n          });\r\n          studentRecords.forEach(it=>{\r\n            if(studentNames.indexOf(it.studentName)==-1)studentNames.push(it.studentName);\r\n          });\r\n          this.setState({visible:true,rec,studentRecords,studentNames});\r\n      }\r\n   });\r\n  }\r\n\r\n  doSettlement=()=>{\r\n    let {studentRecords,rec} = this.state;\r\n    let hide=message.loading('结算中...');\r\n    util.ajaxJson(urlPrefix+'TrainOperation?opt=doSettlement',{coachId:rec.id,recIds:studentRecords.map(it=>it.id),total:this.getTotal(),roomId:studentRecords[0].roomId},res=>{\r\n      hide();\r\n      if(res.success){\r\n        message.success('结算成功');\r\n        this.doLoadData(rec,this.rangeValue);\r\n      }\r\n    });\r\n  }\r\n\r\n  getTotal=(totalFlag)=>{\r\n    let {studentRecords} = this.state;\r\n    let total=Math.round(studentRecords.filter(it=>totalFlag?true:it.billed!=1).map(this.getSettleAmount).reduce((a,b)=>a+b,0));\r\n    return total;\r\n  }\r\n\r\n  getSettleAmount=r=>{\r\n    let rate=tenantConfig.coachRate;\r\n    if(r.mainCoachId==r.coachId){\r\n      rate=tenantConfig.majorCoachRate;\r\n    }\r\n    return r.consumeAmount*rate/100;\r\n  }\r\n\r\n  onClose=()=>{\r\n      this.setState({visible:false});\r\n  }\r\n\r\n  render() {\r\n    let {visible,rec,studentRecords,formValues,studentNames} = this.state;\r\n    let total=this.getTotal(true),toSettleAmount=this.getTotal(false);\r\n  \treturn (<Drawer title={`教练【${rec.name}】结算`} visible={visible} width={800} className=\"settlement-course-drawer\" placement=\"left\" onClose={this.onClose} destroyOnClose >\r\n          <div className=\"settlement-course-print\" ref={el=>this.printEl=el}>\r\n            <Collapse defaultActiveKey={['1','2']}>\r\n              <Collapse.Panel header=\"结算信息\" key=\"1\" showArrow={false} className=\"settle-info-collapse\">\r\n                  <Row>\r\n                      <Form.Item label=\"教练名\">{rec.name}</Form.Item>\r\n                      <Form.Item label=\"结算金额\">{total}元{toSettleAmount>0&&<span> ({toSettleAmount}元未结算)</span>}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"时间\"><DatePick modeType=\"select\" validValues={['30','-30','100']} value={formValues.timeVal} onChange={(rangeValue,timeVal)=>{\r\n                        let {formValues}=this.state;\r\n                        formValues.timeVal=timeVal;\r\n                        this.setState({formValues});\r\n                        if(!rangeValue)return;\r\n                        this.doLoadData(rec,rangeValue);\r\n                      }}/></Form.Item>\r\n                      <Form.Item label=\"经办人\">{name}</Form.Item>\r\n                  </Row>\r\n                  <Row>\r\n                      <Form.Item label=\"学员\" className=\"students\">{studentNames.join(', ')}</Form.Item>\r\n                  </Row>\r\n              </Collapse.Panel>\r\n              <Collapse.Panel header={`训练记录 （${studentRecords.length}次）`} key=\"2\" showArrow={false}>\r\n                  <Table pagination={false} rowKey={r=>r.id} dataSource={studentRecords} size=\"small\" columns={[\r\n            {key:'studentName',dataIndex:'studentName',title:'学生名'},\r\n            {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n            {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n            {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n            {key:'rate',dataIndex:'rate',title:'分成',render:(v,r)=>r.mainCoachId==r.coachId?`${tenantConfig.majorCoachRate}%(主管)`:`${tenantConfig.coachRate}%`},\r\n            {key:'settleAmount',dataIndex:'settleAmount',title:'结算金额(元)',render:(v,r)=>{\r\n              return this.getSettleAmount(r);\r\n            }},\r\n            {key:'billed',dataIndex:'billed',title:'已结算',render:(v,r)=>v==1?'是':'否'},\r\n            {key:'operator',dataIndex:'operator',title:'经办人'},\r\n            ]}/>\r\n              </Collapse.Panel>\r\n            </Collapse>\r\n            <Form.Item label=\"总计\" className=\"total-amount\">{total}元</Form.Item>\r\n          </div>\r\n          <ReactToPrint documentTitle={`教练【${rec.name}】结算单`}\r\n            trigger={() => {\r\n              return <Button type=\"primary\">打印</Button>;\r\n            }}\r\n            content={() => this.printEl}\r\n          />\r\n          <Button disabled={studentRecords.length==0 || toSettleAmount==0} type=\"primary\" onClick={()=>Modal.confirm({title:\"确认结算？\",content:`结算后，会生成一笔￥${toSettleAmount}的支出账单，且培训记录将不可删除，请确认已与教练【${rec.name}】完成了当面结算！`,onOk:this.doSettlement})}>结算</Button>\r\n          \r\n      </Drawer>);\r\n  }\r\n}\r\n\r\nexport default BizComponent;","import React,{Component} from 'react';\r\nimport {message,Input,Modal,Table,Button,Tooltip,Popover,Icon,Select,Popconfirm, Switch} from 'antd';\r\nimport './index.less';\r\nimport copy from 'copy-to-clipboard';\r\nimport {util,emitter} from '../../../common/common';\r\nimport BizComp from '../../../components/common';\r\nimport {urlPrefix,urlProductPrefix} from '../../../interfaces/interfaces';\r\nimport {allRoles,isAdmin,allStaffs} from '../../../entry/index/routes/IndexPage';\r\nimport DatePick from '../../../components/select/datePick';\r\nimport SettlementDrawer from './settlementDrawer';\r\n\r\nexport default class BizComponent extends Component {\r\n  constructor(...args) {\r\n    super(...args);\r\n    emitter.on(`menu-clicked-train/coach`,()=>{\r\n      emitter.emit('queryCoachTable');\r\n    });\r\n    this.config = {\r\n      title:'教练管理',\r\n      key:'Coach',\r\n      dialog:{width:1060},\r\n      queryCond:{\r\n      conditions:[[{key:'name'},{key:'onlyTrain',label:'仅有训练记录',type:'custom',options:{mode:'checkbox'},getComponent:props=><Switch {...props} onChange={(v)=>{\r\n        if(props.onChange)props.onChange(v);\r\n        emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n        this.refreshExpandRow(false);\r\n      }}></Switch>},\r\n        {key:'time',label:'时间范围',type:'custom',shouldDisplay:(context)=>context.state.formValues.onlyTrain,getComponent:(props,context)=>{\r\n        return <DatePick onChange={rangeValue=>{\r\n          props.onChange(rangeValue);\r\n          emitter.emit(`on${this.config.key}QueryBtnClick`,true);\r\n          this.refreshExpandRow(false);\r\n        }}/>;\r\n      }}]],\r\n        beforeQuery:queryParam=>{\r\n          queryParam = queryParam || {};\r\n          return queryParam;\r\n        },\r\n        size:'small'\r\n      },\r\n      fields:[\r\n        {\r\n          key:'id',\r\n          rowKey:true,\r\n          notInForm:true,\r\n          notInTable:true,\r\n          label:'id'\r\n        },{\r\n          key:'name',\r\n          width:'6%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'名称'\r\n        },{\r\n          key:'phone',\r\n          width:'10%',\r\n          props:{maxLength:11},\r\n          rules:[{required: true, message: '必填'},{validator:v=>{\r\n            return /^1[0-9]{10}$/.test(v);\r\n          },message:'必须为1开头的11位手机号'}],\r\n          label:'手机号'\r\n        },{\r\n          key:'introduction',\r\n          width:'20%',\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'简介'\r\n        },{\r\n          key:'score',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          label:'积分'\r\n        },{\r\n          key:'unitPrice',\r\n          width:'6%',\r\n          type:'number',\r\n          props:{min:0,precision:0},\r\n          rules:[{required: true, message: '必填'}],\r\n          label:'课时单价'\r\n        },{\r\n          key:'type',\r\n          width:'6%',\r\n          enums:[{key:'乒乓',text:'乒乓'}],\r\n          label:'类型'\r\n        },{\r\n          key:'status',\r\n          width:'6%',\r\n          enums:[{key:'1',text:'在职'},{key:'0',text:'离职'}],\r\n          label:'类型'\r\n        },{\r\n          key:'gmtModified',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'修改时间'\r\n        },{\r\n          key:'gmtCreate',\r\n          notInForm:true,\r\n          width:'10%',\r\n          render:(v,r)=>util.formatDate(v),\r\n          label:'创建时间'\r\n        }\r\n      ],\r\n      operationPrefix:record=>{\r\n        return (<span><a onClick={()=>{\r\n          emitter.emit('show-coach-settlement-drawer',record);\r\n        }}>结算</a></span>);\r\n      },\r\n      form:{\r\n        col:1,\r\n        beforeAdd:formData=>{\r\n          return {status:'1',type:'乒乓'};\r\n        },\r\n        beforeModify:formData=>{\r\n          formData.status=formData.status+'';\r\n          return formData;\r\n        },\r\n        beforeSubmit:formData=>{\r\n          return formData;\r\n        },\r\n        afterSubmit:()=>{\r\n          emitter.emit('init-user-info');\r\n        }\r\n      },\r\n      table:{\r\n        bordered:true,\r\n        size:'small',\r\n        expandedRowKeys:()=>this.state.expandedRowKeys,\r\n        expandIcon:(pops)=>{\r\n          let {expandedRowKeys}=this.state;\r\n          let expanded=expandedRowKeys.indexOf(pops.record.id)>-1;\r\n          if(!pops.record.recordCount)return;\r\n          return <Icon type={expanded?\"minus-square\":\"plus-square\"} onClick={()=>{\r\n            let {expandedRowKeys}=this.state;\r\n            if(expanded){\r\n              expandedRowKeys=[];\r\n            }else{\r\n              expandedRowKeys=[];\r\n              expandedRowKeys.push(pops.record.id); \r\n            }\r\n            this.setState({expandedRowKeys},this.refreshExpandRow);\r\n          }}/>\r\n        },\r\n        expandedRowRender:(record, index, indent, expanded)=>{\r\n          let {recDs}=this.state;\r\n          return <Table className=\"student-rec-table\" columns={[\r\n          {key:'studyTime',dataIndex:'studyTime',title:'训练时间',render:v=>util.formatDate(v)},\r\n          {key:'studentName',dataIndex:'studentName',title:'学员'},\r\n          {key:'phone',dataIndex:'phone',title:'学员手机'},\r\n          {key:'consumeTimes',dataIndex:'consumeTimes',title:'课时数'},\r\n          {key:'consumeAmount',dataIndex:'consumeAmount',title:'消费金额(元)'},\r\n          {key:'billed',dataIndex:'billed',title:'是否结算',render:v=>v==1?'已结算':'未结算'},\r\n          {key:'billedTime',dataIndex:'billedTime',title:'结算时间',render:v=>util.formatDate(v)},\r\n          {key:'billedOperator',dataIndex:'billedOperator',title:'结算人'},\r\n          {key:'operator',dataIndex:'operator',title:'经办人'},\r\n          {key:'opt',dataIndex:'opt',title:'操作',render:(v,r)=><span>{r.billed!=1&&<Popconfirm title=\"确定要删除？\" onConfirm={()=>{\r\n            util.ajaxJson(urlPrefix+'TrainOperation?opt=deleteStudentRecord',{studentId:record.id,id:r.id},res=>{\r\n              if(res.success){\r\n                message.success('删除流水成功');\r\n                this.refreshExpandRow(true);\r\n              }\r\n            });\r\n          }}><a>删除</a></Popconfirm>}</span>}]} rowKey={r=>r.id} dataSource={recDs.data} onChange={(recPagination)=>{\r\n            this.setState({recPagination},()=>this.refreshExpandRow(true));\r\n          }} pagination={recDs.totalItem<=10?false:{...this.state.recPagination,total:recDs.totalItem}} size=\"small\"/>;\r\n        },\r\n        resultHandler:(result,queryParam)=>{\r\n          result.list=result.data.data;\r\n          result.list.forEach(it=>{\r\n            if(it.ext){\r\n              it.staffs=JSON.parse(it.ext).staffs;\r\n            }\r\n          });\r\n          result.totalItem=result.data.totalItem;\r\n        }\r\n      },\r\n      api:{\r\n        queryInterface:{func:urlPrefix+'TrainOperation?opt=queryCoach'},\r\n        updateInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=updateCoach'}:undefined,\r\n        insertInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=insertCoach'}:undefined,\r\n        deleteInterface:isAdmin?{func:urlPrefix+'TrainOperation?opt=deleteCoach',params:{id:'id'}}:undefined\r\n      }\r\n    };\r\n    this.state={\r\n      expandedRowKeys:[],\r\n      recDs:{totalItem:0}\r\n    };\r\n  }\r\n\r\n  refreshExpandRow=(retainPage)=>{\r\n    let {expandedRowKeys,recPagination}=this.state;\r\n    if(!recPagination)recPagination={current:1,pageSize:10};\r\n    if(!retainPage)recPagination.current=1;\r\n    if(expandedRowKeys&&expandedRowKeys.length>0){\r\n      emitter.emit(`get${this.config.key}QueryCondForm`,(queryParam={})=>{\r\n        let {time,onlyTrain}=queryParam;\r\n        util.ajaxJson(urlPrefix+'TrainOperation?opt=queryStudentRecord',{coachId:expandedRowKeys[0],onlyTrain,coach:true,time,currentPageNum:recPagination.current,pageSize:recPagination.pageSize},res=>{\r\n          this.setState({recDs:res.data});\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n       <BizComp config={this.config}/>\r\n       <SettlementDrawer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Upload,Icon,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport Compressor from 'compressorjs';\r\nimport { emitter, util } from '../../../common/common';\r\nimport { urlPrefix } from '../../../interfaces/interfaces';\r\nimport {tenantId} from '../../../entry/index/routes/IndexPage';\r\nexport let imagePrefix=()=>'https://cdn.jsdelivr.net/gh/kkccww21/static@master/pic/'+tenantId+'/';\r\nlet uid=0;\r\nexport default class BizComponent extends Component {\r\n    static defaultProps = {\r\n        fileSize:1,\r\n        quality:0.5,\r\n        onLoading:loading=>{}\r\n    };\r\n    constructor(...args) {\r\n        super(...args);\r\n        let fileList=[];\r\n        if(this.props.value){\r\n            fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n        }\r\n        this.state = {\r\n            previewVisible: false,\r\n            previewImage: '',\r\n            fileList\r\n        };\r\n    }\r\n    \r\n\r\n    componentDidUpdate(preProps){\r\n      if(this.props.value!=preProps.value){\r\n        let {fileList}=this.state;\r\n              if(this.props.value){\r\n                  if(!fileList||fileList.length==0){\r\n                      fileList=[{name:this.props.value,status:'done',url:imagePrefix()+this.props.value,uid:uid++}];\r\n                  }\r\n              }else{\r\n                  fileList=[];\r\n              }\r\n              this.setState({fileList});\r\n      }\r\n    }\r\n\r\n    handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n    handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n          file.preview = await util.getFileBase64(file.originFileObj);\r\n        }\r\n    \r\n        this.setState({\r\n          previewImage: file.url || file.preview,\r\n          previewVisible: true,\r\n        });\r\n    }\r\n\r\n    handleChange = ({ fileList }) => {\r\n        this.setState({ fileList });\r\n    };\r\n\r\n    render() {\r\n        let {fileSize}=this.props;\r\n        const { previewVisible, previewImage, fileList } = this.state;\r\n        const uploadButton = (\r\n          <div>\r\n            <Icon type=\"plus\" />\r\n            <div className=\"ant-upload-text\">上传</div>\r\n          </div>\r\n        );\r\n        return (\r\n          <div className=\"clearfix\">\r\n            <Upload\r\n              listType=\"picture-card\"\r\n              fileList={fileList} withCredentials\r\n              onPreview={this.handlePreview}\r\n              accept=\"image/png, image/jpeg\"\r\n              onChange={this.handleChange}\r\n              customRequest={({onProgress,onError,onSuccess,filename,file})=>{\r\n                let hide=message.loading('文件上传中...', 20);\r\n                this.props.onLoading(true);\r\n                new Compressor(file, {\r\n                    quality:this.props.quality,\r\n                    success:async (result)=> {\r\n                        let base64Str=await util.getFileBase64(result);\r\n                        let key=util.guid()+'.jpg';\r\n                        let res=await util.ajaxJsonAsync(urlPrefix+'SysUserFramework?opt=uploadFile',{key,type:result.type,message:this.props.message,content:base64Str.substring(base64Str.indexOf(\";base64,\") + 8)});\r\n                        this.props.onLoading(false);\r\n                        if(res.success){\r\n                            message.success('上传成功！');\r\n                            onSuccess(res);\r\n                            if(fileSize==1){\r\n                                this.props.onChange(key);\r\n                            }else{}\r\n\r\n                            let img=new Image();\r\n                            img.src=imagePrefix()+key;// cdn预热一下\r\n                            hide();\r\n                        }else{\r\n                            message.error('上传失败');\r\n                            onError();\r\n                            hide();\r\n                        }\r\n                    },\r\n                    error(err) {\r\n                      message.error('压缩失败:' + err);\r\n                      hide();\r\n                    },\r\n                });\r\n              }}\r\n            >\r\n              {fileList.length >= fileSize ? null : uploadButton}\r\n            </Upload>\r\n            <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\r\n              <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n            </Modal>\r\n          </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nimport './index.less';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    amountTags=[{color:'blue',value:50},{color:'cyan',value:100},{color:'green',value:200},{color:'gold',value:500},{color:'orange',value:1000}];\r\n    render() {\r\n        let {name,form,hideLabel}=this.props;\r\n        let {formValues}=form.state;\r\n        return <>\r\n            <InputNumber {...util.getField.call(form,name?name:'amount',{rules:[{required:true,message:'必填'}]})} min={0} precision={0}/>\r\n            {!hideLabel&&this.amountTags.map(it=><Tag className=\"money-tag\" key={'tag'+it.value} color={it.color} onClick={()=>{\r\n            let {formValues}=form.state;\r\n            if(isNaN(formValues.amount))formValues.amount=0;\r\n            formValues.amount=formValues.amount+it.value;\r\n            form.setState({formValues},()=>util.validateFields.call(form,()=>{},['amount']));\r\n            }}>{it.value}</Tag>)}\r\n            {formValues.amount>0&&util.convertToChinaNum(formValues.amount)&&<span className=\"amount-tip\">{util.convertToChinaNum(formValues.amount)}元</span>}\r\n        </>;\r\n    }\r\n}","\r\n/**\r\n * 接口管理模块\r\n */\r\nexport let domain = 'localhost:8184';\r\nexport let productDomain = '47.118.49.154';\r\nif(window.location.href.indexOf('47.118.49.154')>-1||window.location.href.indexOf('kkccww21.gitee.io')>-1||window.location.href.indexOf('qiyun')>-1){\r\n\tif(window.location.href.indexOf('qiyun')>-1){\r\n\t\tproductDomain=window.location.host;\r\n\t}\r\n\tdomain=productDomain;\r\n}\r\nif(window.location.href.indexOf('192.168.')>-1){// 本地局域网调试\r\n\tdomain=window.location.host.replace(':3000','')+':8184';\r\n}\r\n\r\nwindow.isProd=function(){\r\n\treturn isProductUrl(domain);\r\n};\r\nwindow.isDebug=function(){\r\n\treturn window.location.hash&&window.location.hash.indexOf('.debug') > -1;\r\n}\r\nwindow.cannotDo=function(){\r\n\treturn window.isProd();\r\n};\r\n\r\nlet basePathSuffix='flow/biz/';\r\n\r\nexport let prefix = '//' + domain + '/';\r\nexport let productPrefix = '//' + productDomain + '/';\r\n\r\nexport function isProductUrl(url){\r\n\tif(url){\r\n\t\tif(url.indexOf('localhost')>-1)return false;\r\n\t}\r\n\tif(domain==productDomain)return true;\r\n\treturn url&&!url.startsWith('pre')&&url.indexOf('alibaba-inc.com') > -1;\r\n}\r\nconst interfacesData = {\r\n    \r\n};\r\n\r\nlet interfaces = interfacesData;\r\n\r\nexport default interfaces;\r\nexport let urlPrefix = prefix + basePathSuffix;\r\nexport let urlProductPrefix = productPrefix+basePathSuffix;","import React, { Component } from 'react';\r\nimport {message,Input,Modal,Button,Form,Select,Collapse,Popconfirm,Tooltip,Popover,DatePicker,InputNumber,Tag } from 'antd';\r\nimport { emitter, util } from '../../../common/common';\r\nexport default class BizComponent extends Component {\r\n    constructor(...args) {\r\n        super(...args);\r\n    }\r\n    render() {\r\n        let {name,form,required}=this.props;\r\n        return <>\r\n            <Input maxLength={11} {...util.getField.call(form,name?name:'phone',{rules:[{required:required===undefined?true:required,message:'必填'},{validator:v=>{\r\n                if(!v)return true;\r\n                return /^1[0-9]{10}$/.test(v);\r\n              },message:'必须为1开头的11位手机号'}]})} />\r\n        </>;\r\n    }\r\n}","import React, {Component, PropTypes} from 'react';\r\nimport {Select,message,Table } from 'antd';\r\nimport {util,emitter} from '../../common/common';\r\nimport {prefix,urlPrefix,domain,productDomain,productPrefix} from '../../interfaces/interfaces';\r\nimport './index.less';\r\n\r\nexport default class BizComp extends Component {\r\n    static defaultProps = {\r\n        searchKey : 'searchText',\r\n        columns:[{key:'id'},{key:'name'}],\r\n        optionLabelProp:'name'\r\n    };\r\n  constructor(...args) {\r\n    super(...args);\r\n    // this.doSearch('');\r\n    this.state={\r\n        dataSource:[]\r\n    };\r\n  }\r\n\r\n  doSearch=(v)=>{\r\n    let {urlSuffix,searchKey,excludeValues,data}=this.props;\r\n    if(data){\r\n        let dataSource=data.filter(it=>{\r\n            for(let k in it){\r\n                if(it[k]&&(typeof it[k]=='string'||typeof it[k]=='number')&&(it[k]+'').indexOf(v)>-1){\r\n                    return true;\r\n                }\r\n            }\r\n        });\r\n        setTimeout(()=>{\r\n            this.setState({dataSource,searchInput:v});\r\n        },10);\r\n        \r\n    }else{\r\n        util.ajaxJson(urlPrefix+urlSuffix,{[searchKey]:v,excludeValues:v?undefined:excludeValues,noPaging:true},res=>{\r\n            if(res.success){\r\n                let dataSource;\r\n                if(Array.isArray(res.data)){\r\n                    dataSource=res.data;\r\n                }else{\r\n                    dataSource=res.data.data;\r\n                }\r\n                this.setState({dataSource,searchInput:v});\r\n            }\r\n        });\r\n    }\r\n    \r\n  }\r\n  hightLight=v=>{\r\n    if(v){\r\n        if(v.type&&v.props)return v;\r\n        let value=this.state.searchInput+'',colValue=(v+'');\r\n        let idx=colValue.indexOf(value);\r\n        if(idx>-1){\r\n            return <span>{colValue.substring(0,idx)}<span className=\"hight-light\">{value}</span>{colValue.substring(idx+value.length)}</span>;\r\n        }\r\n    }\r\n    return v;\r\n}\r\n\r\n  render(){\r\n    let {columns,width,onChange,value,valueKey,nameKey,onSelected,excludeValues,allowClear,optionLabelProp,initRecords}=this.props;\r\n    let {open,dataSource,searchInput}=this.state;\r\n    if(!searchInput&&excludeValues&&excludeValues.length>0){// 过滤已选择的\r\n        dataSource=dataSource.filter(it=>excludeValues.indexOf(it[valueKey]+'')==-1);\r\n    }\r\n    if(initRecords&&!searchInput&&dataSource.length==0&&initRecords.length>0){// 兜底展示防空\r\n        dataSource=initRecords;\r\n    }\r\n    return (<Select ref={el=>this.el=el} optionLabelProp={optionLabelProp} filterOption={false} className=\"selecttable-select\" dropdownClassName=\"selecttable-dropdown\" firstActiveValue={dataSource.length>0?dataSource[0][valueKey]+'':undefined} {...this.props} value={value} showSearch style={{width:width?width:'100%'}} open={open} dropdownMatchSelectWidth={false} onDropdownVisibleChange={open=>{\r\n            if(open&&!value){\r\n                this.doSearch('');\r\n            }\r\n            this.setState({open});\r\n        }} onChange={e=>{\r\n            let goOn=true;\r\n            if(onSelected){\r\n                goOn=onSelected(e,dataSource.filter(it=>it[valueKey]==e)[0]);\r\n            }\r\n            if(goOn)onChange(e);\r\n        }} onSearch={v=>{\r\n            this.doSearch(v);\r\n        }} allowClear={allowClear}>\r\n          <Select.Option disabled key=\"-1\"><table className=\"selectTable\" style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><thead className=\"ant-table-thead\"><tr>{columns.filter(c=>!c.hidden).map(c=><th className=\"ant-table-row-cell-break-word\" key={c.key}><div>{c.title}</div></th>)}</tr></thead></table></Select.Option>\r\n          {dataSource.map((it,idx)=>{\r\n            let hasSelected=false;\r\n            if(excludeValues&&excludeValues.indexOf(it[valueKey]+'')>-1)hasSelected=true;// 已选择过的重复的，样式变一下\r\n            return <Select.Option key={'so'+idx} value={it[valueKey]+''} name={it[nameKey]} {...{[optionLabelProp]:it[optionLabelProp]}}>\r\n                <table className={\"selectTable\" + (hasSelected?' selectedTable':'')} style={{width:'100%'}}><colgroup>{columns.filter(c=>!c.hidden).map((c,idx)=><col key={'col'+idx} style={{width:c.width,minWidth:c.width}}></col>)}</colgroup><tbody className=\"ant-table-tbody\"><tr>{columns.filter(c=>!c.hidden).map((c,idx)=><td className=\"ant-table-row-cell-break-word\" key={c.key}>{this.hightLight(c.render?c.render(it[c.key],it,idx):it[c.key])}</td>)}</tr></tbody></table>\r\n            </Select.Option>;\r\n          })}\r\n        </Select>);\r\n  }\r\n}"],"sourceRoot":""}